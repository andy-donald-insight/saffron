Saffron 3 - Formats
===================

This document describes the formats used and generated by Saffron 3. <br/>All formats are in JSON
and we will describe the properties each files has, with a link to an example (as found in the [examples](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/) folder)

## Input formats

### Corpus  ([corpus.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/corpus.json))
------

A collection of documents. A corpus has the following properties

* `documents`: An array of documents in the corpus

### Document 

A single document in a corpus. At least one of the following four must
be present

* `file`: A string referring to the original version of this document on disk
* `id`: A unique string to identify the document
* `url`: The URL of the file
* `contents`: The text contents of the file

In addition the following may be provided

* `name`: The human readable name of the document
* `mime_type`: The MIME type of the document
* `authors`: An array of authors of this document
* `metadata`: An object containing any other properties

### Author

A single author of a document in a corpus.

* `id`: A unique string to identify the author (optional)
* `name`: The author's name (required)
* `name_variants`: An array of strings given other known variants of the name

### Config ([config.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/config.json))

## Ouput formats


### Topics and Topics-Extracted ([topics.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/topics.json) and [topics-extracted.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/topics-extracted.json))

Each element in these two files represents a single term extracted from the corpus. The files contains the following annotations

* `topic_string`: The string that names the topic (must be unique)
* `occurrences`: The total number of occurrences of a topic in the corpus
* `matches`: The number of documents in the corpus containing this topic
* `score`: The importance of the topic to this corpus (between 0 and 1)
* `status`: Whether the term was validated or not (see the [Review mode](https://gitlab.insight-centre.org/saffron/saffron/wikis/Review-mode) documentation). Default to **none**
* `mv_list`: A list of alternative (morphological variants) forms of this 
topic string
   * `string`: The form of this variant
* `originalTopic`: TBD



### Doc-Topic

### Topic-Sim ([topic-sim.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/topic-sim.json))

This file gathers and compares all pair of terms extracted in the previous stage. Each element describes one edge, ie. a relation between two terms, and their similarity score (see the [pairwise scoring](https://gitlab.insight-centre.org/saffron/saffron/wikis/saffron-approach#211-pairwise-scoring) step for more explanation on how this is calculated).

* `topic1_id`: The first topic's topic string
* `topic2_id`: The second topic's topic string
* `similarity`: The similarity of the two topics 
* `status`: Whether the relation was validated or not during the Review mode (see the [Review mode](https://gitlab.insight-centre.org/saffron/saffron/wikis/Review-mode) documentation). Default to **mone**

## Taxonomy ([taxonomy.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/taxonomy.json))

This file represents the whole taxonomy. Each element describes a term and how it is related to other terms in the taxonomy. 
The file contains the following:

* `root`: The topic string of this topic or `HEAD_TOPIC` for the root of the taxonomy
* `score`: The weighting given to the root topic
* `linkScore`: The likelihood of the link from this topic to its root being correct
* `originalParent`: The parent assigned before the latest edition (see [Review mode](https://gitlab.insight-centre.org/saffron/saffron/wikis/Review-mode))
* `originalTopic`: 
* `children`: A list of children of this node (these are also Taxonomy objects)
* `status`:
* `parent`:



If authors are present in the original corpus:
### Author-Topics
### Author-Sim




Author-Author
-------------

An edge in the author-author graph

* `author1_id`: The ID of the first author
* `author2_id`: The ID of the second author
* `similarity`: The similarity score between these authors

Author-Topic
------------

An edge linking an author to a topic

* `author_id`: The ID of the author
* `topic_id`: The topic string of the topic
* `matches`: The number of times this topic is used in documents by this author
* `occurrences`: The number of documents by this author containing the topic
* `tfirf`: The Term Frequency-Inverse Research Frequency (See "Domain adaptive 
extraction of topical hierarchies for Expertise Mining" (Georgeta Bordea (2013)) 
for evaluations of different methods)
* `score`: The score of the this linking
* `researcher_score`: Score for author's ranking for this particular topic

Document-Topic ([doc-topics.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/doc-topics.json))
--------------

The connection between a document and a topic

* `document_id`: The ID of the document
* `topic_string`: The topic string of the topic
* `occurrences`: The number of times this topic occurs in this document
* `pattern`: The pattern used to match the topic
* `acronym`: The acronym form (if any)
* `score`: The weight of this link
* `tfidf`: Saffron internal value
* `unembedded_occ`: Saffron internal value



