Saffron 3 - Formats
===================

This document describes the formats used and generated by Saffron 3. <br/>All formats are in JSON
and we will describe the properties each files has, with a link to an example (as found in the [examples](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/) folder)

## Input formats

### Corpus  ([corpus.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/corpus.json))
------

A collection of documents. A corpus has the following properties

* `documents`: An array of documents in the corpus

### Document 

A single document in a corpus. At least one of the following four must
be present

* `file`: A string referring to the original version of this document on disk
* `id`: A unique string to identify the document
* `url`: The URL of the file
* `contents`: The text contents of the file

In addition the following may be provided

* `name`: The human readable name of the document
* `mime_type`: The MIME type of the document
* `authors`: An array of authors of this document
* `metadata`: An object containing any other properties

### Author

A single author of a document in a corpus.

* `id`: A unique string to identify the author (optional)
* `name`: The author's name (required)
* `name_variants`: An array of strings given other known variants of the name

### Config ([config.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/config.json))

## Ouput formats


### Terms ([terms.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/terms.json))

Each element in these two files represents a single term extracted from the corpus. The files contains the following annotations

* `term_string`: The string that names the term (must be unique)
* `occurrences`: The total number of occurrences of a term in the corpus
* `matches`: The number of documents in the corpus containing this term
* `score`: The importance of the term to this corpus (between 0 and 1)
* `status`: Whether the term was validated or not (see the [Review mode](https://gitlab.insight-centre.org/saffron/saffron/wikis/Review-mode) documentation). Default to **none**
* `mv_list`: A list of alternative (morphological variants) forms of this 
term string
   * `string`: The form of this variant



### Doc-Terms ([doc-terms.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/doc-terms.json))

* `document_id`: A unique string to identify the document, made up of the document filename (preceded by _zip_filename if the dataset is submitted as a .zip file)  
* `term_string`: The string that names the term (must be unique)
* `occurrences`: The number of occurrences of the term in the single document


### Term-Sim ([term-sim.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/term-sim.json))

This file gathers and compares all pair of terms extracted in the previous stage. Each element describes one edge, ie. a relation between two terms, and their similarity score (see the [pairwise scoring](https://gitlab.insight-centre.org/saffron/saffron/wikis/saffron-approach#211-pairwise-scoring) step for more explanation on how this is calculated).

* `term1_id`: The first term's term string
* `term2_id`: The second term's term string
* `similarity`: The similarity of the two terms 
* `status`: Whether the relation was validated or not during the Review mode (see the [Review mode](https://gitlab.insight-centre.org/saffron/saffron/wikis/Review-mode) documentation). Default to **none**

## Taxonomy ([taxonomy.json](https://gitlab.insight-centre.org/saffron/saffron/blob/saffron_development/examples/taxonomy.json))

This file represents the whole taxonomy. Each element describes a term and how it is related to other terms in the taxonomy. 
The file contains the following:

* `root`: The term string of this term or `HEAD_TERM` for the root of the taxonomy
* `score`: The weighting given to the root term
* `linkScore`: The likelihood of the link from this term to its root being correct
* `children`: A list of children of this node (these are also Taxonomy objects)
* `status`:
* `parent`:



If authors are present in the original corpus as metadat:
### Author-Terms

An edge linking an author to a term

* `author_id`: The ID of the author
* `term_id`: The term string of the term
* `matches`: The number of times this term is used in documents by this author
* `occurrences`: The number of occurrences of the term by this author
* `paper_count`: The number of documents from the author containing this term
* `tfirf`: The Term Frequency-Inverse Research Frequency (See "Domain adaptive 
extraction of topical hierarchies for Expertise Mining" (Georgeta Bordea (2013)) 
for evaluations of different methods)
* `score`: The score of the this linking
* `researcher_score`: Score for author's ranking for this particular term

### Author-Sim

???
-------------

An edge in the author-author graph

* `author1_id`: The ID of the first author
* `author2_id`: The ID of the second author
* `similarity`: The similarity score between these authors








