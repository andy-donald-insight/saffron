NATURALL ANGUAGE IN PUTTOACOMPUTER-BASED
GLAU COMACONSULTATION SYST ~
Victor B . Cieslelski , Department of Computer Science,
Rutgers University . New Brunswick , N.J.
Abstract : A " FrontEnd " for a Computer-Based Glaucoma Consultation System is described  . The system views a case as a description of a particular instance of a class of concepts called " structured objects " and builds up a representation of the instance from the sentences in the case  . The information required by the consultation system is then extracted and passed onto the consultation system in the appropriately coded form  . A core of syntact lc , semantic end contextual rules which are applicable to all structured objects is being developed together with a representation of the structured object GLAU COMA-PATIENT  . There is also a facility for adding domain dependent syntax  , abbreviations and defaults . 
system that has a core of syntax and semantics that is applicable to all structured objec ts and which can be extended by domain spec if ic syntax  , idioms and defaults . 
Considerable work on the interpretation of hospital discharge summaries  , which are very similar to case descriptions , has been done by a group at NYU\[Sager 1978\] . Their work has focused on the creation of formatted databases for subsequent question answering and is syntaxbased  . The research reported here is concerned with ext racting from the case the information understandable by a consultation system and is primarily knowledge based  . 
I . STRUCTURED OBJECTS
During the past decade a number of Medical Consultation systems have been developed  , for example INTERNIST\[Pople . Myers and Miller 1973\] , CASNET/GLAUCOMA\[Weissst . al . 1978\], MYCIN\[Shortliffe1976\] . Currently still others are being developed . Some of these programs are reaching a stage where they are being used in hospitals and clinics  . Such use brings with it the need for fast and natural communication with these programs for the reporting of the " clinical state " of the patient  . 
This includes laboratory findings , symptoms , medications and certain history data . Ideally the reporting would be done by speech but this is currently beyond the state of the art in speech understanding  . A more reasonable goal is to try to capture the physicians " written " Natural Language " for describing patients and to write programs to convert these descriptions to the appropriate coded input to the consultation systems  . 
The original motivation for this research came from the desire to have natural language input of cases to CASNET/GLAU COMA a computer-based glaucoma consultation system developed at Retgers University  . A case is several paragraphs of sentences , written by a physician , which describe a patient who has glaucoma or who is suspected of having glaucoma  . It was desired to have a " Natural Language Front -End " which could interpret the cases and pass the content to the consultation system  . 
In the beginning stages it was by no means clear that it would even be possible to have a " front end " since it was expected that some sophisticated knowledge of Glaucom a would be necessary and that feedback from the consult at ion system would be required in understand ing the input sentences  . However during the course of the investigation it became clear that certain generalizations could be made from the domain of Glaucoma  . The key discovery was that under some reasonable assumptions the physiciane notes could be viewed as descriptions of instances of a class of concepts called structure doblects and the knowledge needed to interpret the notes was mostly knowledge of the relationship between language and structured objects rather than knowledge of Glaucoma  . 
This observation changed the focus of the research somm ~ at-to the investigation of the relationship between language and structured ob jects with particular emphasis on thes tructured object GLAU COMA-PATIEN To This change of focus has resulted in the deve lopment of a A structured object is like a template \[ Sridharan  1978\] or unit\[gobrow and Winograd 1977\] or concept \[ Brachman 1978\] in that it implicitly defines a set of instances  . It is characterized by a biererchial structure . This structure consists of other structured ob jects which are components  ( not subconcepts\[ )   . For example the structure dobJect PATIENT-LEFT -EYE is a component of the structured object PATIENT  . Structured objects also have attributes , for exemple PATIENT-SEX is an attribute of PATIENT  . Attributes can have numeric or non-nemeric vAlues  . Each attribute has an associated " measurement concept " which defines the set of legal values  , units etc . 
A structured object is represented as a . directed graph ~ here nodes represent components and attributes  , and arcs represent relations between the concept * and its components  . The graph has a distinguished node , analogous to the root of a tree , whose label is the name of the concept . All incoming errs to the concept enter only at this distinguished or " head " node  . Figure I is a diagram of part of the structured object GLAU COMA-PATIENT  . There are only a limited number of relations ?
These are:
ATTR This denotes an attribute llnk.
MBY Associates an attribute with its measurement.
PART The PART relation holds between two concepts.
CONT The CONTAINS relation holds between two concepts  . 
ASS An ASSOCIATION llnk . Some relations , such as the relation between PATIENT and PATIENT -MEDICATION cannot be characterized aa ATTR  , PART or CONT but are more complex , as shown by the follow ln $ examples : the age of the patient  ( ATTR )   ( I ) The medication of the patient ( ASS )   ( 2 ) The patient is receiving medication ( ASS )   ( 3 ) 
The patient is receiving age (?) (4)
Although the relation between PATIENT and PATIENT-MEDICATION has some surface forms that make it look like an ATTR relation this is not really the case  . 
A " true " structured object would not have ASS links but they must be introduced to deal with GLAU COMA-PATIENT  . the formal semantics of the ASS relation are very similar to those of the ATTR and PART relations  . 
This research was supported under Grant No .   RR-643 from the National Institutes of Health to the Laboratory for Computer Science Research  . Rutgers University . 
* A ~ thouah the class of structured objects i s a subset of the class of concepts the t ~ o teems will be used lnterchangeably  . 
103//~-~AT-~'~~,,FO~A ~
PARTSI~C
CI-PAT-LEC2-PAT-EYEjqS ~ E !
CI-PAT-LE

M . ~ c~-PAT-~YE\[
CI-PAT-LE,
PRESSURE-MSMTnESSURE - " S~'T,I

Cl-PAT-REJATI"RCI-PAT-P . E

CI-PAT-~E-
PRESS~E-MS MT ~ C~-~AT-IPART .   .   .   . ~S-JMEDICATION j
CI-PATIENT

CI-PAT-NED-
DL~MOX icx-~ATIENT-iMET . ~ cX-~AT~NT-i
ATT ~ c , -, ATI, . NT-, Ic-pAT'NT : iSEXJH(@1SEX . - ~ Tl/i-T d Ol- , A'-zo-foz , ~ ox-~zQ1 ~ , \] OL~OX . -Z'RZq-HSM~ . 
ATrP , ./
ATTR~CI-PAT'HED-IMBTJ CI-PAT-MED-JiI DZs XoE  , -OosEI'1 Dz~ox Dosz . .~SHT I Part of the S t ruc~Ject GLAUCCMA~PATZENT FOCATTE  ( Focuss ln $ A Ltribute ) If there are aultlplaidm~tical subparts then typically  ( but notal ~ ys ) the values of a particular attribute are used to distin Kuish between them  , SUBCOne concept is a subconcept of another . 
~ ePART , COHT and ASS links are qualified by N~ME\]m and MODALITY as in \[ Braclman  1978\]  . MODALITT can have too values NECESSARY and OPTIONAL  . Modality is used to reprexnt the fact ~ rate yes are necessary parts of patients bu~scotoua a  ( bllnd-spots ) may or may not be present in the visual fie ld  . WOMBEK can be either aumber ( e . s . 2EYES ) or a predl ~ at a ( e . S . >-0ecotonae ) . 
The tarKe C of ? PARTCONT or ASS relation can a lso be a flat as in 
CI-PATIENT-LEFT-EYE-V~SUAL-FIELD
C~T ( AS't OY
CI-PATIENT-LEYT-gYE-VTSUAL-FIELD-SCOT~IA , CI-PATIENT-LEFT-EYE-V~SUAL-FIELD-ISLAND , the first member of the tintise " sele ~ tlon function " ~ hich describes hoeel meats are to be Marred freethetint ? Then unbers after the C prefix in Fisurel donate levels of "  sub-conceptln8"  . Level I?s the lowest level , those concepts do not have any subconcepts only ? natancao  . 
Note that CI-PATIENT-KIGHT-EYE is a subconcept of C2-PATIENT-gYE   , not an Instance oCI-PATIENT-LEFT-gYE and C2-PATTENT-~IGHT-EYE are two different concepts t that is they haved / ~ Joint substructure  ; they are as different to the system as C-AiM and C-LEG  . There is 8 nod reason for this . It is possible that a different Instrument will be needed to measure the value of an attribute in the right eye than in the taftay e  . Thls means that the measurement concepts got these attrl butee will have to he different fo r the left and right eyes  . Another example from the d~ain of slancomashow this more vividly  . CI-PATIENT-LEYT-~YE-VISUAL-FIELD-~COTCMA denotes as cotomain the left eye  . A particular type of scotoma is the arcuate ( bow-shaped ) scotoma . This must be a separate concept since it is mean insful to suty " doublear custes cotoma " but not " doubtes cotoma "  , This means that the concept C . . . . - FIELD-AACUATE-SCOTflMA has an attribute ~ hat cannot be inherited from C  . .,-~IELD-SCOTOMA . If a measurement concept is the alune for hor ~ eyes  ( or any other Idsetl cal subparts ) then it need only be defined once and SUBC po inters can be used to point to the definit ion  . An example of this is the pressure tuscan = a meer in likutal  . 

There are many more levels of " sub-concept lng " chat could be represented here but it is not necessary for the interpretation of the cases  . Only those mechanisms for manipulating structured objects that are necessary for the interpretation of cases are beln E implemented  . 
Brachmen\[Brachman 1978\] has examined the problems of representing concepts in considerably more detail  . 
I.1 MEASL~EMENT CONCE PTS
Measurements are associated with those nodes of the graph Chat have  Ineomln8 ATTR ~ rcs . There are twn kinds of measurements those with numerical values and those with non-n~erlcnl values  . Numerical measurements have the follow lnE internal structure : RANGEA pair of numbers that speclfy the range  . 
UNITSA set of units for the measurement.
QVALSETA set of qualitative values for the measurement  . 
TIMEA dace or one of the values PAST , PRESENT.
INSTRA set of possible instruments for taking the maeauramen  , ? CFA confidence factor or measure of reliability for the measurement  . 
There is also soma procedural knnwledge assoclatad with measurm-ents  . This relates numerical values to quantitative values  , fellah Ill , lea with instruments etc . 
An example of a measurement concept is given in figure  2  . 
mi
CI-FATIENT-LEFT-KYE-FL UID-FRES SUREMS MT
RANGE 0,120
UNITSK-~4-HG
QVALSET ( ONEOFK-DECREASED , K-NORMAL,
K-ELEVATED , K-SEVERELY-ELEVATED )
TIME(ONEO FPAST , PRESENT , DATE)
INSTR ( ONEO FKAP PLAN ATTON-TO NOME TER,
K-SCHIOTZ-TONOME TER )
CFO , I *********************** ^* if VALUE< 5 then ** ERROR ** if 5 <- VALUE < i0 than QVAL-K-DECREASED if l0 <- VALUE < 21 than QVAL-K-NORMAL if 21 <- VALUE < 30 then QVAL-K-ELEVATED if 30 <- VALUE < I00 then QVAL-K-SEVERELY-ELEVATED if I00 <- VALUE than ** ERROR **
Fi~ure2
The Measurement Concept for Intra-ocular Pressure Items prefixed with a ~" K't in figure  2 denote constants . 
Constants are " terminal items " having no further definition in the representation of the structured object  . 
number of instances is known beforehand , for example there can only be one instance of CI -PATIENT~  . E FT-EYE0 while in other cases the number of instances is determined by the input  , for example measurements of In , re-ocular pressure at different times are different instances  . Instances are created along a number of dimensions  , the most common one being TIME , for example pressure today , pressure on Mar 23 . When different instruments are used to take measurements this constitutes a second dimension for instances  . The rules of instant latlon are embedded in the core  . 
A partial instantiation of CI-PATIENT can be done before the first sentence is processed by tracing links marked NECESSARY  . Any component or attribute in s , an , laced at this stage will be introduced by a definite noun phrase while optional components will be introduced by indefinite noun phrases  . 
2. SEMANTICS
A fundamental assumption that has been made and one that is Just lfled by examination of several sets of cases is that the sentences dascrl be an instance of a patient with the assumption that the reader already knows the concept  . 
None of the sentences in the notes examined had an interpretation which would requlre updating the concept GLAU CC MA-PATIENT  . The interpretation of a case is thus consldared to be the construction of the the corresponding instance of GLAU COMA-PATIENT  . 
The nature of structured objects as outlined above dlc cataa that only two fundamental kinds of assertions are expected in sentences  . There wll leither be an assertion about the existence of an optional component as in  ( 5 ) or about the value of an attribute as in ( 6 ) and ( 7 )  ?
There Is an arcuetes cotomaod .**
The pressure is 20 in the left eye.
The pressure is normalos.

Vary few of the sentences contain Just one assertion  , most contain several as in (8) and (9) . 
There is an asal step and an arcuetes cotomain the left eye and a central island in the right eye  ( 8 ) ~ he medication is I0 percent pilo carplned aily in both eyes .  (9) 2 . ITHEME ANINGO FASENTENCE Even though sentences are viewed as containing assertions their meanings can be represented as sets of instances  , Non-nmnerl cal measurements differ from numerical given that there is a procedure which takes these measurements in that RANGE  , UNIT and QVALSET are replaced instances and incorporates them into the growing instance by VALSET  . One or more members of VALSET are to be of GLAU COMA-PATIENT  . Ibis is due to the tree structure selected in creating an instance of the measurement of instances since Instant latlon of a concept involves concept  , for example : Instant latlon of all concepts between itself and the root  . In fact , many sentences in the cases do not even CI -PATIENT-SEX-MSMT VALSET  ( ONEOFK-MALEK-FEMALE ) contain a relation but merely assert the existence of an instance or of an attribute value as in  ( I0 ) and ( \[1 )  . 
I . 2INSTANCES
An instance of a structured object is represented as a tree  . Instances are created piecemeal as the Information trickles in from the case  . In some cases the
Nasal step od . ( I0) a I0 year old white male .   ( II ) ** Opt halmologlsts frequently use the abbreviations " ed " for " in the rightey e "  , " os " for " in the leftey e " and " ou " for " in  hor/1 ayes " Any particular noun or adjective could refer to a number of different concepts  . " Medication " for " example could refer to CI -PATIENT-MEDICATION  , CI-PATIENT-&IGHT-EYE-MEDICATION or ( I-PATIENT-LEFT-EYE-MEDICATION . Moreover in any particular use it could be referring Coone or more of its possible referents  . In(t2)
Medicacion consists of diamox and pllo carpine drops in both eyes  .   ( 12 ) " medication " refers co all of its possible referents since diamox is not given to the eye but is taken orally  . 
In addition to this , ic?s generally not possible to know at the clme of encountering a word whether it refers to an existing Instance or to a new instance  . This is due to the fact thaC at the time of encountering a reference to a concept all of the values of the instance dimensions mlghcnot be known  . The mechanism for dealing with these problems is Coassign " provisional Instances " as the referents of words end phrases when they are scanned during the parse and to turn these provisional instances Into " real " instances when the correct parse has been found  . This involves finding the values of the instance dimensions from rest of the sentence  , from knowledge of defaults or perhaps from values in previous sentences  . 
The most common Instance dimension is TIME and its value is readily obtained from the tense of the verb or from a clmephrase  . If the instance dimensions indicate an existing instance then the partial provisional instance from the sentence is incorporated into the existing real instance  , otherwise a new instance is created . 
2.3 FINDING THEME ANING OF ASENTENCE
Several mappings can be made from the representation of structured objects to syntactic classes  . For example , all nodes will be referred to by nouns and noun phrases  , links will be referred to by preposit ions and verbs and members of a VALSET or a  0VALSET will ba referred to by adjectives . The links between concepts and cha~rds that can be used to refer to them are made at system build time when chestructured object is constructed  . 
Some words such as " both " and " very " refer to procedures whose actions are the same no matter what the structured object  . 
The nature of structured objects and of the sentences in cases Indicate thaca " case '*\[ Bruce  1975\] approach to semantic analysis is a " natural " . A case syecs m hamin fact been implemented with such cases as ATTRIBUTE  , OBJECT , VALUE , and UNIT . One case that is particularly useful is FOCUS . It is used to record references Colefteye or right eye for use in embedded or conjoined sentences such as  ( 13 )  . 
The pressure in the left eye is 27 and there is an arcuates cocoma . (13) For the reasons discussed in section 2 . 2 ic is necessary co assign sacs of candidate referents to soma of the case values during the course of the parse  . These sacs are pruned as higher levels of the parse tree are built  . 
3. SYNTAX
It is no creally possible to vlew chasentences comprising a case as a subset of English since many of the elementary grammatical rules are broken  ( e . g . 
frequent omission of verbs ) . Rather the sentences are in a medical dialect and parr of the task of wrl Clng an interpreter for cases involves an anthropological investlg a clon of the dialect and its definition in some formal way  . An analysls of ant ~" ber of cases revealed the following characteristics  ( see also \[ Sangscer 1978\] ) : I ) Frequent omission of verbs and punctuation . 
2 ) ~chuse of abbreviations local to the domain  . 
3) Two kinds of ellipsis are evident . In one kind the constituents left ou C are cobe recovered from knowledge of the structure do b ject  ; the ocher kind is the standard kind of textual ellipsis where the missing macer i sl is recovered from previous sentences  . 
4 ) Two different uses of adjectival and prepositional qualifiers can be disting u is hed  . 
There is a referenclal use as in " in Lefteye " in  ( 14 ) and also an attributive use as in " of elevated pressure " in  ( 14 ) There is a history of elevated pressure in the left eye  .   ( 14 ) An adjective can only have a referential use if iC has previously been used attrl bucively or if i t refers to a focussing attribute  . 
5 ) Sentences containing several assertions tend to tak ~ a one of two forms  . In one of these chafocus is on an eye and several measurements are given for that eye as in  ( 15 )  . 
In the left eye chars is a pressure of 27, . 5 cupping and a nercua Ceecotome .   ( :5 ) In the other form the focus is on an attr ibute and values for both eyes are given as in  ( 16 )   . 
the pressure is I0od and 20 os .   ( 16 ) A good deal of extra syntactic complexity is introduced by the fact chat there are  2 eyes ( a particular ex- ,   . pla of the general phenomenon of multiple idancl cal subparts  )  . The problm-is chac ( haqualifying phrases " in the left/rlghc/boch eyes " appear in many different places in the sentences and conslder abla work must be done to find the correct scope  . 
4. TMPLEM ~ TATTON AND ANEX AMPLE
The system is being implemented in FUSPEDa combination of Cha AI language FUZZY\[Lefa ivre  1976\  ]  , the PEDAGLOT parsing system\[Fabens 1976\] and RUTLISP ( & urgers UCILISP )   . I~ZZ ? provides an associative network faci lity ~ ich is used for scoring both defin itions of structured objects and in s tances  . FUZZY also provides pattern marching and pat tern directed procedure invocation facili ties which are very useful for  4mplemanc ing defaults and ocher inferences . PEDACLOT is both a contextfree parser and a system for creating and editing grammars ? PEDACLOT " Cage " correspond Cognuch syscheetzad attributes\[gnuCh  t968\ ] and parses can be failed by resting condi tions on rag values thus providing a natural imy of intermixing semantics and Farsing  . 
~ he ~ plmm cation of the systma is no Cyac complete bucl C can deal with a fairly w iderange of sentences about a number of components and attributes of Cl-GLAOCCMA -PATIENT  . Figure 3 is some edited output from a rim of the e3mcmm   . The interpretation of only one sentence is i06 shown . Space considerations prohibit the more of the intermediate output  . 
inclusion of , the patient is a 60 year old white male * diamc ~ 250 msbid
Meaning: ( I626 PATIENT MEDICATION DIAMOX DOSEM SMT ) 
NVAL 250
UNIT ( KMG)
TIME PRESENT
INSTPRESENT ( T630 PATIENT MEDICATION DIAMOX PREQUENCYMSMT ) 
VAL(KBID )
TIME PRESENT
INSTPRESENT ~ eplnephrlne 2 percent bidod and pilocs rpine 2 percent bidost the pressures are 34 od and 40 ost che cupping ratio is . 5 in both eyes ~ in the r ight eye there i s 20  /  50 vision and a central island t in the lef teyethevisual a cuity is finger count ** * GLAU COMACONSULTATION PROGRAM *** 
CAUSAL-ASSOCIATION ALNET WORK*RESE ARCHUSE ONLY ********************* GLAUCOMAStHMARY******* **************   . ) ERSONALDATA : bt ~ 4E : ANON~gIOUS
AGE:60 RACE:WSEX : M
CASENO : 50 ( HYPOTHETICAL)
CLINICALDATAStHMARY FOR VISITOF3/27/79
CURRENT MEDICATIONS :
PILOCARPINE 2ZBID(OS)
EPINE PHRINE 2% BID(OD)
DIAMOX/IN HIBITOR 8250 MGBID
BEST CORRECTED VISUAL ACUITY :
OD:20/20 OS:FC lOP:
OD:34OS:40
VERTICAL CUP/DISCRATIO : 0.50 ( OU)
VISUAL FIELDS :
CENTRALISLAND(OD ) ****, eee *** e.e **** e1.




Pigure 3
Some ( edited ) output from a run of a case

Bobrow D . G . and Winograd T . An Overview of KRL , a Knowledge Representation Langua8e , Cognitive
Science , Vol . 1, No . 1. Jan 1977
Srachman R . J . A Structural Paradigm for Representing Knowledge  , Report No . 3605, Bolt
Beranek and Newman , May 1978.
Bruce B . Case Systems for Natural Language , Artificial Intelligence , Vol . 6, No .  4, 1975 . 
Fabens W . PEDAGLOT Users Manual , Dept . of Computer Science , Rutgers University ,  1976 . 
l~uth D . Semantics of ContextFree Languages , Mathematical Systems Theory , Vol .  2 .  1968 . 
I076 . La Feivre R . AFUZZY Reference Manual , TR-69, Dept . 
of Computer Science , Rutsers University , Jun 1976 . 
7 . Pople H , , Myers J . and Miller R . DIALOG : A Model of Diagnostic Reasoning for Internal Medicine  , Proc . 
IJ , CAI_4, Vol . 2, Sept 1975.
8 . Sager N . Natural Language Information Formattt nB : The Automatic Conversion of Texts into a Struc tured Data-Base  , In Advances in Computers , Yovits M . 
\[ Ed .\], Vol . 17, 1978.
9 . San Bster B . Natural Language Dialogue with Data Base Systems : Designing for the Medical Environment  , Froc .   3rd Jerusalem Conference on Information Technology  , North Nolland , An 81978 . 
10 . Shortliffe E . Computer-Based Madt cal Consultations : MY CIN , ~ lsevter , New York ,  1976 . 
11 . Sridharan N . S . AIMDSU Ser Manual-Version 2, TR-89, Dept . of Computer Science , Rutgers
University , Jun 1978.
12 . Weiss S . , Kullko~kl C . , Amarel S . and Saflr A . 
A Model-Based Method for Computer-Aided Medical Decision-Making  , Artificial Intelligence Vol .  11,
No . 12, Aug 1978.

