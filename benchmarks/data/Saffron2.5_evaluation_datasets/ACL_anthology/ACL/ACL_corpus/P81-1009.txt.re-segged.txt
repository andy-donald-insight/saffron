FIELDTESTING THETRANS FOR MATIOHAL
qUESTIONAHS WERIHG(TqA)SYSTEM
S.R . Patrick
~DMT . J . Watson Reseorch Center
POBOX 218 York town Heights , NQW York 10598 The Transform at lonal question Answering ( TqA ) system was developed over a period of time beg inning in the early part of the last decade and continuing to the present  . Its syntactic component is a transform at i on algrammar parser \  [1   ,  2 ,  ~\ ]  , and its semantic Gompon qnt is a Knuthattr ibute grammor \[ ~  ,  5 \ ]  . The combination of these components provid Qs sufficiQnt generality  , conveni Qnga , and efficiency to implement a broad range of l inguistic models  ; in addition to a wide spectrum of transform at ional grammars  , Gilder-type phrase structure grammar \ [6 \] and lexigal functional grammar \ [7 \] systems appear to be cases in point , for example . 
The Particular grammar Nhich was , in fact , developed , however , was closest tO those of the genQrative semant ics variety of trsnsformationel grammar  ; both the underlying structures assigned to sQntences and the transformations employed to effect that assign mQnt traced their orig in s to the generative semantics model  . 
The system ~ orks by finding the und Qr lyings tructures corresponding tO English queries through the use of the transformational pars ing facility  . Those underlying structures are then trans lated to logical forms in a domain relat ionol calculus by the Knuth attribute grammar component  . Evaluation of logical forms with respect to a given database completes the question - answering process  . Our first logical form evaluator took the form of a toy implementation of a relat ional database system in LISP  . We so on reelaced the low level tuple retr ieval facilities of this implement at i on with the RSS  ( Relational Storog Q System ) portion of the IBM System R\[8\] , This version of logicol form evoluation was the one employed in the field testing to bed Q scribed  . In a more recent version of the system , however , it has been replacod by a translation of l ogical forms  , first to equivalent logical forms in a set domain relational calculus and then to appropriate expressions in the  5e l language , Syst QmRIs high level query language . 
The first database to which the system was applied was one concerning business stati stics such as the sales  , earnings , number of employees , etc . of 60 large companies over a five-year Period . This was a toy database , to be sure , but it was usefult OUS in developing our System  . A later dotabase contained the basic l and identification records of about  10  , 0 00 parcels of l and in a cityn Qarour research center  . It WaS developed for use by members of the c ity planning depart mQnt and  ( less frequently ) other departments to answ Qr questions concern ing the information in that file  . Our purpose in making the 1system available to those city employees was , of course , to provide access too database of real interest to a group of users and to fiQld test our system by evaluating their usa of it  . Accordingly , thQTqA system was tailored to the l and us af ile opplt cation and installed at City Hall at the and of  1977  . It remained the reduring 1978 and 1979 , during which time it WaSused into rmittent lyasth Q need arose for adhoccu Qry to supplement thQ report generation programs that were already available for the extraction of information  . 
Total usage of the system Was less than we had expected would be the case when We made the dec ision to proceed with this applicat ion  . This resulted from a number of factors , including a change in mission for the plann ing department  , a reduction in the number of people in that dQpartment  , a decision tOre build the office space during the period Of usage  , and a degree of obsolescence of the data due to the length of time between u od at QS  ( which were to have been supplied by the plann ing department  )   . During 1978 a total of 788 queries were addressed to the system , and during 1979 the total ~ as 210 . Damerau \ [9 \] giVQSthQ distribution of these quQr ies by month  , and heal SO break sth Qm down by month into a number of different ? at Qgories  . 
DamQPaU'S report of the gross performances ta tistics for the year  197~  , ~nd a similar , as yet unpublished report of his for 1979 , contain a WQ aith of data that I will not attempt to include in this brief note  . Even though his reports contain a large quant ity of statistical performance data  , honorer , there are a lot of important observations which can only bQ made from a detailed analys is of the day-by-day transcript of system usage  . An analysis of sequences of related ou as t ions is a case in point as is an analysis of the attempts of users to phrasen QW quer  iQ5 in responset O failure of the system to procoss certain SQ ntances  . A papQr in preperatlon by Plath is concerned with treating the sQend similar issues wi th the care and detail which the y ~ arrs n to Time and SpaCQ considerations limit my cont rl but ion in this not et O just highlight ingSOmQ of the major findings of DamQrau and Plath  . 
Consider first a summary of the 1978 statistics :
Total Queries 788
T Qrmination Conditions:
Completed ( Answ Qrr Qach Qd ) $136 5.1
Aborted ( System crash , QtC .) 536.7
US Qr Cancelled 2 12.7
Program Error 39;.9
Parsing Failure 1~718.7
Unknown IS 1.9
Oth Qr ReIQvant Events:
UserComment 96 12.2
OpQrator Message qSS .7
US QP Message 111. ~
Word not in Laxic on 119 15.1
Lexical Choice RQs Olv Qd by User 11915 . 1' ~ Nothing in Data Base " Answ Qr 617 . 7 The pQrcQntage o f success fu l ly processed sQntQnCQSiS consistent with but slightly small Qr than that of such other invQstigators as Woods ClO\]  , Bellard and Bierman \[11\] , and Hershman Qtal\[12\] . Extreme care should bQQ xercis Qdinint Qrpr Qting any such OV Qra~l numbers  , however , and Qvan more gar Q must be qxerc is Qd in comparing numbers from different studies  . LQt mejust mention a few considerations that must be keot in mind in interpreting the TqA results above  . 
First of a 11 , our users t purposes varied tremendously from day today and even from question to quest ion  , On one occasion , for QxamplQpasession might bQ devoted to a serious attempt to extract data needed for a federal grant proposal  , and either the query comolexity might bQre latively limited so as to minimize the chang Q of error  , or else the questions might be essentially repetitions of the some query  , with minor variations to select diffe rent data  . On another occasion , however , th Q session might be a demonstration , or iserious attempt to dQterminethQlimi ts of the system Vs understanding capabili t y  , or even a frivolous OUQrytOSatisfy the user's curiosity as to the computorls response to a question outside its area of expertise  . ( One of our failur Qs was the sQntence , " Whokilled C~ck Robin ?" .   ) Our users varied widely in terms of their familiarity with the contents of the data base  . Honekne . anything abou ~ the internal organization o finformation  ( e . g . 
ho , the data was arranged into relations ) , but some had good knowledge of just what kind of data was stored  , some had limlt Qd knowledg Q , and some had no knowledge and even false expQctations as to what know ZQdge was included in the database  . In addition , th Qy varied widely with respect to the amount of prior experi Qn cathey had with the systQm  . Initially we provided no formal troln ing in the use of the system  , but some users acquired significant knowledge of the system through its sustaln Qd use over a period of t ~ me  . Something OV Qr half of the total usage was mode by the individuol from the plannlng department who was responsibl Q for start ing the system up and shutting it down each day  . 
Usage was also made by other members of the p lanning department  , bvmembers of Oth Qr departments , and by summer interns . 
% t should al~o be noted that the TeA system it self did not stay constant over the two-year period of tasting  . 
AS problems werQencountered , modifications werQmadQtO many components of the system  . % n particular , the lexicon , grammar , semantic interpretation fuzes ( attribute grammar rules )   , and logical form evaluation functions all QV Olved O Verth Qperiod ~ n question  ( continuously , ~ut at a decrQasing rata ) . The pors Qr and the sQmantic interpreter ghonged little  , if any . Are run of all sentences , using thQ version of the grammar thorex is ted at the conclusion of thQ field test arogram showed that  50 ~ ofth Q sentences which previously failed w are processed correctly  . This is impressive when it iS observed that a large percentage of the rQ malning  ~0 ~ constitutes QntQncos which are either ungrammat ical  ( SOmQtimes sufficiently tOprQ clude human comprehension  ) or QISQ contain references to sQmantic concepts O Utside OU runiverse of  ( l and use ) discourse . 
On the whole , our US QrS indicated they were satisfied with the performance of thQ system  . In a confer Qnce with them 8t one point during the field test , they indicated th Qy would prefer us to spQnd our time bringing more ofth Qirfiles on linQ  ( Q . g .   , the zoning board of a PPQal S file ) rather than to spend more time capability . Those instances wh Qroan unsuccessful query was followed uP by attempts to rephrase the query SO as to permit its processing show Qd few instances where success was not achieved w ith in three attempts  . 
This data is obscured somewhat by the fact that users called us on ? few occasions to get adv iceastoho ~ to record I query  . On other occasions the terminal mQsSagQfaci lity WaS invoked for the PU rpose of obtain ing advice  , and this l of ~? record in our automatic logg ing facility  . That facility preserved a record of a LLt raffic between the user vs terminal  , the computer , and our own monitoring terminal ( which ~ a Snot always turned on or attended )   , and it included ? timestamp for every Line displayed on the users fterm in a L  . 
A word is in order on tho realtime perfo rmance of the system and on the amount of CPUt ime required  . Oamerau \ [9 \] includes a chart which shows hammany quer ies required a given number of minutes of realtim QfOP complete processing  . The total elapsed time for ? query Wastyp ically around three minutes  ( 5 8X of the sentences w are processed in four minutes or Less  )   . 
Slaps adtime depended primarily on machine Load and user behavior at the terminal  . The computer on ~ hich the system operated was an IBM System  370/168 with an attached processor , ~megabytes of memory and extensive peripher a l storage  , operating under the VR/370 operating system . There were typically in excess of ZOO users competing for PISCUPCeS on the system at the t imes when the TQA system was running during the  L978-1979 field tests . Besides queuing for the CPU and memcry , this systemd QVQL OpQd queues fop the IBM 3850 MaSSS torage System , on which tho TqA database ~ ao stored . 
Users had no complaint : about reel time response  , but this may have been due to their P rocedure for handling ad hoc qu Qries prior to the installation of the Teasy stem  . That procedure caLLed for adhoc queries to be coded in RPG by members Of the data Processing department  , and the turn around time was ? matter of days rath Qr than minutes  . It is likely that the realtime perfo rmance of the system caused users sometimes to lookup data about a specific parcel in a hard copyprint out rather than giving it to the system  . ~ ueries were most often of the type requir ing statistical processing of a set o fparcels or of the type requiring a search for the parcel or parcels that satisfied given search criteria  . 
The CPU requirements of the system , broken da ~ n into a number Of categories , arc a L sc plotted by Oame reu\[9\] . 
The typical time tO process a sentencal ~ ssten seconds  , but sentences with Large database retrieva l demands tookuptOi minute  . System hardware improvements made subsequent to the  1778-1777 field tests havQ cut this processing time approximately in half  . Throughout our dava Lopment of the TqA system , ? onsider atton ~ of speed have been secondary . He have idQntified meny areas in which racod t ~ g should produce I dramatic in cr qas min speed  , but thio has been assigned ? lesser priori tythanbasic Qnhant Qmont of the SyStem and the coverage Of\[ngLish provided through its t rans formational gremsar  . 
Our experiment has sho~n that ~ aLd tasting of question answering systems provides certain information that is not otherwise availab le  . The day today usage of the system ~ S diffe rent in many respects fPom usage that results from controLLed  , but inevitably some Nhat artificial , experiments . He did not influence our users by the wording of problems posed to them because wa gave them no problems  ; their requests for information were sole ly for their own purposes  . Our sample queries that wa initially exh ibited to city employees to indicate the system ~ lOreedy to batasted we Pein variably greeted with mirth  , due to the improbability that anyone would ~ snt to know the information requested  . 
(They poked fop Pmassurance that the system wou ld also answer wrea Lw questions  )   . ~aal SO obtained valuable information on such matters a Shaw Long U Sers persist in rephrasing queries when they encounter diff iculties Of various kinds  , ho ~ succaosful they are in correcting er rors  , and what neM errors are Likely to be lade wh ileCorrecting initial errors  . ~ hope to discuss these and ether matters in more detail in the oral version of this paper  . 
Valuable as our fald tasteere , they cannot provide certain information that must ba obtained from controlled exper iments  . Accordingly , ~a hopst O conduct a comparison of Tea with several formal query Languages in the neap fUt UrO  , using the Latest enhanced version of the system and carefully controlling such fac tors as user training and problem state loQnt  . After teaching a course in database management systems at queens CcL Lege and the Pra ttInstitute  , end after running in formal axp Qriments the recomparing students f relative success in uoing TqA  , ALPHA , relational algebra , qBE , and SEQUEL , I am convinced that even for educated , prsgralm linQ-oriantad users with If air amount Of experience in learning i formal L query Languaca  , the Teasys ~ elloffers . significant advantages over formal query ~ anguages in retrieving data quickly and cor rectly  . 
This remains to baproved ( or disproved ) by conducting appropriate formal exper iments  . 
\[1JPlath , W . J .   , Transformational Grammar and Transformat ional Parsing in the Request System  , IBM Research Report RC4396 , Thomas J . Watscn Research Center , Yorktown Heights , H . Y .  , 1973 . 
\[2\]Plath , W . J .   , String Transformations in the REQUEST System  , American Journal of Computational Linguis tics  , Microfiche 8 ,  197;  . 
\[3\] Potrick , S . R .   , Transformational Analysis , Hatu Pal Lanquaqe P Pocessino(R . Rustin , ed . ), ALgorithmics
Press , 1973.
\[4\] Knuth , O . E .   , Semantics of Context-Free Languages , MQ them ~ tlcal Systems Theory , ZI , June 19682 , pp . 
127-I ? 5.
\[5\] Potrick , S . R .   , Semantic Interpretation in the Request System  , in Computational and Mathematical Linguist ics  , Proceeding : of the International Conference on Computational Linguistics  , Piss , Z7/VIII-I/%X 1973 , pp .  585-610  . 
\[6\] Gazdar , GoJ . M .   , Phrase Structure Grammar , to appear in Thq ~ ature of Syntactic RecPes ~ ntation  , ( sdsoP . Jacobson and G . K . PuLlum ), 1979 . 
\[7\] Sresnan , J . W . and gaplan , R . M .   , Loxica L-Function a L Grammar : A Formal System for Grammatical Representation  , to appear in T ~ Mental Reprs = entation of Grammatical Relations  ( J . 
W . Bresnan , ed .), Cambridge : MIT Pross.
C8\]Astrahan , M . M . ; 8 Lasgen , M . W . ; Chambqrlin , D . D . ; Eswarln , K . P . ; Gray , J . H . ; Griffiths , P . P . ; King , W . F . ; Lories , R . A . ; McJones , J . ; Meh ~, J . W . ; Putzo Lu , G . R . ; Traiger , I . L . ; Wade , B . W . ; and Watscn , V .   , SystemR : Relational Approach to Database Manag~ent  , ACM Transactions on Database Systems , Vo 1 . 1, No . 21, June , 1976, pp .  97 -137  . 
\[9\] Oamerau , F . J .   , The Transformational question Answering ( Tea ) System Operational Statistics ? 1978 , t c appear in AJCL , June 1981 . 
\[10\]Wocds , W . A .   , Transition Network Grammars , Natural Lanmuaae Procass in m(R . gust in , ed . ), ALgorithmics
Press , 1973.
\[11\]Btermann , A . W . and Ballard , S . W . , To~ard Natura l Language Computat ion , AJCL , 9 oi . 6, No .  2,
April-June 1980, pp . 71-86.
\[12\] Hershsan , R . L . , Kelley , R . T . , and Miller , H . C .   , User Performance with a Natural Language query Systsm for Colma and Control  , HPRDCTR 7917 , Navy Personnel Research end Development Center , San Diego , Cal . 92152, January 1979 . .

