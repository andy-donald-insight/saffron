Experience of Using OWL Ontologies for

Automated Inference of Routine

Pre-operative Screening Tests

Matt-Mouley Bouamrane1, Alan Rector2, and Martin Hurrell3

1 College of Medical, Veterinary and Life Sciences

Centre for Population and Health Sciences

University of Glasgow, Scotland, U.K.
Matt-Mouley.Bouamrane@glasgow.ac.uk

2 School of Computer Science, Manchester University, U.K.

Rector@cs.man.ac.uk

3 CIS Informatics, Glasgow, Scotland, U.K.

martin.hurrell@informatics.co.uk

Abstract. We describe our experience of designing and implementing a
knowledge-based pre-operative assessment decision support system. We
developed the system using semantic web technology, including modular
ontologies developed in the OWL Web Ontology Language, the OWL
Java Application Programming Interface and an automated logic rea-
soner. Using ontologies at the core of the systems architecture permits to
efficiently manage a vast repository of pre-operative assessment domain
knowledge, including classification of surgical procedures, classification
of morbidities, and guidelines for routine pre-operative screening tests.
Logical inference on the domain knowledge, according to individual pa-
tients medical context (medical history combined with planned surgical
procedure) enables to generate personalised patients reports, consisting
of a risk assessment and clinical recommendations, including relevant
pre-operative screening tests.

1 Introduction

In the U.K., a typical patient pathway to surgery involves the following steps:
referral from primary care to an outpatient clinic in a hospital, pre-operative
assessment of the patient at the hospital, the actual surgery, discharge from hospital and a return to community-based care. Pre-operative assessment is a routine medical evaluation and screening process which takes place prior to surgery
in order to assess a patients fitness for surgery, while identifying potential risk
factors. Pre-operative screening is designed as an opportunity for taking appropriate action which can be beneficial to the patient. Screening is an opportunity
to alter the clinical management of a patient scheduled for elective surgery, as
new information come to the attention of health professionals. This information
may warrant additional specific precautions, such as making provisions for additional resources (e.g. requesting some specialist equipment or booking a bed

P.F. Patel-Schneider et al.(Eds.): ISWC 2010, Part II, LNCS 6497, pp. 5065, 2010.
c Springer-Verlag Berlin Heidelberg 2010
?

?

?
in an Intensive Care Unit), requesting a specific intervention (e.g. pre-operative
treatment or intervention, referral to specialist consultant) or even cancelling the
planned surgery. Thus, the period between pre-operative assessment and surgery
is seen as an important opportunity to anticipate risks and optimise the patient
fitness for surgery. At this stage, routine ordering of pre-operative screening tests
has long been a common practice within hospitals. Pre-operative tests may be
requested both for asymptomatic patients and patients with specific risk factors
(e.g. patients with a history of cardio-vascular or respiratory co-morbidities).

We describe our experience of developing a knowledge-based decision support system designed to assist health professionals in secondary care during the
pre-operative assessment of patient prior to elective surgery. We review related
work on medical decision support systems and background information on the
pre-operative assessment process in section 2. We discuss design features of the
system, including technology and specificity of the domain knowledge in section 3. We describe the iterative development of the system in section 4. We
discuss our experience of implementing pre-operative test guidelines in section 5
and conclude with some final remarks and future work.

2 Pre-operative Assessment and Decision Support

Systems

2.1 Medical Computer Decision Support Systems

The majority of errors within health delivery systems are not necessarily due to
human errors, but are rather often consequences of broader systemic flaws in the
organisation of processes and services [1]. The potential benefits of integrating
computer-based Clinical Decision Support Systems (CDSS) [2,3,4,5,6,7,8,9,10]
within work practices include the ability to:

- (i) influence clinicians behaviour and reduce variability of outcomes across
various health professionals and increase the standardisation of processes towards
evidence-based guidelines.

- (ii) combine and synthesise complex related pieces of information.
- (iii) facilitate access to clinical information and reporting of results through
greater accessibility of data and improved display of information (e.g. using
graphs, charts...)

- (iv) support the generation of patient-specific (medical history) and context
specific (e.g. according to morbidity, surgical intervention, local hospital rules,
etc.) prompts and reminders.

- (v) reduce medication adverse events with computer assisted order entry
through a reduction of misread manual writing, notifications of adverse interac-
tion, allergies, etc.

- (vi) identify patterns within the patient data which must be acted upon (e.g.
abnormal or inconsistent findings, alerts, ordering of tests and further investiga-
tions, referral to specialist consultant...)

M.-M. Bouamrane, A. Rector, and M. Hurrell

- (vii) doing all of the above while preserving health professionals independence and ability to tailor patient care according to individual circumstances,
specific needs, availability of resources or other constraints.

If successfully embedded within routine work practices CDSSs can become important process standardisation and error preventing tools. While CDSSs have
generally proved reliable whenever rules and guidelines are clearly applicable,
their record on emulating medical diagnosis is rather less obvious. This is due to
the inherent difficulty and complexity in designing explicit conceptual models of
the medical diagnosis thought process, except perhaps in the most straightforward cases, which would limit the usefulness of such systems.

CDSSs have other inherent limitations: recommendations issued by the systems can only be as good as the guidelines they model, and as a result, flaws
in the guidelines will unfortunately be systematically reproduced in the output
of the system [6]. Clinical knowledge is always limited or partial and it is not
unusual for certain guidelines to be revised or proved wrong. Ironically, in these
situations, patients health would actually benefit from errors of omissions which
a CDSS would make less likely [7]. There is obviously little CDSS designers can
do about this problem apart from updating the system whenever new guidelines
are introduced or old ones revised.

Several systematic reviews [2,3,4,8,9,10] concluded that CDSSs had generally
(although not always...) demonstrated some benefits on clinical behaviour, compliance and performance during clinical controlled trials, including drug dosing
and prescribing systems, preventive care and other generic or disease-specific
systems. Regarding patients outcomes, results are less clear cut, in part due to
the sparsity of available studies in that respect. In contrast, these studies showed
that diagnostic aids have generally demonstrated little benefit to clinical practice overall (see Taylors insightful description of the issues surrounding health
informatics for a potential explanation of the lack of successes of diagnostic aids
in [11]).

2.2 Pre-operative Assessment

In the United Kingdom, a patient due to undergo surgery will typically be referred to a hospital by his family doctor and will then first get an appointment
at an out-patient clinic at the hospital for initial screening. The patient will then
undergo a pre-operative assessment consisting of: answering a clinical question-
naire, generally followed by a physical examination, certain laboratory tests and
possibly referral to a specialist consultant. Patient screening can be performed
in a variety of settings: face to face consultations, paper-based questionnaires,
on the telephone, or through web-based forms on the internet.

Garc a-Miguel et al. define pre-operative assessment as the clinical investigation that precedes anaesthesia for surgical or non-surgical procedures, and is
the responsibility of the anaesthetist [12]. The primary goal of pre-operative
assessment is to maximise a patients fitness for a (i.e. surgical) procedure by:
?

?

?
- (i) ensuring that the patient is fully informed about the procedure and has

provided informed consent.

- (ii) identifying early in the patients health pathway potential risks of perioperative (i.e. during) and postoperative complications due to pre-existing conditions (e.g. cardio-vascular or respiratory conditions, chronic diseases, multiple
co-morbidities, previous adverse events, etc.).

- (iii) requesting additional investigations (e.g. tests) or referral to a specialist.
- (iv) taking steps to improve patient fitness (e.g. referral to family doctor for

smoking cessation, weight loss, chronic disease control and management, etc.)

- (v) allocating appropriate resources for the day of surgery (e.g. taking appropriate actions to deal with patients allergies, booking specialist equipment
or a bed in critical care unit, etc.).

- (vii) considering alternatives to surgery when the risks of surgery are con-

sidered too high for the patients safety.

- (vi) reducing the overall risk of late surgery cancellation by ensuring that

all feasible precautionary steps have been taken prior to surgery.

Due to the vast scope of pre-operative assessment, the clinical domain knowledge potentially relevant for assessment is virtually limitless. For this reason,
a generic PA has traditionally focused on identifying common allergies, cardiovascular and respiratory risks and pre-empting potential airway complications,
such as difficult intubation during anaesthesia. Complex surgical procedures
may require additional precautions or even have separate specific pre-operative
protocols.

3 A Knowledge-Base Pre-operative Assessment System

3.1 System Design Considerations

In addition to general considerations relevant to all CDSSs reviewed in the previous
section, this research project had several important specific requirements. During
the design phase of the project, requirements identified included that the system:

- (i) be capable of capturing highly specific patient medical information in a

structured and coherent, yet flexible (i.e. adaptive) manner.

- (ii) have the ability to use and combine heterogeneous sources of clinical

information.

- (iii) be capable of making useful inferences based on available evidence-based

pre-operative assessment medical knowledge.

- (iv) provide context specific explanations for these medical inferences, tar-

geted at a variety of health professionals (i.e. nurse, doctor, anaesthetist).

- (v) provide some level of transparency regarding the mechanisms for reaching

previous medical inferences.

- (vi) provide some mechanisms to conveniently update and maintain the system in the face of new requirements and advances in the availability of evidencebased medical knowledge.

M.-M. Bouamrane, A. Rector, and M. Hurrell

- (vii) being compatible with earlier versions of the system, including handling
data from legacy patient databases while providing the same level of decision
support.

3.2 System Overview

Figure 1 gives an overview of the general principles behind the architecture of
our knowledge-based pre-operative decision support system. The system is composed of five main elements:

- 1. A patient pre-operative medical history information collection module. This
component can be designed to be adaptive to the medical context of the information collected for all new patients entered in the system (case 1.a.). The adaptive
behaviour of the system is obtained by modelling medical relationships and dependencies in a questionnaire ontology [13,14]. For patients whose medical history
is already stored in some legacy clinical databases (case 1.b.), the automatic generation of a medical history is obtained through a reverse-engineering mapping
from the legacy database information model to the questionnaire ontology [15].

- 2. The previous steps results in the generation of a patient pre-operative medical history representation in OWL [16]. There is an important distinction to be

Fig. 1. Overview of Knowledge-based Pre-operative Decision Support System
?

?

?
made regarding this patient history: some of the information will have be obtained from clinical sources (e.g. examination by nurse or doctor, pre-operative
tests, etc.) However, the information directly collected from the patient himself through the patient questionnaire is likely to be coarse-grained, even if
responding to the questionnaire is supervised by a pre-operative nurse, as is
usually the case. Consider the following examples to illustrate this last point:
a patient may know that he has diabetes but may be unable to qualify his
condition any further than this. He may know that he is taking medication for
a heart condition but may not be able to recall the exact name or the type
of medication. While this unfortunately places some limitations on the accuracy
and reliability of the patients medical history, this is a consequence of the preoperative process itself rather then a design flaw of the decision support system.
What the system can do however is highlight which information was obtained
through a reliable clinical source or was obtained from the patient himself, so a
health professional can decide to make further investigation on a specific piece
of information if necessary or relevant. This additional demand on the workload
of the health professional could be somehow alleviated by obtaining the relevant
information directly from the medical record at the patients family doctor if
available1.
- 3. Because of the nature of pre-operative assessment in attempting to identify
relevant risks of complications, the domain knowledge is potentially limitless.
However, for practical reasons, pre-operative assessment has generally focused on
generic risks (e.g. cardio-vascular, respiratory) unless the patient or surgical procedure require specific attention. We focused on designing a generic pre-operative
assessment decision support ontology, including information on classification of
morbidities using the ICD-10 International Classification of Diseases, classification of surgical procedures based on OPCS (Office of Population Censuses and
Surveys) 2 and other relevant evidence-based pre-operative assessment medical
knowledge, such as the NHS National Institute for Clinical Excellence (NICE)
routine pre-operative tests guideline3. The pre-operative assessment ontology
was developed in OWL along the principles of modularity developed by Rector
et al. [17,18] for coherent and efficient knowledge update and management [19].
- 4. The personalised information representation obtained at step 2 is combined
with the general domain knowledge of step 3 in order to make relevant logical
inferences on this specific patient [20].
- 5. A personalised patient pre-operative report is compiled including (i) suggested pre-operative tests, (ii) risk assessments and (iii) suggested precaution
protocols if relevant to the patient specific medical context.

1 This is the subject of a research fellowship funded by the the Scottish Health Exec-

utive, Chief Scientist Office.
http://www.connectingforhealth.nhs.uk/systemsandservices/data/
clinicalcoding

3 National Health Service, National Institute for Clinical Excellence

http://www.nice.org.uk/Guidance/CG3

M.-M. Bouamrane, A. Rector, and M. Hurrell

4 System Implementation

4.1 System Development Tools

Prior to introducing semantic technology within the system, the pre-operative
software was only composed of the following elements: user input, clinical data
storage and a rule engine. The pre-operative risk assessment was then almost
entirely based on the calculation of numeric scores. The introduction of semantic based technology in the system enabled adaptive information collection, high
level semantic patient modelling and decision support based on patient classification rather than numeric rules only. This provides for a significant enhancement
to the functionalities and capabilities of the system. Prot eg e-OWL was used as
the main ontology development tool [21] and we used the web ontology language
OWL [22], the java OWL application programming interface [23] and the Pellet
reasoner [24].

4.2 Adaptive Medical Questionnaire

Context-sensitive adaptation is used to iteratively capture finer-grained information with each successive step, should this information be relevant according to a
questionnaire ontology. The proposed method intends to replicate the investigating behaviour exhibited by clinicians when presented with items of information
which may be cause for concern or require further attention. While the system
has the potential to reduce the number of questions and thus save time and costs
for healthy patients, the emphasis is rather on collecting more information whenever relevant so a proper informed patient risk assessment can be performed. The
method is robust, scalable and highly configurable [13,14,16].

4.3 Medical Domain Knowledge of Pre-operative Assessment

As previously suggested, due to the nature of pre-operative assessment, the clinical domain knowledge relevant for assessment is potentially limitless. Some of
the important knowledge resources introduced in the system included:

- Access to a knowledge base of approximately 1700 OPCS classification of
surgical procedures. OPCS is the official classification of surgical procedures used
by the NHS and is among other things used by hospital trusts to get reimbursed
by the NHS for the procedures they carry out in the hospitals throughout the
year (i.e. through the Payment by Results, PbR scheme by which funds are allocated according to levels of activity within the trusts). This feature is therefore
of critical importance for integration of the application within hospital administrative information management systems. In addition, the OPCS knowledge base
include unique OPCS code identifiers, detailed English clinical descriptions of
surgical procedures, classification according to 16 major anatomical categories of
procedures (e.g. vascular, thorax, abdomen, brain, etc.) and approximately 150
subcategories, allowing for fine grain classification of procedures. The repository
?

?

?
also provides an overall surgery risk from grade 1 (minor) to grade 4 (major+)
for each procedures.

- Access to the International Classification of Diseases, ICD-10 codes. This is
a major feature in the application ability to classify elements of patient medical
history into defined categories of morbidities (e.g. cardio-vascular, respiratory,
renal diseases, unusual symptoms, etc.)

- Both of these previous features are critical to the integration of national and
international pre-operative guidelines. We integrated the NICE pre-operative
guideline, which is used to determine appropriate screening test investigations
for a given patient, based on his individual medical context (medical history
and planned surgical procedure). The guidelines are complex and are often not
used in practice because healthcare professionals have neither the time nor the
knowledge to apply them (see section 5).

4.4 Mechanism of Decision Support

In the system, decision support is usually provided in a 2 step process. The
first step typically calculates risk scores using numerical formulas such as the
Goldman and Detsky cardiac risk index [25]. or derives risk grades (e.g. ASA
physical status classification grades4). The system does not use the decision
support ontology at this stage but merely computes numeric values using an
open source Java-based rule engine (JBoss Rules5). Once the risk grades and
categories have been derived from the first risk calculation step, the system then
performs decision support using the open-source java-based Pellet reasoner to
reason on the decision support ontology given a patient OWL medical history
profile. Examples of reasoning with the decision support ontology can be found
in the next section as well as in [19,20].

5 Pre-operative Tests Recommendations and Reasoning

5.1 NICE Pre-operative Tests Guidelines

In the U.K., the effectiveness of pre-operative screening has been identified
as a research priority by the National Institute for Health Research (NIHR)
Health Technology Assessment (HTA) programme6. A systematic review on preoperative screening tests was commissioned by HTA and published by Munro
et al. in 1997 [26]. Following up on the previous work, the National Institute
for Clinical Excellence (NICE) published in 2003 guideline recommendations on
the use of routine pre-operative screening tests. These studies had important
implications as they highlighted that: (i) the available evidence on the clinical
benefits of routine pre-operative testing was mixed and the quality of studies was

4 (American Society of Anaesthesiologists) ranging from ASA I (healthy patient) to

ASA V (moribund).
http://www.jboss.com/products/rules

6 NIHR HTA, http://www.hta.ac.uk/

M.-M. Bouamrane, A. Rector, and M. Hurrell

Fig. 2. NICE pre-operative guidelines. Investigations are recommended based on:
(1) type and (2) risk grades of surgical procedure, (3) severity and (4) nature of
co-morbidities and (5) patient age. There are 3 types of result for each test: rec-
ommended, not recommended and consider (in amber).

weak overall and that (ii) there was no evidence to support the use of systematic
routine pre-operative screening tests. In order to address the latest point, NICE
set up a Guideline Development Group (GDG) to clarify the medical context in
which the use of routine pre-operative tests was appropriate and justified by the
available clinical evidence. After a thorough 13-steps guideline development pro-
cess, including 2 parallel expert panels and a wide consultation exercise, NICE
issued explicit guidelines for routine pre-operative testing. The guidelines made
3 types of recommendations: (i) test is recommended, (ii) test is not rec-
ommended and (iii) consider the test based on 5 distinct input: (1) type of
surgery (e.g. cardiac surgery, neuro-surgery or non-cardiac surgery) and (2) risk
grades of surgical procedures, (3) severity (ASA grade) and (4) nature of comorbidities (cardio-vascular, respiratory or renal) and (5) patient age. A sample
of the guidelines is illustrated in Figure 2. The sample illustrates recommendations for various morbidities and severity levels. The guidelines were themselves
summarised into various categories of surgery, surgery severity, morbidity categories and morbidity severity7.

- Type of investigations: the guidelines include 9 potential investigations:
Chest X-Ray, ECG (Electrocardiogram), Full Blood Count, Haemostasis, Renal Function, Random glucose, Urine analysis, Blood gases and Lung Function.
- Type of recommendations: there are currently 3 types of recommendations
for each test: test recommended, test not recommended and consider test.
- Factors Influencing recommendations: There are 5 factors taken into consideration in order to find the relevant recommendations: the (i) age of the patient,
(ii) his ASA grade, (iii) the type of co-morbidities the patient has (e.g. respiratory,

http://www.nice.org.uk/nicemedia/live/10920/29090/29090.pdf
?

?

?
cardio-vascular, renal) (iv) the type of surgery (e.g. cardio-vascular surgery, neu-
rosurgery, etc.) (v) the risk grade of the surgery (from 1 to 4).

- Number of cases in the guidelines: the guidelines are summarised for preoperative health assessors into 36 tables such as the one illustrated in Figure 2.
There are different tables for different combinations of the 5 factors previously
described, including different tables for children under 16 years old and adults
over 16 years old. In total, there are at least 1242 different possible cases.

As the example in Figure 2 suggests, the guidelines recommend a chest X-Ray
test for patients over 60 years old if : they are scheduled for a surgical procedure
of severity risk grade IV and if they have a cardio-vascular co-morbidity of
severity level ASA=3. An ECG would be recommended for someone aged less
than 40 years old if they have a cardio-vascular co-morbidity of level ASA=3 but
not necessarily if they have a renal co-morbidity of level ASA=3 or a respiratory
co-morbidity of level ASA=2. If the patient is between 40 and 60 years old, an
ECG would be recommended if the patient has either a cardio-vascular or a renal
co-morbidity of level ASA=3 but again not necessarily if he has a respiratory
co-morbidity of level ASA=2, etc.

Perhaps not surprisingly, we found that in practice, pre-operative health assessors faced considerable difficulties in using the guidelines. The important number
of factors to take into consideration in order to find the correct table and then
the specific case within this table, combined with the significant number of tables meant that too much time was being spent by pre-operative health assessors
trying to refer to the correct case. In addition, the pre-operative health assessors would need to be able to categorise (i) the type of co-morbidities (ii) their
severity (e.g. for determining the patients ASA grade) (iii) the type of surgical
procedures and (iv) their surgical risk grades: all of these steps being necessary
before being able to refer to the correct table. All of these tasks are obviously
highly knowledge intensive as well as being intellectually demanding. In addi-
tion, pre-operative health assessors typically see dozens of different patients a
day, each with a wide variety of health conditions and scheduled for various
types of surgical procedures. In practice, the consequences are that, if in doubt,
pre-operative investigations would probably be requested regardless of the guidelines (i.e. better safe than sorry) , thus defeating the purpose of the guidelines
in efficiently managing the allocation of pre-operative investigations within care
delivery.

5.2 Pre-operative Tests Recommendations

We combined the use of an ontology and reasoner in the pre-operative decision support system in order to automatically make recommendations regarding
the suitability of tests based on the NICE guidelines. The first step consisted
into transforming the NICE tables into rules. This enabled to considerably reduce overlap and redundant information in the current format of the guide-
lines. The 1242 different possible cases currently covered by the NICE guidelines
were reduced to around a hundred rules [20] (see Figure 3). Effectively we modelled instances of the NICE test recommendations as super-test entities in the

M.-M. Bouamrane, A. Rector, and M. Hurrell

Fig. 3. Categories of OWL Pre-operative test entities according to: (i) pre-operative
tests and (ii) type of recommendations

ontology. Definition of these test entities are based: on the 3 dimensions of recommendations (recommended, not recommended, consider) and the 9 categories
of pre-operative tests. Patient classification entities are then categorised as subclass entities of pre-operative test entities based on individual medical histories,
a process which is described and illustrated in more details in the next section
using a practical example. In Figure 3, certain tests have no recommendation
test entities associated with them as the guidelines simply do not make explicit
recommendations for these tests (but suggest instead that it may appropriate
to consider the tests in a specific medical context, as described in Figure 2).
Certain tests, such as chest X-ray, ECG, and renal function, are modelled using
a larger number of test entities because their medical allocations is dependant
on various specific combinations of the 5 input features described previously in
5.1. Others such as blood gases and urine analysis are more generic (e.g. the
latter being potentially considered for all adults, regardless of surgery or mor-
bidity). An important modelling consideration was that the test entities were
not modelled in order to minimise the number of entities but rather to facilitate
the interpretation of the rules by health professionals, as is illustrated in the next
section.

5.3 Example of Pre-operative Tests Reasoning

Figure 5 provides an example of pre-operative test recommendation based on
reasoning on the decision support ontology. The patient: (i) is between 40 and
60 years old, (ii) has unspecified angina pectoris of severity level (iii) ASA = 3
and is scheduled for a repair of mitral valve procedure (OPCS code K2580). The
procedure K2580 is classified in the ontology as a cardio-vascular surgery of risk
grade IV. Reasoning on the decision support ontology issues 16 test recommendations (some of which relating to duplicate tests) in total: 7 recommended tests
?

?

?
Fig. 4. The NICE guidelines as OWL entity rules as viewed through the Prot eg e-OWL
User Interface

and 9 consider tests. The recommendations are made by the system based on
the following reasons:

Chest X-Ray, test recommended: 1 recommended (patient is scheduled for
cardio-vascular surgery) + 2 consider tests ({grade IV surgery and cardiovascular co-morbidity} and {ASA=3 and cardio-vascular co-morbidity}).
ECG, test recommended: 2 recommended ({cardio-vascular surgery} and
{cardio-vascular co-morbidity})

Full Blood Count, test recommended: 1 recommended (cardio-vascular
surgery).
Renal function, test recommended: 4 recommended ({ cardio-vascular
surgery} and {ASA=3 and cardio-vascular co-morbidity} and {grade IV
surgery} and last 2 combined )
Haemostasis, consider test 2 consider ({grade IV surgery} and { cardiovascular surgery})
Blood Gases, consider test 2 consider ({ ASA=3 } and {grade IV surgery})
Urine Analysis, consider test 1 consider ( all adults over 16 years old)
Random Glucose, consider test 2 consider ({grade IV surgery} and {cardio-

vascular surgery})
