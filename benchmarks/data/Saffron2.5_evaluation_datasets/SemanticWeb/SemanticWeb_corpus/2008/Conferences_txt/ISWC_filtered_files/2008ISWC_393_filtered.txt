Collecting Community-Based Mappings in an Ontology

Repository

Natalya F. Noy, Nicholas Griffith, and Mark A. Musen

Stanford University, Stanford, CA 94305, US
{noy,ngriff,musen}@stanford.edu

Abstract. Several ontology repositories provide access to the growing collection of ontologies on the Semantic Web. Some repositories collect ontologies
automatically by crawling the Web; in other repositories, users submit ontologies themselves. In addition to providing search across multiple ontologies, the
added value of ontology repositories lies in the metadata that they may contain.
This metadata may include information provided by ontology authors, such as
ontologies scope and intended use; feedback provided by users such as their
experiences in using the ontologies or reviews of the content; and mapping metadata that relates concepts from different ontologies. In this paper, we focus on the
ontology-mapping metadata and on community-based method to collect ontology
mappings. More specifically, we develop a model for representing mappings collected from the user community and the metadata associated with the mapping.
We use the model to bring together more than 30,000 mappings from 7 sources.
We also validate the model by extending BioPortala repository of biomedical
ontologies that we have developedto enable users to create single concept-to-
concept mappings in its graphical user interface, to upload and download mappings created with other tools, to comment on the mappings and to discuss them,
and to visualize the mappings and the corresponding metadata.

1 Ontology Mapping and the Wisdom of the Crowds

As the number of ontologies available for Semantic Web applications grows, so does the
number of ontology repositories that index and organize the ontologies. Some repositories crawl the Web to collect ontologies (e.g., Swoogle [4], Watson [3] and OntoSelect [2]). In other repositories, users submit their ontologies themselves (e.g., the DAML
ontology library1 and SchemaWeb2). These repositories provide a gateway for users
and application developers who need to find ontologies to use in their work. In our lab-
oratory, we have developed BioPortal3an open repository of biomedical ontologies.
Researchers in biomedical informatics submit their ontologies to BioPortal and others
can access the ontologies through the BioPortal user interface or through web services.
The BioPortal users can browse and search the ontologies, update the ontologies in the
repository by uploading new versions, comment on any ontology (or portion of an on-
tology) in the repository, evaluate it, describe their experience in using the ontology,

1 http://www.daml.org/ontologies/
2 http://www.schemaweb.info/
3 http://alpha.bioontology.org

A. Sheth et al. (Eds.): ISWC 2008, LNCS 5318, pp. 371386, 2008.
c Springer-Verlag Berlin Heidelberg 2008

N.F. Noy, N. Griffith, and M.A. Musen

or make suggestions to ontology developers. At the time of this writing, BioPortal has
72 biomedical ontologies with more than 300,000 classes. While the BioPortal content
focuses on the biomedical domain, the BioPortal technology is domain-independent.

Ontologies in BioPortal, as in almost any ontology repository, overlap in coverage.
Thus, mappings among ontologies in a repository constitute a key component that
enables the use of the ontologies for data and information integration. For example,
researchers can use the mappings to relate their data, which had been annotated with
concepts from one ontology, to concepts in another ontology. We view ontology mappings as an essential part of the ontology repository: Mappings between ontology concepts are first-class objects in the BioPortal repository. Users can browse the mappings,
create new mappings, upload the mappings created with other tools, download mappings that BioPortal has, or comment on the mappings and discuss them.

The mapping repository in BioPortal address two key problems in ontology map-
ping. First, our implementation enables and encourages community participation in
mapping creation. We enable users to add as many or as few mappings as they like
or feel qualified to do. Users can use the discussion facilities that we integrated in the
repository to reach consensus on controversial mappings or to understand the differences between their points of view. Most researchers agree that, even though there has
been steady progress in the performance of the automatic alignment tools [6], experts
will need to be involved in the mapping task for the foreseeable future. Enabling community participation in mapping creation, we hope to have more people contributing
mappings and, hence, to get closer to the critical mass of users that we need to create
and verify the mappings. Second, the integration of an ontology repository with a mapping repository provides users with a one-stop shopping for ontology resources. The
BioPortal system integrates ontologies, ontology metadata, peer reviews of ontologies,
resources annotated with ontology terms, and ontology mappings, adding value to each
of the individual components. The services that use one of the resources can rely on
the other resources in the system. For instance, we can use mappings when searching
through OBR. Alternatively, we can use the OBR data to suggest new mappings. The
BioPortal mapping repository contains not only the mappings created by the BioPortal
users, but also (and, at the time of this writing, mostly) mappings created elsewhere and
by other tools, and uploaded in bulk to BioPortal.

In recent years, Semantic Web researchers explored community-based approaches
to creating various ontology-based resources [18]. For example, SOBOLEO [28] uses
an approach that is similar to collaborative tagging to have users create a simple ontol-
ogy. Collaborative Prot eg e [17] enables users to create OWL ontologies collaboratively,
discussing their design decisions, putting forward proposals, and reaching consensus.
BioPortal harnesses collective intelligence to provide peer reviews of ontologies and to
have users comment on ontologies and ontology components [23].

Researchers have also proposed using community-based approaches to create mappings [16]. For example, McCann and colleagues[14] asked users to identify mappings
between database schemas as a payment for accessing some services on their web
site. The authors then used these mappings to improve the performance of their mapping algorithms. They analyzed different characteristics of the user community and
?

?

?
their contributions in terms of how the mappings produced by the community affect the
accuracy of their mapping algorithm.

Zhdanova and Shvaiko [31] proposed collecting mappings as one of the services
provided by an ontology repository. The authors focused on enabling users to run one
of the automatic mapping algorithms and then to validate the mappings produced by
the algorithm, rejecting some mappings and creating new ones. In many aspects, this
work is a precursor for the implementation that we describe here. However, Zhdanova
and Shvaiko did not address the issues of scalability, visualization, mapping metadata,
maintainability over different versions, and mechanisms for reaching consensus.

In this paper, we make the following contributions:
 We analyze use cases and requirements for supporting community-based mappings

in the context of an ontology repository (Section 2).

 We define an extensible annotation model to represent community-based mappings
that focuses on mappings between individual concepts rather than ontologies and
that contains a detailed metadata model for describing mappings (Section 3).

 We validate the flexibility and coverage of our annotation model by representing
more than 30,000 mappings from 7 sources created by biomedical researchers in
different contexts (Section 4).

 We validate the practical application of our annotation model by using it to extend BioPortal with a web-based user interface to create mappings, to visualize
mappings that are already in the BioPortal, and to download mappings (Section 5).
These features are also accessible to developers through a web-service interface.

2 Use Cases and Requirements for Community-Based Mappings

We now identify several scenarios and the corresponding requirements that a mapping
repository can support. We have collected this list through our informal interactions and
through formal surveys and discussions with the biomedical-informatics researchers
who participate in the BioPortal user group.4 The scenarios include the following:
Defining new mappings interactively. As a user browses an ontology in a repository,
he may come across a concept for which he knows there is a similar concept in another
ontology. The user can create the mapping on-the-fly, linking the two concepts.
Uploading mappings to a repository. We do not envision that BioPortal will be the
primary environment for creating large volumes of mappings. We expect that users will
use custom-tailored ontology-mapping tools (e.g., PROMPT [19]) to create many of the
mappings. Users can then upload the mappings to BioPortal.
Adding metadata to mappings. In the repository where mappings can come from many
different sources, mapping metadata is a critical component. We must know what the
source of each mapping is, how the mapping was created and in which application
context, who uploaded it to BioPortal and when.
Maintaining mappings across ontology versions. The BioPortal repository maintains
successive versions of the ontologies.5 When users define a mapping, they define this
4 http://www.bioontology.org/usergroups.html
5 This feature will be available in the July 2008 BioPortal release.

N.F. Noy, N. Griffith, and M.A. Musen

mapping for a particular version. If necessary, the users must be able to see the context
of a particular version for the mapping. At the same time, we do not want to discard all
mappings for an ontology O once a developer submits a new version of the ontology O
to the repository.

Using mappings for ontology navigation. As users browse ontologies in BioPortal,
mappings can serve as navigation mechanisms, enabling users to enter a new ontology
through the concept that is familiar to them in another ontology.

Reaching consensus on mappings. Researchers have found that mappings can be subject of discussion themselves, just as ontology components are [26]. BioPortal enables
users to comments on mappings, and to have discussions about each mapping.

Visualizing mappings. With more than 30,000 mappings already in BioPortal, visualization of mappings becomes a critical issue. Users must be able to see where the
mappings are, where are the contradictory or controversial mappings, where the disagreements are or where discussions are taking place.

Searching, filtering, and downloading. As the number of mappings in the repository
grows larger, the users may want to focus only on specific mappings. For instance, a
user may ask to show only the mappings that have been supported by more than one
source, or for mappings supported by the users in his or her web of trust, or mappings
created buy a particular algorithm, and so on. The user may then browse the filtered
mappings or download them to use in his own applications.

Accessing algorithms for creating alignments automatically. Researchers have developed a wide variety of algorithm for identifying correspondences between ontologies
automatically or semi-automatically [7]. For users, it is desirable to be able to invoke
these algorithms on ontologies in BioPortal or parts of the ontologies, to specify parameters for the algorithms, and to accept or reject candidate mappings.

BioPortal currently supports all but two of the requirements (versioning and accessing automatic algorithms).6 We expect to support all requirements by the time the final
version of this paper is due.

3 Representing Community-Based Mappings in BioPortal

For the purposes of the discussion in this paper, a concept mapping, or simply a map-
ping, is a relationship between two concepts in different ontologies. Each mapping
has a source concept, a target concept, and a mapping relationship. The most common
mapping in BioPortal is a similarity mapping: For instance, there are several ontologies
in BioPortal that represent some aspects of human anatomy, such as the Foundational
Model of Anatomy (FMA) [22] and the National Cancer Institutes (NCI) Thesaurus
[24]. We can create a similarity mapping between the class Body Tissue in the NCI
Thesaurus and the class Body tissue in the FMA. A collection of all mappings from
ontology O1 to another ontology O2 is a mapping between O1 and O2.

6 As the July 2008 BioPortal release includes maintenance of multiple ontology versions, we

will implement the maintenance of mappings across different versions.
?

?

?
Mapping Ontology

Class:

One_To_One_Mapping

source: URI
target: URI

relationship: URI

metadata: Mapping_Metadata

rdf:type

(instance of)

Class:

Mapping_Metadata

author: User
created: Date
dependency:

One_to_one_mapping
evolutionary_evidence:

String
.......

rdf:type

(instance of)

Mapping Instances

Instance: MP_01234

source: http://ontology1.org/v1#Heart
target: http://ontology1.org/v2.1#Heart

relationship: http://mappingRelationships.org/

v1.0#similarTo

metadata: MM_456543

Instance: MM_456543

author: natasha
created: 3/24/08

.......

Fig. 1. Mapping ontology and its instances. Each mapping is an instance of the class
One to One Mapping, which refers to the source and target concepts of the mapping, and
to the metadata associated with the mapping.

Formally, we define a mapping as a four-tuple: Cs, Ct, R, M, where Cs is the
source concept of the mapping, Ct is the target concept, R is the mapping relationship,
and M is a set of metadata fields and values describing the mapping. Cs, Ct, and R
are fully-qualified references to the definition of the corresponding concept or property
in an ontology in BioPortal or elsewhere. Here, a fully-qualified name of a concept
includes a reference to the ontology, the version, and the concept itself.

We represent mappings in BioPortal as instances in the mapping ontology (Fig-
ure 1). Each instance corresponds to a single mapping between concepts (not ontolo-
gies). Each mapping instance points to the two concepts being mapped (the source
concept and the target concept), the mapping relationship, and to the metadata about
this mapping. All mappings are directional: they connect source to target. Thus, for
symmetric mappings (such as similarity), there are two instances, each corresponding
to a different direction of the mapping.

Note that our model is different from the model defined by the Ontology-Alignment
API [5] that is commonly used to represent the mappings in the OAEI [6]. In our model,
we focus on mappings between individual concepts rather than sets of mappings between ontologies; we identify each concept by a fully qualified URI that includes the
ontology and its specific version. By contrast, the mappings in the Ontology-Alignment
API focus on mappings between ontologies, rather than individual concepts, grouping
several mappings between two ontologies in a single collection. Representing individual fully-qualified mappings as first-class objects is more consonant with our model
where users can create single concept-to-concept mappings, where metadata pertains to
each individual mapping, where alternative mappings can exist for the same concept,

N.F. Noy, N. Griffith, and M.A. Musen

and where we need to maintain mappings as ontology versions evolve. Thus, BioPortal
has a single knowledge base that contains all mappings among all ontologies in the
repository. We store mappings independently of the ontologies themselves.

3.1 Mapping Metadata in BioPortal

We represent the following metadata about each mapping. Note that not all the metadata
values are required and, in practice, we rarely have values for all the fields.

General comment: General comment about the mapping is usually added by the person who created the mapping. For example, there is a set of mappings in BioPortal that
is based on the information in the Unified Medical Language System (UMLS) [12].
UMLS integrates a large number of biomedical ontologies and terminologies, mapping
concepts from these resources to a Concept Unique Identifier (CUI) in UMLS Metathe-
saurus. A general comment for a UMLS-based mapping in BioPortal may contain the
CUI that served as the basis for the mapping.

Discussions and user comments: There can be a discussion thread associated with a
mapping; mappings are first-class objects that others can comment on and discuss. Discussion messages themselves are instances of an Annotation ontology in BioPortal,
which are linked to mappings or ontology components, or other messages that they
annotate.

Application context: Researchers have demonstrated that correct mapping between
ontologies may depend on the specific application scenario for the use of the mappings [10]. Therefore, we store a (free-text) description of the intended application of
the mapping as a metadata field.

Mapping dependency: One mapping can depend on another: If X is Y, then A is B.
Because mappings are first-class objects (individuals), we can refer to them easily. Thus,
the value for the dependency field is another mapping individual (or individuals).

Mapping algorithm: Information about the algorithm that was used to create the map-
pings, if the mappings where created outside of BioPortal and uploaded. This property
is a string, but can contain a link to a web page describing the algorithm. When we display the mappings to the user (cf. Figure 3), we can link directly to that web page. It is
also important to record the specific version of the algorithm that was used to create the
mappings and any parameters that were used to tune the algorithm in case users want to
reproduce the results: algorithms change over time and may produce different results.

The date the mapping was created: This property is a simple date field that records
when the mapping was created.

The user who performed the mapping: This property contains the name of the registered
user who created or uploaded the mapping.

External references: If the mapping is based on some references to external sources
(e.g., publications), this information can be part of the metadata.
?

?

?
3.2 What Relationship Does a Mapping Represent?

It is customary to think about mappings as equivalence mapping, and many researchers
suggested using a logical equivalence relationship (owl:equivalentClass) to link
concepts from different ontologies. In most cases of inter-ontology mapping, however,
the mapping is not a true logical equivalence; the concepts are similar in their intended
meaning but do not share all their instances or defining characteristics. In our experi-
ence, many mappings between ontologies that the users create can be described more
accurately as similarity, rather than equivalence, mappings. In our framework, we store
the exact mapping relationship, as specified by the user, as part of the mapping.

Note that for many reasoning and querying tasks, we can treat similarity mappings
in the same way as equivalence. For instance, when we look for data annotated with a
concept Cs, we may also bring in the data annotated with a concept Ct that is similar
to Cs.

Many researchers think of ontology mapping as a bridge between ontologies: each
ontology stands on its own, is used on its own, but the mapping indicates the point of
overlap between the two ontologies. For example, when we create a mapping between
the anatomy part of the NCI Thesaurus and the FMA, our goal is not to merge the two
ontologies, but rather to help applications integrate the data that was annotated with
terms from either ontology. We expect, however, that many applications will use only
one or the other ontology. In the field of biomedical ontologies, researchers often think
of ontology mapping not as a bridge between two ontologies, but rather as a glue that
brings the two ontologies together to create a single whole, with clearly identifiable
components. In this case, the ontologies that are mapped are intended to be used to-
gether, as a single unit. For example, consider the following mapping (from C. Mungall
[15]): ZFA:heart is a CARO:cavitated compound organ. There is no intention in the zebrafish anatomy ontology (ZFA) to define organs at the general level, as
the Common Anatomy Reference Ontology (CARO) does. Thus, we use the mapping
to make the definition of ZFA:heart to be more precise.

The line between the two settings can be fuzzy, and sometimes it is discernible only
through the intention of those who created a mapping. The distinction, however, is an
important one in the biomedical community.

Pragmatically, with mappings of the first kind (a bridge), equivalence, similarity, or
generalization and specialization mappings are the more common mapping relation-
ships. In the second case, any mappings are possible: for instance, a class in one ontology could be a range for a property for another (e.g. CL:nucleate erythrocyte
has part GO:nucleus [15]). This last type of mapping is hardly present in the
bridge setting.

4 Using the Annotation Model to Represent Mappings Among

Biomedical Ontologies

We have extracted mappings from different sources to populate the mapping repository
in BioPortal. We currently have more than 30,000 mappings, involving 20 ontologies
(Figure 2). Many of these mappings were created manually by developers of biomedical

N.F. Noy, N. Griffith, and M.A. Musen

Software
Resource
ontology

Chemical entities 

of biological 

interest

Molecule

role

Event (INOH 

pathway ontology)

Common Anatomy
