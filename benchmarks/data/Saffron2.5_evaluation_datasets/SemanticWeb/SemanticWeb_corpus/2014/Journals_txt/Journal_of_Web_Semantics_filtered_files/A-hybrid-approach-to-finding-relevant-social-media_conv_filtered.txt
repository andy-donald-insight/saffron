Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

Contents lists available at ScienceDirect

Web Semantics: Science, Services and Agents

on the World Wide Web

journal homepage: www.elsevier.com/locate/websem

A hybrid approach to finding relevant social media content for
complex domain specific information needs
Delroy Cameron, Amit P. Sheth, Nishita Jaykumar, Krishnaprasad Thirunarayan,
Gaurish Anand, Gary A. Smith
Ohio Center of Excellence in Knowledge-enabled Computing (Kno.e.sis), Wright State University, Dayton OH 45435, USA

h i g h l i g h t s
 Complex domain specific search requires richer models to be more effective.
 Structured knowledge and intelligible constructs together can enhance query interpretation.
 A hybrid search platform is more effective for practical domain specific information needs.

a r t i c l e

i n f o

a b s t r a c t

Article history:
Received 1 August 2013
Received in revised form
7 September 2014
Accepted 2 November 2014
Available online 15 November 2014

Keywords:
Semantic search
Domain specific information retrieval
Complex information needs
Ontology
Background knowledge
Context-free grammar
Knowledge-aware search

While contemporary semantic search systems offer to improve classical keyword-based search, they
are not always adequate for complex domain specific information needs. The domain of prescription
drug abuse, for example, requires knowledge of both ontological concepts and intelligible constructs
not typically modeled in ontologies. These intelligible constructs convey essential information that
include notions of intensity, frequency, interval, dosage, and sentiments, which could be important to the
holistic needs of the information seeker. In this paper, we present a hybrid approach to domain specific
information retrieval (or knowledge-aware search) that integrates ontology-driven query interpretation
with synonym-based query expansion, and domain specific rules, to facilitate search. Our framework
is based on a context-free grammar (CFG) that defines the query language of constructs interpretable
by the search system. The grammar provides two levels of semantic interpretation: (1) a top-level CFG
that facilitates retrieval of diverse textual patterns, which belong to broad templates and (2) a lowlevel CFG that enables interpretation of specific expressions that belong to such patterns. These lowlevel expressions occur as concepts from four different categories of data: (1) ontological concepts,
(2) concepts in lexicons (such as emotions and sentiments), (3) concepts in lexicons with only partial
ontology representation, called lexico-ontology concepts (such as side effects and routes of administration
(ROA)), and (4) domain specific expressions (such as date, time, interval, frequency, and dosage) derived
solely through rules. Our approach is embodied in a novel Semantic Web platform called PREDOSE,
which provides search support for complex domain specific information needs in prescription drug abuse
epidemiology. When applied to a corpus of over 1 million drug abuse-related web forum posts, our search
framework proved effective in retrieving relevant documents when compared with three existing search
systems.

Published by Elsevier B.V.

1. Introduction

The use of structured background knowledge (ontologies) to
enhance search has gained considerable traction among contemporary information retrieval systems. Ontologies offer to improve

 Corresponding author. Tel.: +1 937 775 5213; fax: +1 937 775 5133.

E-mail address: delroy@knoesis.org (D. Cameron).

http://dx.doi.org/10.1016/j.websem.2014.11.002
1570-8268/Published by Elsevier B.V.

search by capturing the meaning of real-world concepts and their
associations. The formal representations modeled in ontologies
have been used to positively impact many complex tasks, including
interoperability, personalization, and knowledge discovery.

While semantic search has gained credibility, compared to classical keyword-based and hyperlinked-based search, there is often
a misalignment between the information needs of users and the
knowledge model developed to meet such needs. Ontologies provide a means for interpreting some elements of complex information needs, but not all aspects of such needs [1]. The main issue

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

is that ontologies often have limited scope, while users are unrestricted in the range of information they can seek on a given topic.
A user information need can transcend data types and sources, exceeding what is formally modeled.

In spite of this, many semantic search applications [25], semantic search engines (Hakia, Bing), and hybrid information retrieval approaches [1,68] rely heavily on ontologies for query
interpretation. While these approaches serve their intended pur-
pose, they are generally unsuitable for domain specific applica-
tions, such as prescription drug abuse. General-purpose search
engines such as Google and Yahoo that rely on keyword-based and
hyperlinked-based models, may not perform well on domain specific data. This is because minimal (and often inadequate) support
is provided for interpreting the additional elements that could be
important to an information need, but not formally captured by the
knowledge model.

We address this problem by developing and evaluating a hybrid
approach to search (or knowledge-aware search) that allows query
specification and interpretation of diverse expressions, which are
involved in various aspects of complex information needs. To illustrate our approach, consider a scenario in which an epidemiologist
in the domain of prescription drug abuse is seeking insights into
emerging patterns and trends in drug abuse using social media. For
brevity, we present only one of many information needs explored
in PREDOSE (http://wiki.knoesis.org/index.php/PREDOSE).
Information need: How are drug users engaging in the use of the semisynthetic opioid Buprenorphine, through excessive daily dosage?

Inherent in this information need is the following relevant
background knowledge. Buprenorphine is an opioid antagonist
used in the treatment of opioid addiction, including addiction to
Heroin, OxyContin, and Vicodin. Prescribed daily dosage varies
by individual ranging from 432 mg.1 Buprenorphine is known
to stabilize drug users from withdrawal symptoms, but can also
induce an opiated effect. This treatment drug is therefore at risk
for abuse. Epidemiologists are interested in understanding the
dosage practices of Buprenorphine users, including amounts taken,
frequency of use, and side effect experienced, to better understand
emerging patterns and trends of abuse.

A suitable user query provided by a domain expert may involve the following keywords: buprenorphine dosage exceed
4 mg daily. A robust search system may correctly interpret
the keyword buprenorphine as the standard DBpedia resource:
http://dbpedia.org/resource/Buprenorphine. Then through nontrivial query expansion, the system may also associate the keywords bupe, bupey, suboxone, subbies and suboxone film,
with Buprenorphine, as synonyms. Likewise, the search system
may expand the keyword daily with the synonyms day, night,
morning, and afternoon, using available (or manually created)
lexicons that contain such mappings. However, the intricate challenge is interpreting the notion of excessive dosage, expressed as
the phrase dosage exceed 4 mg.

In the development of Active Semantic Electronic Medical
Records (ASEMR), Sheth et al. [9] created rules expressed in
RDQL [10] (precursor to SPARQL) to enable specification of additional constructs (including dosage) that compensate for deficiencies in the knowledge model. Similarly, in the Semantic Content
Organization and Retrieval Engine (SCORE) [11,12], Hammond
et al. implemented various rules derived using regular expressions
to specify quantity-conveying metadata (such as currency, per-
centage, amount, time and dates) which were not present in
the ontology. In the Knowledge and Information Management platform (KIM) [13], Popov et al. modeled various lexical resources

1 Note that the actual amounts used in examples throughout this manuscript are
anecdotal only.

in the ontology, such as currency, dates and abbreviations, which
were subsequently used for document annotation. However, the
information need presented here requires a more in-depth inter-
pretation.

To appropriately interpret excessive dosage, the notion of
dosage itself must first be specified using its constituent mem-
bers: dosage-operator (e.g., >, <), dosage-amount (e.g., 4,
10), and dosage-unit (e.g., mg, tablet). In this way, the search
term >4 mg could be an abstraction of the search phrase dosage
exceed 4 mg. Rules must then be used to interpret each constituent according to what is possible in the corpus. This is
important because a dosage-unit may have various lexical representations in text (e.g., mg, milligram, milli-gram). Likewise,
the dosage-operator can have multiple equivalent manifestations
(such as >, greater than, more than and above). Similarly,
dosage-amount can be numeric or textual. According to these
possible interpretations, 6 mg, ten milligrams, about 8 mg, a
bit more than 30 mg etc., are all valid expressions for the query
dosage exceed 4 mg. The matching documents for the entire query
(buprenorphine dosage exceed 4mg daily) are obtained after filtering heuristics are applied to retrieve text fragments from the
corpus that match the interpretation of each query component. In
this way, a hybrid approach to information retrieval would have
been utilized, which leverages ontologies, lexicons, and rules for
query interpretation of domain specific data.

Concretely, our approach is based on a context-free grammar
(CFG) that defines the query language of constructs interpretable
by the search system. The grammar provides two levels of semantic
interpretation: (1) a top-level CFG defines broad patterns that
can be interpreted by the system and (2) a low-level CFG defines
the interpretation of certain specific elements that belong to
such patterns. The query language of the grammar is specified
in an IBM declarative information extraction specification called
SystemT [14,15], which is designed for information extraction
from heterogeneous texts. SystemT is advantageous because it
enables porting of rules to texts in other domains. Some of these
domains specifically: (1) biomaterials and materials science, (2)
cannabis and synthetic cannabinoid research, and (3) clinical texts
on cardiology reports.

In an evaluation using a corpus of over 1 million web forum
posts related to drug abuse, our hybrid search system retrieved
a larger number of relevant documents when compared with
three existing search systems. These systems are the: (1) semantic
search engine Hakia, (2) crowd sourcing-based search engine
DuckDuckGo, and (3) popular search engine Google. Note that
since these search engines are not specifically engineered to handle
domain specific data, our results are not surprising. However, our
experiments highlight the need for more effective approaches to
domain specific search as noted in [16]. The specific contributions
of this research are as follows:
 We develop a hybrid approach to domain specific information retrieval that interprets four categories of data. These are:
(1) structured background knowledge in ontologies, (2) concepts in lexicons; (3) concepts in lexicons with partial ontology representation called lexico-ontology concepts (see
Section 2.1.2), and (4) concepts defined using rules.
 We utilize a CFG to formally define the query language of strings
interpretable by the system. The CFG provides two levels of
semantic interpretation: (1) a top-level CFG for interpreting
general textual patterns and (2) a low-level CFG for interpreting
specific expressions.
 We show that our approach is effective through an evaluation
against three popular search systems.

Fig. 1. System architecture.

The rest of the paper is organized as follows. Section 2 describes the overall hybrid information retrieval framework, which
includes modules for query interpretation in Section 2.1, semantic metadata extraction/document annotation in Section 2.2 and
query matching in Section 2.3. Section 3 describes the evaluation
and Section 4 covers related work.

2. Approach

Our hybrid information retrieval system (shown in Fig. 1)
consists of three components: (1) Query Processor, (2) Semantic
Metadata Extractor, and (3) Query Matcher. The query processor
provides functionality for template-based query specification and
domain specific query interpretation. The semantic metadata extractor identifies the offsets of text snippets that match the query
interpretation in the corpus. The query matcher retrieves and filters the relevant documents for a given user query, based on query
interpretation and document annotations in the corpus. Each component is discussed in detail in the following subsections.

2.1. Query processor

The process of searching for information from text commonly
involves certain interactions between a user and a system. Users
typically possess a conceptualization of their information need that
can be framed using a mental model, as noted by Tran et al. [2].
The search system must provide an environment for users to adequately express their information need in terms of language primitives or a user query language that can be understood by the system
(Fig. 2, top). The system must then provide a specification for translating the user query into a system query (Fig. 2, bottom), based on
the interpretation of the user query. In our application, the query
processor provides a user query interface for users to specify their
queries. It then performs the translation from user query into system query based on the underlying specification in the grammar.
To account for domain specific constructs in the knowledge model,
user queries are specified using templates, instead of free-form
queries. These templates abstract data from the aforementioned
(four) categories of data elements, which are important to the do-
main. The CFG is presented in the next section.

2.1.1. Context-free grammar

The context-free grammar used in our hybrid information
retrieval system is formally defined in this section, along with
anecdotal examples to illustrate how it is used in practice. Definitions 13 cover the top-level grammar, while Definitions 47 cover
the low-level grammar.

Fig. 2. Workflow for translation of user queries into system queries.

Definition 1. The context-free grammar G for the query language
U of the hybrid information retrieval system H is a quadruple
(N, T , P, S), where N is a finite set of non-terminals, T is a finite set
of terminals (or alphabet), P is a finite set of rules (or productions)
and S is a Start Symbol.

The set of nonterminals N is partitioned into two sets, NS and
NP, where NS denotes the set of nonterminals found directly in
the right-hand sides (RHS) of the productions associated with the
start symbol S, and NP = N  NS, where the symbol  is the setdifference operator. The set NS contains 11 nonterminals, including
dosage,frequency and route of administration roa (see
Table 2, Section 2.1.2 and Appendix), which abstracts broad
template classes of data relevant to the domain. The user query
language of H is formally defined as follows:

Definition 2. The user query language U of the hybrid information
retrieval system H is the set of sentential forms over (NS  T )
derivable from G = (N, T , P, S). That is, a user query q, may consist
of terminals and nonterminals that appear only in the start symbol
productions.
For example, the production: template pattern  entity
pronoundosageintensity is a broad template pattern that
abstracts the information need given in Section 1 in G, where
template pattern is the start symbol, entity,pronoun,
dosage, and intensity are nonterminals, or template classes,
in NS. The more specific user query: q ::= Buprenorphine
personal pronoun >4 mg by day | by hour is a valid user
query for the given information need, derived from this produc-
tion, where Buprenorphine is a member of the template class
entity,personal pronoun is a member of the template class
pronoun,by day and by hour are non-terminals, derived
from the template class interval. The expression >4 mg is a
terminal, which requires special interpretation (discussed later in
this section). User queries may therefore consist of permutations of
terminals and nonterminals, or sentential forms in G. Lines 2 and
6 in Table 1, show two valid user queries derived from the given
production. Lines 4 and 8 show two specific system queries (which
are matching text snippets in the corpus) derived from the user
queries in lines 2 and 6.

The translation of user queries into system queries is a
two-step process. System query seeds must first be generated
from user queries (Fig. 2, center) and then transformed into

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

Table 1
Derivation of system query strings using the CFG.

template pattern
User query
System query seed
System query
template pattern
User query
System query seed
System query

range

pronoun
personal pronoun

::= entity
::= Buprenorphine
::= Subs
::= Subs I was taking 32 mg a day
::= entity
::= vicodin
::= vicodin
::= vicodin habit and I was taking 28 mg of buprenorphine every day

range

pronoun
personal pronoun

range

range

dosage
>4 mg
32 mg

dosage
>28 mg
32 mg

range

range

intensity
by day | by hour
a day

intensity
by day | by hour
every day

Table 2
Template class classification.

Template class name
interval

dosage

frequency

entity

roa

drugform

sideeffect

emotion

pronoun

intensity

sentiment

Class source
Alphabet
Alphabet
Alphabet
Ontology
Lexico-ontology
Lexico-ontology
Lexico-ontology
Lexicon
Lexicon
Lexicon
Lexicon

Class type
Compound
Compound
Compound
Simple
Simple
Simple
Simple
Simple
Simple
Simple
Simple

system queries by instantiating a window-based token sepa-
rator. For instance, the system query seed: Subs range I
range 32 mg range a day,
is generated from the user
query: q  Buprenorphinepersonal pronoun >4 mg
by day | by hour, where Subs is a synonym for Buprenor-
phine, I is a personal pronoun, 32 mg is greater than 4 mg
and a day is an expression for by day. Upon instantiating the
three successive range values that capture window size to 0, 2
and 0 respectively, the specific system query: Subs I was taking
32 mg a day, can be obtained. The sequence of tokens that occupy
the range are shown in underline. Given this example, the interpretation of a user query is therefore defined as follows:
Definition 3. The interpretation of a user query q  U  (NS  T )
is a set of all terminal strings derivable from q in the grammar
Q = (N, T , P, q), where the Start Symbol is replaced by q, a single sentential form obtained over (NS  T ).

The previous definitions cover the top-level grammar. How-
ever, the precise translation of a user query into system query
seeds requires additional preliminaries, especially to interpret
compound expressions such as >4 mg. The dosage-operator,
dosage-amount and dosage-unit have instantiations that require
appropriate expansion. For example, much more than 4 mg, five
mg, 60 mg and a hundred milligrams are valid interpretations
for the query fragment >4 mg. To capture this, we introduce the
notion of a contextual compilation (Fig. 2, center) to formalize the
translation of any terminal to its semantic equivalent according to
its interpretation in G. Let cc(>4 mg, dosage) denote the contextual compilation of the expression >4 mg, which belongs to
the class dosage. Formally:
Definition 4. A contextual compilation cc of a terminal string
t derived from a nonterminal A is the set of terminal strings
semantically equivalent to t in the context of A.
It follows then that the interpretation of a user query therefore
requires interpretation of both nonterminals and terminals,
whenever the latter contains equivalent interpretations.

Definition 5. The translation  (t) of a terminal t derivable from
the nonterminal A  NS in G = (N, T , P, S) is its contextual
compilation  (t) = cc(t, A).

G t}.

Definition 6. The translation  (A) of a nonterminal A in the
grammar G = (N, T , P, S) is defined as the set of terminal strings
that can be derived from A. That is,  (A) = {t|A
Note that this translation of terminals can be specified by domain
experts or by search engine developers programmatically. For ex-
ample, the translation of the greater than operator is specified explicitly as:greaterThanOp > |greater than|more than|above|
in excess of| . . . in the grammar. Given the definition of a user
query, system query seeds can then be formally defined based
on the translation of user query elements and the window-based
range token separator.
Definition 7. The system query seeds of a user query q =
1, 2, . . . , n where i  (NS  T ), is the cross-product of a the
translation of the terminals and nonterminals  (1)   (2) 
   (n) that comprise the user query.
As noted, system query seeds become actual system queries
when the range operator is instantiated. For example, Table 1
shows how the two system queries: (1) Subs I was taking 32 mg
a day and vicodin habit and I take 28 mg of buprenorphine
every day could be derived from the production: template
pattern  entitypronoundosageintensity, based on
the grammar. The production contains nonterminals in the RHS,
which are in NS called template classes. The user first selects the
broad template pattern and then constructs a more specific user
query, where appropriate. The grammar then generates the system query seeds, which become system queries after instantiating
the range values. Documents that contain textual patterns that
match system queries in the corpus are considered as candidate
matches for the user query.

Note that the system query for the second user query (Table 1,
line 8) could also be considered a match for first user query
in Table 1, line 2. This is because initially, all annotations are
retrieved for a given template and then filtered by the query
matcher. The combination of vicodin as an entity in the first
position, separated by apersonal pronoun (I), then adosage
exceeding the prescribed limit (28 mg) and then an intensity
(every day), could be a match because buprenorphine appears
as a concept in one of the range separators. In the next section
we discuss how the four categories of data are represented in the
knowledge model and interpreted by the grammar.

2.1.2. Knowledge model

In Definition 1, we described the set of nonterminals NS as
the set of nonterminals in the RHS of productions that begin
with the start symbol template pattern. For example, in the
production: template pattern  entitypronoundosage
intensity, the RHS elements entity,pronoun,dosage and
intensity are in the set NS. According to the grammar, NS consists of 11 nonterminals or template classes (shown in Table 2).
These classes cover the four categories of data interpretable by
the system: (1) concepts in ontologies; (2) concepts in lexicons;
(3) lexico-ontology concepts and (4) intelligible constructs specified using rules. The ability to interpret these categories of data is

a key contribution, which is crucial to the effectiveness of our system for domain specific information retrieval. In the next section,
we begin with the interpretation of the template class, which are
based on the ontology.
Ontology-based query interpretation: To facilitate ontology-based
query interpretation, we utilize a Drug Abuse Ontology (DAO)
(pronounced dow) [17], which was created as part of the PREDOSE
project. The DAO consists of 43 classes and 20 properties, and
serves two main purposes. First, it facilitates query interpretation,
and second it serves as one of the annotation schemes for metadata
extraction (discussed in Section 2.2). The DAO is important
for query interpretation because it captures various mappings
between slang terms and standard drug references. In a gold
standard dataset consisting of 600 web forum posts, we observed
a ratio of 33:1 slang references for the standard drug label for the
prescription drug Buprenorphine and 24:1 for Loperamide. The
DAO is therefore of critical importance.
To perform such query interpretation based on the DAO, let the
drug abuse ontology O be represented as a graph O = (V , E),
where V is the set of nodes, which formally represent real-world
concepts V = {v1, v2, . . . , vn} and E = {e1, e2, . . . , em} is the set
of edges, which represent labeled edges (or relationships) between
such concepts. The interpretation of a keyword ki in q according to
the ontology O, denoted I(ki), is some concept vi in O, where the
concept vi may be a class ci or an instance ri. That is, vi  (C  R),
such that ci  C and ri  R, where C is the set of all ontology classes
and R is the set of all instances. The label of the class ci is denoted
L(ci) and the label of an instance is denoted L(ri). The set of all labels
for all classes in O is denoted L(C), while set of all slang terms for
all classes is Ls(C). Similarly the set of all labels for instances is L(R)
and their slang terms LS (R), respectively.

A keyword ki in the corpus maps to a class or an instance level
concept in the DAO. This interpretation is based on string matching
using the labels and synonyms of instances and classes. String
matching is sufficient, since the overlap in concept labels in the
DAO is relatively small. Evidence for this comes from the evaluation
of our entity identification approach in [17], in which 85% of slang
term mentions in the gold standard could be easily reconciled
to the correct ontology concept, without disambiguation. In the
evaluation (see Section 3), we show explicitly that it is the ability to
interpret intelligible constructs not captured by ontologies that is
more crucial to domain specific information retrieval and concepts
from the DAO are abstracted using the template class entity
(shown in Table 2, row 4).
Lexico-ontology-based query interpretation: Lexico-ontology concepts are those that have partial representation in ontologies and
lexicons simultaneously. For example, the side effects skin blisters
that are itchy and skin blisters that are painful are distinct skin
blisters. However, an ontology may only contain the side effect
skin blisters. This may be problematic if the distinction between
itches and pain contribute new information about trends in drug
abuse. Knowledge of mappings from lexicons, not present in the
ontology, could therefore improve the effectiveness of the search
system.

In practice, such discrepancies between lexicons and ontologies
for the same concept, may arise as a natural consequence of
ontology evolution. Various concepts (or additional attributes for
existing ones), may eventually be added to the ontology, but should
not be excluded from the search framework in the interim. Also,
references in lexicons (such as the Urban Dictionary) may be
unknown to domain experts altogether, and never come under
consideration for formal representation in the ontology. Inclusion
of such search terms in the system may bridge this knowledge
gap between what is modeled and what is evident within the
community. To address this, we introduce a category of concepts
called lexico-ontology concepts. The three template classes: route

of administration roa,drugform and sideeffect are lexicoontology concepts in our system (Table 2, rows 57).
Lexicon-based query interpretation: The four template classes:
sentiment,emotion,pronoun and intensity (Table 2,
rows 811) are part of an ubiquitous class of nonterminals
present in many lexicons. These classes provide insights into
self-disclosures, opinions, reports on mood changes and various
other experiences in response to drug use. Sentiment expressions
such as didnt do sh*t, not that great and felt pretty good
can help epidemiologists assess and evaluate user reaction and
attitudes. In our application,sentiment expressions are classified
into three categories: positive,negative and neutral based
on several lexicons, including LIWC2 and MPQA.3 The sentiment
identification algorithm implemented by Chen et al. in [18] is then
used to link and annotate sentiment expressions in the corpus.
To interpret emotion, the online resource ChangingMinds.org
that contains several categorizes, such as affection,lust,
love and rage is used. Similarly, various online lexicons are
used for categorization of such classes of pronoun including
personal pronoun,interrogative pronoun and possessive
pronoun. Distinguishing self references, which are of type
personal pronoun, are important in identifying drug users as
the subject of discussions. The interpretation of the nonterminal
intensity is based on the domain. Expressions such as low,
small and less can conveylow intensity with regards to drug
usage, while largest, excessive and most can convey high
intensity (see Appendix).
Rule-based query interpretation: The three nonterminals
interval,frequency and dosage (Table 2, rows 13) require
more complex interpretation, and are considered compound template classes. For example, the derivation of a system query from
the class interval can be constructed as follows: interval 
amountduration_indicatorperiod_determiner.
In this
production, a valid interval consists of any amount (nu-
meric or textual), followed by aduration_indicator (e.g. days,
weeks, years) and a period_determiner (e.g. now, be-
fore, ago). The system queries 5 years ago and about nine
months later are therefore valid interval expressions. Similarly,
the following production: frequency  amountper_time_
indicator, can be used to derive valid frequency expressions,
such as 5 per min, per hour and 24 mg/min.dosage system
queries such as 15 grams and 2 mcg can be derived according
to the grammar, based on the following production: dosage 
number_amountunit (see Appendix) for a partial list of productions in the grammar.

The grammar consists of 61 template patterns in the top-level
CFG,4 consisting of template classes in NS in the RHS of the pro-
ductions. It also contains close to 150 productions in NP (see partial list in the Appendix). Using this grammar, our search system in
PREDOSE is able to perform domain specific information retrieval
somewhat effectively compared with existing search systems (see
Section 3). The top-level grammar enables query specification according to the direct information needs of epidemiologists, while
the low-level grammar enables interpretation of four different categories of data, pertinent to the domain. In the next section we
discuss the use of this grammar for metadata extraction and document annotation from the corpus.

2 LIWC Onlinehttp://www.liwc.net/.
3 MPQAhttp://mpqa.cs.pitt.edu/.
4 Top-Level Grammar Productions http://wiki.knoesis.org/index.php/Knowledge-
Aware-Search-Productions.

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

Then the Unstructured Information Management Architecture
(UIMA) [19] is used to execute the queries on the corpus. The
annotated corpus contained 1,287,830 annotations from a corpus
of approximately 1,026,502 web forum posts from three online
forums.5 The extracted metadata was indexed positionally (using
Apache Lucene and Solr) for use by the query matcher, and also to
provide highlighted annotations in the search results. Techniques
for matching queries with documents based on extracted semantic
metadata are discussed in the following section.

2.3. Query matcher

The query matcher (Fig. 1, bottom left) retrieves relevant documents based on a match between a system query and an annotation extracted using the semantic metadata extractor. To
achieve this, the system adopts a two-step process. First, the
query processor selects all documents indexed with the template
pattern of the user query. For example, given the user query:
q  Buprenorphinepersonal pronoun >4 mg by day|
by hour, derived from template pattern:template pattern 
entitypronoundosageintensity, the query processor selects an initial set of documents (518) that contain the matching annotations for the given template pattern. Second, the
query matcher applies various filters to prune the search re-
sults. The EntityFilter is first used to retain documents containing
Buprenorphine, specified by ontology-driven query interpretation in the grammar. The resulting document set is reduced (to 97).
The query matcher then applies the PronounFilter, which restricts
the result set to annotations containing only personal pronoun
(resulting in 90 documents). The query matcher then applies the
DosageFilter, which retains annotations that mention amounts
greater than 4 mg, according to the interpretation in the gram-
mar. Recall that this translation involves interpreting of the contextual compilation of the expression >4 mg, which requires
interpretation of the greater than > operator based on synonyms
(e.g., greater than and more than), mapping the numeral 4
to the word four, and also expanding the unit mg with its
various semantically equivalent forms (milligram,
mgs and
milli-grams). The resulting document set is then reduced (to 40).
Finally, the query matcher applies the IntervalFilter, which restricts
the document set to only those annotations that mention daily use
by day|by hour. The result is a document set consisting of 21
documents. The ability to extract such search results, based on the
grammar, is key to effective domain specific search. In the next
section we discuss the user-driven evaluation of our hybrid search
system based on the application of our overall search paradigm to
the domain of prescription drug abuse.

3. Evaluation

Search systems are typically evaluated using precision, recall
and F-Score metrics computed against a baseline of relevant doc-
ument, for various queries. However, in prescription drug abuse,
gold standard datasets are unavailable. In general, the unavailability of standardized datasets for evaluating semantic search system
is a common issue in the semantic web community [20,21]. To
evaluate our approach, we perform a comparative analysis of our
system against existing search systems through a user-driven eval-
uation. We note that subjective differences in user agreement and

5 Please note that in compliance with the Institutional Review Board (IRB)
protocol approved for the PREDOSE project at the Wright State University, to which
we are required to adhere to, the names of the selected sources have not been
disclosed.

Fig. 3. Sample AQL queries.

2.2. Semantic metadata extractor

The semantic metadata extractor (Fig. 1, right) identifies textual
patterns (i.e., system queries) in the corpus that match the productions in the grammar. The extractor maintains a database of mappings between these textual patterns in the corpus and web forum
posts, which contain them. All annotation extraction is performed
offline in a pre-processing step. Given a system query, the query
matcher (Fig. 1, bottom left) retrieves the matching documents after applying various filters (discussed in Section 2.3).

To retrieve the semantic metadata from the corpus we rely
on the SystemT [14,15] framework, and its declarative language
specificationAQL (Annotation Query Language). SystemT is a
scalable algebraic framework for extracting structured information
from unstructured text. It abstracts and manipulates textual data
using relational operators such as select, join, union and consolidate.
Queries can be formulated using AQL then executed with SystemT.
AQL is based primarily on two constructs: the view and the dictio-
nary. An AQL dictionary contains a list of strings and can be exposed
as a view. For example, the Buprenorphine dictionary (Buprenor-
phine_dict) shown in Fig. 3(a) contains several synonyms for this
concept obtained from the DAO. This dictionary can then be exposed as the Buprenorphine_view as shown in Fig. 3(b). More complex views (or patterns) can be derived by nesting existing views.
Fig. 3(e) shows the AQL query that extracts textual patterns for
the production: template pattern  entityroadosage,
where roa refers to route of administration (ROA). The EntityROADosageView is an annotator in which an entityroa pattern must occur within 4 tokens of a dosage expression. As
shown in Fig. 3(d), a dosage expression can be defined as any
numerical value that co-occurs with a unit, or any decimal value
combined with a unit (see Appendix).

All AQL queries are written, compiled and published for
execution on the corpus using the IBM BigInsights platform.

Table 3
Evaluation: user query scenarios.

What specific information is being shared by individuals in the corpus on the use of Buprenorphine in dosages exceeding 4 mg daily?
What negative sentiments (or experiences) are being conveyed in the corpus by individuals towards the use of Buprenorphine?

Table 4
User queries for scenario 1.

Freeform user queries scenario 1 (for Google, Hakia, DuckDuckGo)
site:domain.name daily buprenorphine dosage >4 mg
site:domain.name using bupe more than 4 mg
site:domain.name buprenorphine dosage excess 4 mg daily
site:domain.name buprenorphine dosage more than 4 mg daily
site:domain.name buprenorphine dosage over 4 mg daily
site:domain.name (buprenorphine OR bup) dosage daily (above 4 mg OR over 4 mg OR more than 4 mg)

relevance judgments may unduly impact the quality of the evalua-
tion, as noted by Blanco et al. [22]. Still, the expectation is that our
domain specific information retrieval system will perform better
than existing search systems, for these domain specific searches.
Hence, the goal of the evaluation is to assess the shortcomings of
existing systems and stress the need for richer systems for domain
specific searches.

We selected three search systems for evaluation: (1) Hakia,
(2) DuckDuckGo and (3) Google. Hakia was selected because it uses
a SemanticRank algorithm together with background knowledge
for search, and therefore fits the characteristics of a classic
semantic search engine. DuckDuckGo was selected because it is
uses crowd-sourced data from Wikipedia, Wolfram Alpha and
Bing (formerly Powerset). The popular search engine Google was
selected due to its prominence in general purpose search.

To conduct the evaluation we asked colleagues, not involved in
this research but attached to the Kno.e.sis Center to participate in
the user study6 Each query was executed on the same undisclosed
web forum and provided a priori to evaluators after a short tutorial
of the system. Each evaluator was asked to evaluate the relevance
of retrieved documents across all four systems. Initial relevance
judgments were based on the text snippet in the search result. If
deemed interesting, document should then be explored to confirm
or disprove relevance.

Two query scenarios were used in the evaluation (shown in
Table 3). Each was then repeated once with different constraints.
Thus, four scenarios were examined. These scenarios require
interpretation of ontological concepts, concepts in lexicons, and
rule-based derivations. Lexico-ontology concepts are not included
in the evaluation, however we note that several queries for which
they are relevant, exist in PREDOSE.7

In the first query, which is What specific information is being
shared by individuals in the corpus on the use of Buprenorphine
in dosages exceeding 4 mg daily?, our system interprets the
keyword buprenorphine using the ontology, the keyword daily
using the lexicon, the keyword individuals using a lexicon,
and the phrase dosages exceeding 4 mg through rules in the
grammar. In the second query, the keyword buprenorphine is
again interpreted from the ontology, the keyword individuals
is interpreted using a lexicon and the keyword phrase negative
sentiments is interpreted using the sentiment lexicon (and the
method by Chen et al. [18]). The evaluators were asked to perform
their evaluation by first dynamically formulating a query of their

6 A live version of the search system is available online for option viewing
http://knoesis-hpco.cs.wright.edu/knowledge-aware-search; (please refer to the
accompanying video demo for a system overview).
7 Numerous search queries are available online for optional viewing
http://wiki.knoesis.org/index.php/Knowledge-Aware-Search-Evaluation.

choice, for use in Google, Hakia and DuckDuckGo, but using a static
query in PREDOSE. This dynamic query requirement was intended
to capture the subjective viewpoints of the various evaluators. All
measures are based on the top 20 hits in each search system.
Scenario 1: Six evaluators completed the evaluation by formulating an appropriate query of their choice for the web searches
(i.e., Google, Hakia and DuckDuckGo), but using the following specific user query to search PREDOSE: Buprenorphine
personal pronoun >4 mg by day|by hour. Table 4 shows
that among the redacted search queries for each user, each contained a mention of the keyword buprenorphine and various expressions for excessive dosage, including the greater than operator
>, more than, dosage excess, and over.

Fig. 4 (top left) shows the results across the four systems. Our
system retrieved 16/20 relevant results across the six evaluators.
Google performed second best, by retrieving 14/20 relevant (but
different) documents according to the human judgments. The
Google search results showed that it was indeed able to retrieve
documents with semantic equivalents for buprenorphine (namely
Suboxone and bupe). However, the variability in our system was
much greater. In particular, Google did not highlight any search
result which contained a dosage greater than 4 mg. Instead, greater
amounts occurred serendipitously in the snippet of search results.
This is in stark contrast to our system in which all documents
met this constraint. Furthermore, the result set in our system
contained a few mentions of dosage in excess of 32 mg, which is
considered the known limit by epidemiologists. Hakia retrieved
4/20 relevant search results, which were not very informative. So
were the search results from DuckDuckGo, which retrieved only
3/20 relevant results. On close inspection, we observed that their
poor performance was largely due to an inability to interpret the
semantics of the greater than (>) operator. Most search results
were retrieved because they contained the label buprenorphine
itself and other query elements.

Fig. 5 shows a screenshot of the results from our hybrid search
system for this scenario. The selected web forum is indicated as
Site Y under the Data Sources(s) panel (top left). As shown in the
Template Query Builder interface (Fig. 5, top right), to construct
the user query for the information need, the evaluator must first
select the template class entity, and then select the nonterminal
Buprenorphine from the list. This concept is expanded according
to the grammar production entity  L(C)  Ls(C)  L(R) 
Ls(R), which includes all slang terms and labels for all subclasses
and individuals. The respondent then selected the template class
pronoun and selected the set of all personal pronoun, which
is interpreted according to a lexicon of pronouns. The evaluator
then selected the template class dosage , which is interpreted
according to the rules applied to the alphabet in the grammar
(see Appendix). Finally, the evaluator selected the template class
interval and then the nonterminals by_day and by_hour.

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

Fig. 4. Evaluation scenarios: 1 (top left), 2 (top right), 3 (bottom left), 4 (bottom right).

Fig. 5. Screenshot of search results from our hybrid information retrieval system for scenario1.

The search results are shown in the Template Pattern Search
Results Grid (Fig. 5, bottom left) and the Integrated Template
Pattern Content Viewer (Fig. 5, bottom right). Among the search
results, note first that all documents contained an amount greater
than 4 mg. Second, there were only 2 search results that contained
the actual label buprenorphine in their annotation. This list of
synonyms is as follows: subs-12, sub-2, Subutex-2, Suboxone-3,
Buprenorphine-2. Both events can be attributed to the level of
interpretation performed by the grammar.

We note that a search result is considered if at least 4/6 evaluators agreed the result was relevant. This is reasonable because
the significance of kappa scores across multiple users may dimin-
ish, but not necessarily indicate a major disagreement. Although
Fleiss kappa may be used instead, the results from this slight majority seems reasonable. And since each user query could be (and
indeed was) different among the 6 evaluators, as shown in Table 4,
relevance agreement for specific search results among the other
sources (i.e., Google, Hakia and DuckDuckGo) is of little meaning.
To compute the relevance of search results in the top 20, we considered agreement positionally, on the relevance of each results across
the separate lists. That is, among the evaluators how many agreed
their first, second, third result and so on, were relevant. Given
the absence of a goal standard dataset for evaluation, as noted in
[2022], was deemed a reasonable compromise.
Scenario 2: The same evaluators repeated the evaluation for a
different query scenario. This time, to find relevant documents
that discuss: negative sentiments/experiences resulting from
the use of Buprenorphine (Table 3, row 2). The selected free
form queries used by the evaluators are listed in Table 5. The
following specific user query was provided for use in our system:
Buprenorphinepersonal pronounnegative for the template
pattern entitypronounsentiment.

Fig. 4, top right, shows that our system retrieved relevant 11/20
search results. This drop is likely because of the difficulty in interpreting the nonterminal negative sentiment. Google retrieved
9/20 relevant results. However, we noticed that their search results did not contain sentiment-conveying keywords other than
those specified by the user. Our system retrieved the following sentiment expressions in the results (f*up-1, sh*t-2, weird-
2, disappointed-1, f*ing weird-2, hated-1, rough-1, nauseous-1),
which were not specified in the user query, but based on the interpretation of negative sentiment in the grammar (see Appendix).
Hakia and DuckDuckGo also performed less effectively, due to an
inability to interpret negative sentiment as formulated in the
user queries.
Scenario 3: Unlike the previous two scenarios, we asked 6 evaluators to search Google, Hakia and DuckDuckGo using the following
specific search query: site:domain.name buprenorphine dosage
excess 4 mg daily. We performed this evaluation to assess the
objective relevance judgments across the same search results. In
this set, 3 evaluators were the same from Scenarios 1 and 2, and
there were 3 new. Fig. 5 (bottom left) shows that this set of evaluators agreed that slightly more documents were relevant to the
information need for the given query. A total of 18 out of 20 results were considered relevant in PREDOSE (an increase of 2), compared with 13 for Google (a decrease of 1). Within this set of 18
relevant search results, a few contained a mention of usage in the
region of 32 mg, which is considered an upper bound. We also observed that among the 13 relevant Google results, none of the highlighted amounts was greater than 4 mg, but rather serendipitously
contained greater amounts in the surrounding text. This reaffirms
what is already known; Google does not interpret keywords to any
significant degree, but rather performs keyword-based query ex-
pansion. DuckDuckGo showed a striking increase in the overall
number of relevant results, increasing from 3/20 to 11/20. This

suggests that the search query provided by our team for this evaluation was more effective in retrieving search results. Still how-
ever, it was observed that only few document snippets highlighted
amounts that were greater than 4 mg. The relevant search results
in Hakia also increased from 4/20 to 9/20 with only 3 highlighted
amounts greater than 4 mg.
Scenario 4: Finally, the same procedure was repeated using the
following specific query (site:domain.name buprenorphine bad
experience) provided by our team for the same information
need from Scenario 2. That is, find relevant documents that dis-
cuss: negative sentiments/experiences resulting from the use of
Buprenorphine. Fig. 4 (bottom right) shows that our system retrieved 11/20 relevant search results and again outperformed
Google (7/20), DuckDuckGo (6/20) and Hakia (which notably did
not retrieve any relevant results for the query).

4. Related work

In this section, we provide an overview of semantic search and
hybrid information retrieval systems, which rely on semantic web
technologies. Semantic Web offers to create machine-processable
representation of real-world concepts, whose meaning can be
exploited for various tasks across heterogeneous information
environments [23]. Semantic search, as an application of semantic
web technologies, is intended to enhance the retrieval of more
accurate and high quality search results, when compared with
traditional keyword-based search models and their various
enhancements. An early realization of this idea has been the
Semantic Content Organization and Retrieval Engine (SCORE)
[11,24,12], which uses both ontologies and rules (derived using
regular expressions) for search. SCORE and its successor Semagix
FREEDOM [25,26] were early platforms that integrated structured
knowledge and additional intelligible constructs to support realworld and commercial knowledge-driven applications.

In this work we go beyond the functionality provided by SCORE,
by providing search support for: (1) classes of query elements
modeled almost exclusively in lexicons (such as positive and
negative sentiment expressions, and varying types and degrees of
emotions), (2) information in lexicons, with only partial ontology
representation, such as side effects, route-of-administration (ROA),
and drug form, and (3) elements that belong to broad classes
(including certain parts-of-speech), levels of intensity (high, low,
average), and fuzzy interval references (past, present, future, etc.).
Moreover, we perform a deeper level of interpretation of certain
rule-based constructs (such as >4 mg), through a low-level CFG
for query interpretation. We perform these tasks in addition to
ontology-driven and rule-based search as was implemented in
SCORE.

Popov et al. [13,27] developed KIM that supports semantic
annotation and search for entities and entity-patterns from the
ontology that are also present in the corpus. The search is enhanced
with support for lexical resources (such as currency, date, location,
aliases, abbreviations etc.) not typically represented in ontologies.
To achieve this, Popov uses a modified pattern-matching grammar
based on GATE, which recognizes relations in text, by gleaning
entity associations from predicates in the ontology schema. While
KIM is similar to our approach, we provide a more inclusive hybrid
search system, which supports the retrieval of two additional
types of data not considered by KIM: (1) from lexicons and
(2) lexico-ontology concepts. Moreover, our system is more loosely
coupled to accommodate query elements not in the ontology,
while providing a broader range of pattern-based search through
a top-level CFG. Additionally, we evaluate the relevance of search
results for specific complex information needs in a domain specific
setting. Popov et al. [13,27] evaluate the precision and recall
of annotations types (elements in our second-level grammar)

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

Table 5
User queries for scenario 2.

Freeform user queries scenario 2 (for Google, Hakia, DuckDuckGo)
site:domain.name side effects for buprenorphine
site:domain.name side effect for buprenophine | bup | bupe | bupes | suboxone
site:domain.name buprenorphine bad experience
site:domain.name buprenorphine horrible experience
site:domain.name buprenorphine horrible
site:domain.name buprenorphine (horrible OR side effect) buprenorphine (bad experience OR side effect)

rather than actual results of semantic search. Although a search
evaluation on television and radio news articles was conducted
in [28] using KIM, but based on ontology and keyword-based query
interpretation.

Guha et al. [4] presented a prototype semantic search system
called TAP, that interprets keywords according to real-world
concepts modeled in background knowledge. Various heuristics
were used to find matching subgraphs for single keyword queries
and keyword pairs. The retrieved structured data was then
rendered as an augmentation of search results from the document
list,
in a Google-style search interface. A key issue is that
while the information gleaned from background knowledge may
complement the search results in the document list, there is an
assumption that query elements can be mapped to the ontology in
the first place. This assumption will not always hold, as the authors
themselves note, if the search term does not denote anything
known to the Semantic Web, then we are not able to contribute
anything to the search results.

5. Discussion

In this paper we present a knowledge-aware search system
based on a CFG, to enable domain specific information retrieval for
the domain of prescription drug abuse. The need for external resources to complement ontologies when addressing complex information needs is not isolated. In the development of Watson,
the DeepQA research project [33] at IBM T. J. Watson Research
Center exploited a range of data sources, including unstructured
data (e.g., typical web pages, blog posts) and semi-structured data
(e.g., Wikipedia) to completely structured data (facts mined from
the Web or [from] pre-existing databases) [34] for question answering (QA) in the Jeopardy! Challenge. Our approach is consistent with this view, and other semantic search applications
[11,13] capable of interpreting multifaceted queries involving
ontological concepts and additional intelligible constructs. There
continues to be a growing realization that to effectively address practical information retrieval problems, current knowledge models must be enhanced, by incorporating semantic
enrichment modules capable of interpreting heterogeneous data.
The implemented Template Pattern Explorer is currently in use by
epidemiologists at the Center for Interventions, Treatment and
Addictions Research (CITAR) at the Wright State University. Fur-
ther, the existing grammar is being extended for application to
other social media and unstructured clinical notes. These in-
clude: (1) clinical notes [35],
from which the grammar was
inherited, (2) eDrugTrends  http://wiki.knoesis.org/index.php/
EDrugTrends, (3) biomaterials and materials science  http://wiki.
knoesis.org/index.php/MaterialWays and (4) knowledge acquisition from EMRs, which are project at Kno.e.sis (http://knoesis.org).
While the approach outlined in this application shows early
progress, there are several limitations. The first limitation is that
the manual specification of the grammar for each application is
cumbersome and not scalable. General-purpose search engines
perform well on the web due to the implementation of generic
search algorithms. While it is difficult to implement a generic
algorithm that can effectively retrieve data for specific domains,
a greater degree of automation in grammar composition is
needed. Second, template-based query specification also requires
considerable domain expertise and familiarity with the search
application. A less restrictive query specification interface, such
as those based on keywords or natural
language queries is
under consideration. Another critical issue is the need for entity
disambiguation to filter out spurious results. False positives
impact the overall accuracy of the system, and the relevance of
the generated search results. While our earlier results, reported
in [17], showed that approximately 85% of entities are correctly
identified in our system, entities such as alcohol, cannibis and
oxycontin are highly ambiguous. A context-aware methodology
for entity disambiguation, such as that implemented by Mendes
et al. [36] could be beneficial. Likewise, ranking search results,
which is currently not provided, may be crucial
in search
scenarios where many search results exist. Popular concepts such
as methadone and heroin, which occur with high frequency
in the corpus can generate many search results, which may
be overwhelming for domain experts to explore. Additionally,

Thirunarayan and Immaneni in [29] also developed a hybrid
query language to unify web of data and web of documents,
This approach improves both: (1) information retrieval from
Semantic Web through keyword-based search and (2) semantic
search of hyperlinked web documents through the exploitation
of inheritance hierarchy. Their lucene-based SITAR (Semantic
InformaTion Analysis and Retrieval) system provided enhanced
retrieval from combined data sources such as AIFB SEAL. SITAR
contains information about researchers that combines both
structured and unstructured data.

Lei et al. [3] developed a semantic search engine called Sem-
Search, which is another ontology-driven system for keywordbased search over documents. However, SemSearch provides
flexibility in query interpretation by also providing search support
using Lucene, for keywords not present in the ontology. In the case
of complex queries that contain multiple keywords, facts from the
ontology are used as templates for query interpretation, similar to
the approach in KIM [13].

Keyword-based semantic search systems offer a tradeoff between query expressiveness and accuracy of query interpreta-
tion, both of which affect the quality of the retrieved search
results. Hence, there is a body of research focused on natural
language query interfaces for semantic search [3032,1,68], to
provide more query expressiveness. Lopez et al. developed AquaLog [30] and PowerAqua [32], which translate natural language
user queries into binary relational (triple) format, consistent with
ontological representations. Fernandez et al. [31,1] utilize PowerAqua for ontology-driven natural language query interpretation
over documents. Queries expressed in natural language are translated into a formal representation using SPARQL. The document
corpus is annotated based on entities, which populate the ontology
knowledgebase of instances. In this way, the knowledgebase is a
representation of the corpus, through the association of its annota-
tions. While this approach is plausible (like SCORE), it requires that
the corpus be represented in the ontology. The technique used for
corpus annotation must necessarily be aware of the various types
of query elements, extract them and represent them formally in
the ontology. This is a challenging problem, as not all data types are
suited for ontology representation, let alone querying using ontology query languages.

a method that can dynamically identify new and frequently
occurring template patterns in text could improve the scalability
of our approach. The 60 template patterns used in this study were
created manually, based on information needs provided by domain
experts. However, such resources may not be available in other
domains. In spite of these and many other limitations, this research
is an early effort to develop a search system which addresses
complex domain specific information retrieval in prescription drug
abuse. We believe that overcoming the aforementioned limitations
will only serve to improve the overall quality of the search system.

6. Conclusion

In this paper we presented a hybrid information retrieval system for domain specific information retrieval, applied to prescription drug abuse, which uses a context-free grammar to specify the
query language of expressions interpretable by the system. Our
hybrid approach is capable of interpreting four types of query
elements: (1) ontological knowledge, (2) concepts in lexicons,
(3) concepts in lexicons with partial ontology representation (i.e.,
lexico-ontology) and (4) intelligible constructs defined exclusively
through rules. The system uses template-based query specification
to facilitate interpretation of domain specific query elements. In
an evaluation against the contemporary semantic search system
(Hakia), the crowd sourcing-based search system (DuckDuckGo)
and the popular search engine Google, our system performed satisfactorily in retrieving relevant results for complex information
needs. A live web application is currently available and in use
by epidemiologists conducting research on emerging patterns and
trends in prescription drug abuse using social media. The search
system is also available online for option viewinghttp://knoesis-
hpco.cs.wright.edu/knowledge-aware-search, together with an accompanying video demo http://bit.ly/kasdemo.

7. Author contributions

Delroy Cameron assisted in writing the manuscript and
developed key aspects of the overall hybrid information retrieval
system, and also contributed many ideas for the overall research.
Amit P. Sheth established the interdisciplinary collaboration of the
PREDOSE project, guided the development of the project, while
providing ideas for its positioning within semantic search and also
contributed to the writing. Krishnaprasad Thirunarayan developed
key aspects of the context-free grammar and also provided crucial
research ideas. Nishita Jaykumar, Gaurish Anand and Gary A.
Smith assisted with many aspects of the system, including system
implementation and evaluation, and the provision of various
supporting online resources.

Acknowledgments

The research is funded in part by the National Institute on Drug
abuse (NIDA) Grant No. 5R01DA039454-02 titled: Trending: Social media analysis to monitor cannabis and synthetic cannabinoid
use and by Grant No. R21 DA030571-01A1. Any opinions, find-
ings, conclusions or recommendations expressed in this material
are those of the investigator(s) and do not necessarily reflect the
views of the National Institutes of Health. We would also like to
thank other members of the research team, including Raminta Da-
niulaityte, Drashti Dave, Revathy Krishnamurthy, Swapnil Soni and
Kera Z. Watkins.

Appendix. Context-free grammar

This appendix provides a partial listing of the context-free
grammar (CFG) in Backus-Naur Form (BNF), which is used to interpret the query language U of our hybrid information retrieval system H. Further details are available online: http://wiki.knoesis.
org/index.php/Knowledge-Aware-Search.

A.1. Start symbol

The Start Symbol of the grammar is the nonterminal template
pattern. This start symbol supports productions containing sequences of template class nonterminals from the set NS. There
are 61 specific sequences of template classes supported by the
start symbol.8 To avoid listing these in detail the kleene start operator is used in the first production below. The complete list
of productions is available in the online supplementary materials (http://wiki.knoesis.org/index.php/Knowledge-Aware-Search-
Productions).
1. template pattern   template class

A.2. Template classes

There are 11 nonterminals in the set of template classes in NS

that comprise the top-level grammar.
2. template class  interval|frequency | dosage
|entity|roa| drugform| sideeffect| emotion
|pronoun| intensity| sentiment

A.3. Productions

5. period_duration  past_determinerrange

4. duration_period  past_determinerrangeperiod

The set of nonterminals of in G are shown in the following
productions.
The interval template class is defined as follows:
3. interval  duration_period|period_duration
|time_period|period_time|amount_time_period|
amount_time|period_amount_time|
amount_duration_period|amount_duration|
period_amount_duration
|present_determinerrangeperiod|
future_determiner range period
duration_indicator|present_determinerrange
duration_indicator|future_determinerrange
duration_indicator
6. time_period  time_indicatorrange
past_determiner|time_indicatorrange
present_determiner|time_indicatorrange
future_determiner
time_indicator|present_determinerrange
time_indicator|future_determinerrange
time_indicator
time_past_period|amountrange
time_present_period|amountrange
time_future_period

7. period_time  past_determinerrange

8. amount_time_period  amountrange

8 http://wiki.knoesis.org/index.php/Knowledge-Aware-Search-Productions.

D. Cameron et al. / Web Semantics: Science, Services and Agents on the World Wide Web 29 (2014) 3952

10.period_amount_time  past_determiner range

11.amount_duration_period  amountrange

9. amount_time  amountrange
duration_past_period|amountrange
duration_present_period|amount
rangeduration_future_period
amount_time|present_determinerrange
amount_time|future_determinerrange
amount_time
duration_past_period|amountrange
duration_present_period|amountrange
duration_future_period
12.amount_duration  amountrange
duration_indicator
13.period_amount_duration  past_determiner
range amount_duration | present_determiner
range amount_duration | future_determiner
range amount_duration

times

frequency_time
biweekly | monthly | yearly | annually

per_indicator range week
month
year

41.amount_per_duration  amountrange
42.frequency_item  hourly | daily | weekly | bi-weekly |
43.per_indicator  per | / | frequency_indicator
44.per_second  per_indicator range second
45.per_minute  per_indicator range minute
46.per_hour  hourly | per_indicator range hour
47.per_day  daily | nightly | per_indicator range day
48.per_week  weekly | bi-weekly | biweekly |
49.per_month  monthly|per_indicatorrange
50.per_year  yearly | annually | per_indicator range
51.per_decade  per_indicator range decade
52.per_time_indicator  per_second | per_minute |
per_hour | per_day | per_week | per_month
| per_year | per_decade
duration_indicator
per_time_indicator
frequency_indicator

53.per_duration_indicator  per_indicator range
54.amount_per_time_indicator  amount range
55.amount_frequency  amountrange
56.frequency_indicator  times | times a | times an | both
The dosage template class is as follows:
57.dosage   numeric_amount_unit
| worded_numeric_amount_unit
The entity template class is as follows:
58.entity  L(C)  Ls(C)  L(R)  Ls(R)
The route-of-administrationroa template class is defined as
follows:
59.roa  enteral|epidural|intraarterial
|intracardiac|intracerebral|intradermal
|intramuscular|intravenous|inhalational
|intraperitoneal|intrathecal
|intraosseousinfusion|nasal|parenteral|
transdermal |transmucosal | topical|
subcutaneous

bumping | railing | doozing
plugged | smoke | smoked | sniff | snort | ...

60.intraperitoneal  intracerebral
61.intrathecal  intracerebral
62.intraosseous infusion  intracerebral
63.parenteral  epidural
64.intramuscular  epidural | skin poppin
65.intravenous  intraarterial
66.topical  transdermal
67.subcutaneous  intracerebral
68.intradermal  intraarterial | sniff | snort | snorting |
69.enteral  ate | chewing | drink | eat | insufflate | plug |
70.epidural  inject | injected | injection
71.intraarterial  IV | IVed | IVing |inject | injected | ...
72.intracardiac  epidural
73.intracerebral  epidural
74.inhalational smoke| smokes| smoked| smoking| sniff
| sniffed | sniffing | snort | snorted | snorting | bumping |
railing | doozing
75.nasal sniff| snort| snorting| bumping| railing| doozing
76.transdermal  patch | patches
77.transmucosal  snort | snorted | snorting | sniff | sniffed

| sniffing | bumping | railing | doozing

noon
future_determiner

14.time_indicator  hour | minute | second
15.duration_indicatordecade|year|month|week
16.decade  decade | decades
17.year  year | years | yr | yrs | annum
18.month  month | months | mth | mths | mo
19.week  week | weeks | wk | wks
20.day  day | night | nite | morning | evening | afternoon |
21.period  past_determiner|present_determiner |
22.past_determiner  ago | prior | previous | since | before |
23.present_determiner  now | about | around | several | ...
24.future_determiner  next | later | after
25.second  second | seconds | sec | secs
26.minute  minute | minutes | min | mins
27.hour  hour | hours | hr | hrs
28.number  N
29.numeric_amount  R
30.worded_amount  one | once | two | twice | three | thrice
| four | five | six | seven | eight | nine | ten | eleven | twelve |
thirteen | fourteen | fifteen | sixteen | seventeen | eighteen |
nineteen| twenty| thirty| forty| fifty| sixty| seventy| eighty
| ninety | hundred

...

31.amount  number | worded_amount
32.range  [0  number]
The frequency template class is defined as follows:
33.frequency  per_time_indicator

|per_duration_indicator
|amount_frequency_duration
|period_frequency_duration
|period_frequency_time|amount_frequency_time
|amount_per_time|amount_per_duration
|frequency_item
34.amount_frequency_duration 
amount_frequency range duration_indicator
35.frequency_duration  frequency_indicator |
range duration_indicator
36.frequency_time   frequency_indicator range
time_indicator
37.period_frequency_duration  period_determiner
rangefrequency_indicator
38.period_frequency_time  period_determiner
range frequency_time
39.amount_frequency_time  amountrange
frequency_time
40.amount_per_time  amountrange
per_time_indicator

The drugform template class is defined as follows:
78.drugform  liquid | solid
79.liquid  syrups | elixirs | suspensions | ointment |...
80.solid  powder | tablet | tablets | tab | tabs | pill | ...
The sideeffect template class is defined as follows:
81.sideeffect  mild | moderate | severe
82.mild  bruising | itching | itching of skin | tingling | ...
83.moderate  blisters | blistering | skin blisters that are
itchy | skin blisters that are painful | skin discoloration | ...
84.severe  abnormal heartbeat | bone pain | chest pain |
chest discomfort | chest tightness | chills | coma | ...
The emotion template class is defined as follows:
85. emotion  affection | lust | longing

| cheerfulness | zest | contentment | pride |
optimism | enthrallment | relief | surprise |
irritation | exasperation | rage | disgust | envy |
torment | suffering | depression | disappointment
| shame | neglect | sympathy | horror | confuse
| discontentment | embarrassment | forgiveness |
thankfulness | blame | nervousness | love | joy |
anger | sadness | fear

| attraction | caring | ...
infatuation

optimism enthrallment relief
envy torment
disappointment |shame|neglect|sympathy

86. love  affection lust longing
87. joy  cheerfulness zest contentment pride
88. anger  irritation exasperation rage disgust
89. sadness  suffering|depression|
90. fear  horror | nervousness
91. affection adoration| affection| love| fondness| liking
92. lust  arousal | desire | lust | lusting | passion |
93. longing  longing
94. cheerfulness  amused | amusement | bliss | blithe | ...
95. zest  enthusiasm | zeal | zest | excited | exciting |
excitement | thrill | thrilling | exhilaration
96. contentment  contented | contentedness | contentment | pleasure | satisfied | satisfaction | gratified | grati-
fication
97. pride  pride | proud | prideful | pridefulness | triumph
98. optimism  eagerness | expecting | hope | hopeful |
99. enthrallment  enthrallment | enthrall | rapture
100. relief  relief | ease | relaxation | alleviation
101. surprise  amazement | amazed | surprise | surprised
| surprising | astonished | astonishment | astounded |
unexpected
102. irritation aggravation| irritation| irritated| irritating
| agitation| annoyed| annoyance| disturbing| grouchiness
| grumpiness

hoping | hopefulness | optimistic | optimism

103. exasperation  exasperation | frustration
104. rage  anger | rage | outrage | fury | wrath | hostility | ...
105. disgust  disgust | revulsion | contempt | disgusting |
106. envy  envy | jealousy | jealous | envying
107. torment  torment | tormented
108. suffering aggravation| irritation| irritated| irritating
109. depression  depressed | depression | depressing |
110. disappointment  dismay | disappointment | disap-

| ...
cheerless | despair | despairing | ...
pointed | disappointing | displeasure | letdown

disgusted

...

...

| ...

ate | ...

| remorseful | guilt | remorse | guilty | ...

111. shame ashamed| shame| regret| regretful| regretting
112. neglect  alienation | isolation | neglect | loneliness | ...
113. sympathy  pity | sympathy | compassion | compassion-
114. horror  alarm | shock | hysteria | mortification | ...
115. confuse  confused | confusing | confusion | confuse
116. discontentment  discontent | discontented | ...
117. embarrassment  embarrassment | embarrass | ...
118. forgiveness  forgiveness | forgive | pardon | forgiving
119. thankfulness  thankfulness | thankful | appreciation |
120. blame  blame | blamed | blaming | ...
121. nervousness  anxiety | nervousness | tenseness | ...
The pronoun template class is defined as follows:
122. pronoun  demonstrative_pronoun
|personal_pronoun|possessive_pronoun
|reflexive_pronoun|relative_pronoun
|indefinite_pronoun|interrogative_pronoun

123. demonstrative_pronoun  this | that | these | those | ...
124. personal_pronoun  i | me | you | she | her | he | ...
125. possessive_pronoun  my | our | ours | your | yours | ...
126. reflexive_pronoun  myself | ourselves | yourself | ...
127. relative_pronoun  that | which | who | whom | whose
128. indefinite_pronoun  anybody | anyone | anything | ...
129. interrogative_pronoun  what | who | which | whom |
The intensity template class is defined as follows:
130. intensity  low | average | high
131. low  low | very low | lower | lower than | lowest | ...
132. average  average | ideal | ...
133. high  high | very high | higher | highest | large | ...
The sentiment template class is defined as follows:
134. sentiment  positive | negative | neutral
135. positive  Im glad | luckily | awesome | benefit | best
136. negative  big f*cking mistake | threw up | It was bad |
137. neutral  hope | longer | well | as well | ...
The set of contextual compilation defines additional semantics
for common constructs, which can be easily extended and reused
across different domains.
138. greaterThanOp  > | greater than | more than | above |
in excess of | slightly above | little more| bit more | slightly
more | high |...
139. lessThanOp  < | less than | lower than | below | in lack
of | slightly below | little less | bit less | slightly less |...
140. equalToOp  = | exactly | precisely | ...
141. greaterThanEqualToOp  >= | greater than | greater than
or equal to| more than| above| in excess of| slightly above
| little more | bit more | slightly more | exactly | precisely |
high | ...
142. lessThanEqualToOp <=| less than| less than or equal to
| lower than | below | in lack of | slightly below | little less |
bit less | slightly less | exactly | precisely | ...

choices | best for me | best | ...
Its really rough | ...
