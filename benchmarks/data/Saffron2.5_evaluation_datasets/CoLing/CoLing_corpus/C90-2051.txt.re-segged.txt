, , c
Towards Convenient Bi-Directional Grammar Formalisms 
? I '?'

P . Newmzrn
IBM Pale Alto Scientific Center 1530 Page Mill Road
Pale Alto , CA 94304, US/Y
This paper discussestim advantages for practical bi:  , direclional grammars 6 ( combirfiug a lexical fbcus with the ( PEG-originated principle of immediate-dominance /line  . ar-precedence ( I\[)/1, P ) rule partitioning . 
It . also outlines an implenlentation approach f bllowing these gafidelines  . The approach is inspired by Slot Grammar , with additions including more explicit map . 
pings between surface and internal representations  , and preferential constihJent ordering , rules . 
~. Introductio ~ a
Timterm bidirectional gramrnar Jbrmal Lsm here refers to an implementation formalism capable of producing grammars usable in both analysis and generation  . Such grammars can be advantage ons for machine translation and other applicalions for reasons of ee ?' n ? my  ; they also aid in grammar validation , as suggested by Dymetman and lsabelle (1988) . 
There have been major strides taken in recent years in bidirectional formalisms  , based on ' many different paradigms , tn many cases some elements of tlm specifi- , cations are directiqn-unique , l lowever , bidirectionality '' Sr is not an end in it . el , , . as contrasted xE it hits potential gains . Sotile goal can be usef blly approximated witl ~ formalisms which make some limited distincfions between informatio ~ applying to parsing and to generation  . "' Amcng recent efforts ill this area at &' ( a ) the CRIITER . system described by l ) y metman . and Isabelle (1988) , in which an annotate detinite clause grammar is compiled differently based on the annotations  , for the two purposes , ( b . ) the inversion of a systemic generator by Kasper ( 1988 )   ( in wl fich phrase structure is said to be added mamially \[' or parsing  )  ,   ( c ) the I ) I'I\V'generator of Caraceni and Stock ( 1988 )  , which is based on arl aug-'mented trartsition network  ( ATN ) and which seems to employ a " gm~erate and , tesC , approach to generation , and ( d ) . the . P , erli , n GPS Gelrort of Buser 0 an and tauenschild (1988) , in w bich GPSG ( Gazdar , el . al . 
1985) is adapted for iniple menlation purpos . es ! o allow feasible rule specifica ! . i (~, n adsectuend ng . ; The purpose of this papei-is t'o . suggestrial for future work in operation alb, . '- dire 0 . ional fbrmalisms , approaches combining a high degree of 16xicalis:m with some form of GPSG qnspired II ) /LP phrfitioning of information appear especially promising  . Some formalisms with these cbaracte , ' istics are I he head-driven grammars liPS (   ( Pollard and Sa , g . 1987), arid Slot Grammar ( McCord !989a), . The latter is curre ~~ tly used in the machine translatiot !  ,  . ,~y . sl:em , I/MT-2 ( McCordtOg9b ) , \[) tll for parshlg only , Aspects of Slot Grammar will be used to illu . si , rate the discussion , which is int burparis , gee'lion2 discusses the . relatior ~ ship ,   6f a strong lexical conlponen to bl-dlt~ecfionality : " Section  3 discusses the ' difliculties of " obtaining realistic bidirectional grammars without an ID/I  , P separation , Section 4 discusses ways in which be addriven grammars ' , ' in particular ~ , Slot Grammar , avoid these difficulties . Finally , section 5 discusse some . proposed extensiot ~ s of Slot Grammar to ill ~l strate  , a possible organi , zation of information ff , rabead-driven bi-di ! ~ ecti'?n ~ llst:atom . at ', . -; IL ~!2 . Lexicalism and Bi-Directionality Probably the majority of ' contemporary grammars place cor ~siderable  , information in : the . . lexicml . .This is especially important in a N-directional , coptext . because it allows direction-fi'e estatements of :   .  ?  .  , /  .   .   . t .   ,   ; Semantic represenlati0ns of concepts m3d their associated modifiers ,  ?  .   . - -  .   . 
~Alterna JJ veways in which those semantic represent-'ations can be : realized in  . terms of alternative expression of depert dents , on a syntaclic level . T lf is includes identification or pro-lbrma elements such as ' required  prep0sitions Cw ; altFOR John') , and , entire ' pro-forumcomiSlerhents , uchas " ah and " in : ' g Deah and " ~ and fixed ' ~ pos\[tioninlbrmation for noncompositional and frozen compounds  . 
, U , nification-oriented mappings between flm ' ~ emantic and syntax-tiere prest-  ; nl~ation's . . '  .   .   .   . 
? l . exical , transformations originating in I . F'GBt Tesnan 1982) for . ch . a ! ~ geshi . . lexical form ( passivizatipn ) and category ( e . g . , n ominallzation ) , als Well as ' alternative realizations of some concepts  , ' fbrexample , those allowed ' via ' " raising " and " clefl . ing " .  , . ''' I . exicons incorporating various cornbhmtions of these teat  . ures are used . in most of ' I!\]ebl-directional systems mentioned in Section I  . Also ,  1 , ancef et al ( 1988 ) claim that significant bV difectionality is obtained in t  . lleSAG\[~system solely through the u~e of Such lexicons  , with differ qnt syntactic compone'ntsuse~l' the two processing directions  .   .   .   .   . 
3. Hnverting Non-ID/LP Grammars
Obtaining realistic bi-direction dl formulati0n , ; in grammars not liavi \] g an ID/LP partitioning of " information is  . problematical , because extending , the h " 0 rdering pro-visions to deal not . only with syntactic orrectness but also with semantic and textual factors exacerbates an a headyd illicull situatior l with  . regard to ordering in such grammars . tTo just it ? this statement , we look first , at current trends in non-ll )/1 . P grammars , and then at necessary exten-
S\]0t "; S,
In some contemporary versions of paradigms whose basic rules were originally intended to subsume both " ll  ) " and " LP " information , infbrmation is reorganized so the information expressed by the basic rules is quite limited  , and additions are needed to express the remainder  . The fundamental cause of the modifications is the need to effectively accornmodate he relatively fi ' eeorderings in clause constittmnts of many languages  . 
Thus , fbrexample , in augmented phrase structure grammars ( APSGs ) , which include definite clause grammars , it is in convenient ospecify each legal dependent ordering by a separale phrase structure rule  . Instead , as discussed by Jensen (1987) , it is more convenient to l ; , ) cus on binary rules , combining a node containing a head with one of its modifiers  , e . g . ,
VPO->VP\]hiP ; VPO->VP l PP ; etc , tJ singlhese binary forms , tile phrase structure portion of the rules indicate not much more than the side of a head on wM cha modifier may occur  . The " augmental . ions " have a number of responsibilities . They must indical eordering constraints among siblings in terms of f e  , atures recording subl . ree " states " ( i . e . , to Ihe exlent thai such slates are nol implied by lhe category names  )  . Also , explicit facilities are needed fbrsh ' ucture building to avoid separale nodes to teach rule applied  . 1lrinally , if tlle rules are used in combination with a lexicatorien-lation  , since modifiers are indicated in phrase structure rules by general category  ( e . g . , NP ) , augmenlations must locale and speci\[7 tire relationship hetween the modifier category and the specific modifier expressed type  ( e . g . , an expected complement ) . 
' lhere sull of this ( necessary ) movement of fimction away Iiom I : hebasic rules of the paradigm is a tendency toward somewhat laborious  , redundant speciticalion . 
" l'o illustrale lhekind of redundancy in w ) lved , we cowsh'uct an AI"SG style bin a : yrtfle for all achment of indirect objects  . 
" the example assumes a lexicon identil'ing potential r nodifiers of a head by frarnes  , which , by unification , map between syntactic and semantic representations of ' those modifiers  . To allow l brordering provisions , modi-licrfi'arnes\]rave associated labels , such as " in dobj " . We also assume that semantic representations of dependent sirmlude valency numbers for complemenls  . To avoid the development of two examples , we also ensure that the rule is bidirectionally applicable  . 
Vl : O->VP lhip choose modifier ( VPO , VPI , NP , in dobj , M , H1) eunify(VPO , VPI , ( has obj , modifiers )) uHify(VP1 . has obj , "-") union(M , gl , 11) tmify(VPO . modifiers , N ) uriify(VP l . modifiers , Ml ) ; This rule can be understood bi-direcfionally , if ' we assume tll at both the interpreter and " choose modifier " a redirect lon-sensitive  . In parsing the interpreter finds a constituent unlI  ) ing with ( cat = vp ) adjacent to one unifying with ( cat = rip ) and instantiates an almost empty constituent VP 0 ( cat = vp )  . " Choose modifier " then checks the lexicon to see if the head of VPI expects a modifier with label " in dobj " whose syntactic subframe unifies with the constituent NP  , and whose valency number is not yet tbund as a modifier in VP l  . If so , it returns the result of the full unification as M  , and the current value of VP1 . modifiers as M1 . 
" Eunify ~ destructively unifies two structures except for file listed attributes  . This serves in parsing to project head featnres upward  . In parsing lhenext " unify " function ensurest\ ] J at a direct object has not yet been included in VP l  . The remainder of the rule , in parsing , creates the dependent list for VP ( I by expanding that of
VPI to include the indirect object.
Similar rules could be constructed for less strictly ordered complements  , and for adjuncts . 
These operations have considerable inherent redundancy even though much flmction is abstracted out within " choose modifier "  . The " choose modifier " operation occurs in all complement attachment rules  . Feature projection and structure building occur in all rules  . 
lqnally , the actual precedencer t , leaspects can be expressed more perspicuously than via feature state testing  . Looking ahead slightly , one way of " summarizing the situation is to say that when a grammar paradigm which originally combines qD " and " LW resorts to binary rules  , especially in the presence of a lexical focus , the grammar becomes , to a hu'ge extent , a head-driven grammar , without the ability to lake fill ladvantage of the facloriug opportunities at lbrded  . 
3.2 Extensions for Bi-.Directionality
So far we have covered somewhat old ground . Why are these modified approaches especially problematic in a bi-dircctional context ? Because there one is laced with an unpleasant choice between probably untenable complexity and unnecessary generation  . 
To justil ) lhis claim , we return to the rule illustrated in section 3 . 1 , first examining ils assumed operation in a generative direction  . 
In generation the interpreter instantiates almost empty constituents VPI and NP  . " Choose modifier " then a U . empts to find an expected modifier frame for the head of  VP0 with the given label whose semanl Jcsubfi'ame ( containing a valency number ) unifies with one of the actual modifiers ( V P 0 . modifiers ) of VP 0 , and whose syntactic subfi'ame unifies with NP , returns the result as M , and the remainder of the modifiers as M1 , etc . 
1 Similar tendencies are observed in contemporary categorial grammars  . For example , Yoo and Lee ( 1988 ) use " quotient " categories which speciI ) unordered sets of possible arguments , togelher with separate 1 . t7 rules . Bes and Gardent ( 1989 ) also use sels within categories , together with order features to constrain adjacency  . 

But such rules do not really satisfytire requirements o\["generation  . They describe syntactically correct structures but specify no ordering constraints and preferences relating to either semantic onsiderations  ( e . g . , required orderings of adjective types in English  , and conventional orderings of verb modifiers ) or to textual considerations such as topic and locus  . In parsing such provisions are needed to detect extual features  , and in generation theym'e needed to use textual features to determine ordering  . 
if these provisions were added , the " feature testing " aspects relating to ordering would become considerably more complicated  , if expressible at all . This is because detecting and using textual considerations seems to involve taking irr to account he entire complex of " modi-tierst bra head  , which is extremely awkward in terms of binary phrase structure rules  . 
l laji cova ( 1989 ) describes topic/focus determination conditions for both English and Czech  ; they involve both semantic role information and complex sibling relationships  . If those conditions were expressed in tile context of binary rules  , it seems that a rule such as
VP\[~->VPlx in the parse would have the responsibility of assigning x to " lbcus " if there has been a break to the left of x in the conwmtional ordering of dependent roles  ( for Czech )  , and irr determinate otherwise ( until ffu ' ther dependents are found )  . In generation the rule might be license data stage in generation where x is either  ( a ) part of the topic , and VP0 contains only topic dependents , or ( b ) part of the tbcus and ranks highest of the dependents in  VP0 in the systemic order ' . ( Topic/focus identification criteria for\[: . nglish are also considered by I lajicova , and are more complicated ) . 
So adding textual provisions to phrase structure rules would pose a considerable challenge  . Simply put , attaching dependent so heads one at a time is a convenient approach in parsing  , but detaching them one at a time is not a convenient approach for generation  . 
On the other hand , if textual provisions are omitted from the grammar  , then generation would produce all syntactically legitimate sentences  . One would then use additional rule sets to select among all the generated utterances based on semantic and textually based  prefer-cnces2   ( And rules are also need to detect textual features during analysis  . ) 4 . Head Driven Grammars and Slot
Grammarlle addriven grammars which combine a lexical focus with a strict ID/LP partitioning avoid the problems described above  . We use Slot Grammar as an example . 
Ttle lexicon formulation of Slot Grammar is interesting in that it identifies dependents  , both complements and adjuncts , by " slot names " , a device originating in earlier work by McCord ( 1980 )  . The ( alternative ) sh ' uctures which can be used to realize those slots are Ihctored out into separate " filler rules "  . These rules contain conditions on both prospective fillers and associated heads  . 
They can thus be used to constrain/adjust features of the constituents under consideration  , e . g . , to instantiate agreernent . In other words , I hey can be used to express many 11) constraints . 
The basic linear precedence conditions of Slot Grammar are expressed by two types of rules  . " Head/Slot " rules indicate tile sides of the head on which a particular " slot " may appear  . These rules are conditional in terms of unifiers for both head and slot filler  . " Slot/slot " rules indicate , again conditionally , precedence rules among slots on the same side of a head  . 
Organizing infbrmation in tiffsway allows the elimination of the explicit : specification of many aspects of the rule shown in section  3  . 1 : 1 . Association of " categories " with complements and adjuncts is eliminaled-ordering is stated in terms of slots rather than the more general syntacticate-gories  . 
2 . " Choose modi Iier " becomes lhebasic , builtin control operation of the parser , and need not be expressed explicitly 3 . Struchn-ebuilding operations are , to a large extent , implicit . Only variations in feature projection , etc treed be expressed explicitly . 
The remainder of tire information in the rule is expressed by two short rules  , one whlch indicates that indirect objects thllon the right sides of beads  , and the other that they preceded h'ect objeds . 
The revised organization o1' information also provides the basis fbr dealing with semantic and textually corr di-tioned ordering requirements without either undue complexity or exhaustive generation  . This is because the inherent modularity allows the use of different control schemes for parsing and generation  . In parsing the control scheme can be ~ attach one dependent at a time "  , using immediate dominance rules and basic linear precedence constraints together  . In generation the control scheme can be altered to first generate sets of dependent & using just immediate dominance rules  , and then 2 There have been efforts to combine textual considerations with non-il  ) / l , P grammars . For example , Uszkoreit ( 1998 ) uses exhaustive numeration of alternative modifier orderings  , irmluding complements and adjuncts , with selection among alternatives made by a focus feature  . However , in parsing , the suggestion must somehow " collapse " to a set -oriented approach  , using the enumerated alternatives as a kind of LP rule  . Also , as implied by the results of l tajicova (1989) , and explicitly argued by Hauenschild (1988) , these provisions are not sufiq dent . 
2 96   3 ordering them using both basic precedence constraints and preference-oriented ones  . 
5. Current Direction
Recapitulaling , bi-direetional grammar effbrts combining lexicalism with an ID/LP separation seem most promising because  1  . A lexical lbcus in itself provides a great deal of bidirectional facility  . 
2 . In current grammars based on non-ll ) /LP paradigms , linear precedence constraints governing syntactic or rectness are expressed by constraints on features of one node of a binary rule  . F , x tending this approach to deal with preferential ordering is at best extremely complex  , and possibly infeasible , but the alternative seems to be exhaustive generation followed by filtering  . 
3 . In contrast , the modularity provided by an ID/LP separation allows rules to be applied in different combinations in parsing and generation  . 
In the work underlying tiffspaper , a multilingual machine translation project , a bidirectional grmn mar formalism is being developed inspired by Slot Grammar  , but with modifications including : 1 . adding a fully reversible morphological component in the lexicon  2  . expanding the lexical provisions to include explicit bi-direel Jonal mappings between syntactic and more abstract representations  3  . revising the notation to facilitate reversibility . 
4 . using a slot name type-lattice to simplil ) the expression of generalizations . 
5 . adding preferential precedence rules dealing with semanlic and textual considerations  . The preferential ordering rules are used in the analysis phase to detectextual features  , and are applied after a post-parse disambiguation analysis  ( based on a heuristic search algorithm described in  ( Newman 1988 ) ) . In generation , however , the pretbrential ordering rules are applied together with those expressing absolute ordering constraints  . 
A preliminary descriplion of these provisions has been documented  ( Newman , to appear ) . The preferential precedence rules are of two kinds : one kind relates to the association ot " dependenls with " zones " of a constit-uent  ( e . g . , pre-subject , pre-finite, . . . ) , and the other kind deals with their ordering within zones  . Zones are used because some aspects of dependent ordering are most conveniently described in those terms  , as discussed by Quirk et al (1972) , Uszkorelt (1988) and others .   3 Zone association rules express the preferences of certain types of modifiers for certain zones  , and also variations in these preferences due to textual considerations  . These preferences must bEbalanced , by heuristics , against the needs of other modifiers and the constraints imposed by the zones themselves  . Optimal ways of stating and using these preferences represents a major lbcus of our current work  . 


lies , G . G . , (? ardent , C . " French Order Without Order ", Proc . 4th Conf . of European Chapter of "
ACL (1989), 249-2552 . Buseman S . , l lauenschild C . " A Constructive View of GPSG or How to Make It Work "  , I'roc
COLING 88,778 23 . Caraceni , R . , O . Stock , " Reversing a Lexically Based Parser for GEn Eration  , " Applied Artificial Intelligence , vol .  2, \ ] /2 (1988) 149-74 4 . Dymetman M . , lsabelle , P . " Reversible Logic Grammars for Machine Translation "  , Pro ( :  2nd Int'l Confon Theoretical and Methodological Issues in the Machine Translation of Natural Languages  ( 1988 )  5 . Gazdar , G . , E . Klein , G . Pullum , I . Sag . , Generalized Phrase Structure Grammar , Basil Blackwell (1985) 6 . llajicova E . " Al ) ependency-Based Parsert br Topic and Focus ~ , Proe . In tn'l Workshop on
Parsing 7?ehnologies (1989) 448-4577 . l lauenschild C . "GPSG and German Word Order ", in U . Reyle , C . Rohrer , eds . , Natural Language Parsing and Linguistic Theories , Reidel (1988) . 
411-431 8 . Jensen , K . " Binary Rules and Non-binary Trees ", in A . Manaster-Ramer ( ed . ) , Mathematics qf Language , John Benjamins (1987) 9 . Kasper , R . T . " An Experimental Parser for Systemic Grammars " , ProeCOLING 88 ,  309-312 10 . Kartunnen !, . , " Radicall ~ exicalisn C , CSI , I Report
CS1,\[-86-68 (1986) 11 . 1, ancel , JM , Otani M . , Simonin N . , Danlos I , , " SAGE : A Sentence Parsing and Generalion
System ", Proe COLING 88, 359-36412 . McCord , M . C . , " Slot Grammars ", Computationa /
Linguistics , vol 6, 3143 (1980) 13 . McCord , M . C . " A New Version of Slot Grammar ",
IBM Research Report RC : 14506 (1989 a ) 14 . McCord , M . C . ~ A New Version of the Machine Translation System I  , MT " , IBM Research Report RC 14710 (1989b) , to appear in Proe . International Seien Hfie Symposium on Natural I . anguage and Logic , Springer Lecture Noles in Comput Er Science 15 . Newman , P . " Combinatorial Disambiguation %
Proe . ACL Conf . on Applied NLP (1988) 16 . Newman , P . " Symmetric Slot Grammar " , to appear in Proe 3rd Intn'l Confon 7'heoretieal and Methodological Issues in Machine 7>anslation of
Natural Languages June 1990   3 It might be noted that to allow meaning fld use of zones  , the syntactic structures used in the design are very fiat  . 
Fronting is not viewed , as in most current approaches , as an example of Iongo distance dependency . Rather , to simplify the statement of zone-allocation and other ordering rules  , dependents assigned to different zones are siblings and  , as in Kartunnen (1986) , auxiliaries are adjunct-like . 
4 297 17 . Pollard , C . and 1 . Sag , Information-based Syntax and Semantics Vol . 1, CSLI (1987) 18 . Quirk , R . , S . Greenbaum , G . l . eech , J . Svavtuik , A Grammar ( if Contemporaryl; . ' nglish Longman ( I972) 19 . Uszkoreit , I . Linear Precedence in D&e on tinuous Constituents . " Complex Fronting in German . CSLI
Research Report CSI , !-86-47(1988).
20 . Yoo S . , I , ee , K . " Extended Categorial Gramma (,
CSI , I Report CSL1-88-121(1988) 2985
