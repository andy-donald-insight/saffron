EXPLORINGTIlEROLE OF PUNCq'UATION IN PARSING NATURAl  , TEXT
Bernard EM Jones
Centre for Cognitive Science , University of l ; klinbnrgh , Edinburghl ' ~ H89ITvV , Scotland
Email : bernie Ocogsci.ed.ac.uk

Few , if any , current NLP systems make any significant use of punctuation  . Intuitively , a treatment of l runctuation seems necessary to the analysis and production of text  . Whilst this has been suggested in the fiekls of discourse strnetnre  , it is still nn clear whether punctuation can help in the syntactic field  . This investigation atteml ) ts to answer this question by parsing some corpus -based material with two similar grammars-one including rules for i  ) unctuation , the other igno , ' ing it . The punctuated grammar significantly out q ) erforms the unpunct nated on % and so the conclnsion is that punctuation can play a use fifl role in syntactic processing  . 
INTRODUCTION qT'here are no cnrrent text I ) ased natural language analysis or generation systems that make fl fll use of punctuation  , and while there are some that make limited use , like the \] , klitor's Assistant \[ l ) ale 1990\] , they tend to be the exception rather than the rule  . Instead , punctuation is usually stripped out of the text belb rel  ) rocessing , and is not included in generated text . 
Intnitively , this seems very wrong . Punctuation is such an integral part of written language that it  . 
is difficult to imagine natnrally producing any significant body of unpunctuated text  , or being al ) leto easily understand any such body of text . 
I Iowever , this is what has been done in the computational inguistics field  . The reason that it has always been too difficult to incorporate any coherent account of punctuation into any system is because no such coherent account exists  . 
I ) unctuation has long been considered to be intimately related to intonation : that is that difDrent punctuation lnarks simply give the readertiles :_ts to the possible prosodic and l  ) ausal characteristics of the text \[ Markwardt , t942\] . This claim is questioned by Nunberg\[1990\] , since such a transcriptional view of punctuation is theoretically nn interesting  , and also correlates rather lradly with intonation in any case  . 
However , even if were eognise that punctuation fulfils a linguistic role of its own  , it is by no means clear how this role is defined . Since there is still no concise linguistic ae connt of the flmction of pllltCtU-ation  , we have to rely mainly on personal intuitions . 
This in turn introduces new probhmas , since there is a great deal of idiosyncrasy associated with the use of Imnctuation marks  . Whilst most people may agree on ( : or esituations in which use of a given punctuation mark is desirable  , or ewm necessary , there are still tnany situations where theirns e is less clear  . 
In his recent review , lhurl phreys \[1993\] suggests Llmt acconnts O\['lnmctuation fall into three categories : '" I'he first  .   .   . is selllessly dicated to the task of bringing Punctuation to the Peasantry  ,  . . The second sort is the Style ( I uide , written by editors and printers for tile private pleasure of fellow professionals  .   .   . The third , on tile linguistics ranch the rarest of all . "
Thus whilst we dolmblishers'style guides , of the punctuation systenr , is not really want to rely on since the accounts of i  ) unctu-ation they contain are rather too proscriptive and concentrate on tilense of punctuation rather than its in e ~  . tnillg , timacademic accounts of l ) n netnation are far from numerous . In the work of Dale\[1991\] , the potential o1' punctuation in the tiehl of discourse and natnral hm guage generation is explored  . However , little mention is made anywhere of tile role of lmnctuation within a syntactic framework  . '? herefore the current investigation tries to determine whether taldng consideration of lm netuation can further the goals of syntactic analysis of natural language  . 

Punctuation , as we consider it , can 1 ) o defined w ~ the central part of the range oF non -le?ical orthography  . 
All , hough arguments could Ire made for including the md  ) -Iexical marks ( e . g . hyl ) hens , a postrol ) hes ) and structural marl cs(e . g . bullets in itemisations ) , they are excluded since they Lend to be lexicalised or rather difficult to represent  , respectively . Indeed , it is difficult t , o imagine the representation of structural punctuation  , other than through the use of some special structural description language such ~ mSGMI  ,  . 
Within our definition o\[' punctuation then , we lind bro ~* dly three types of mark : delimiting  , separating and disambigu~tting , as described by Nunberg\[1990\] . 
Some marks , the COlnlna especially , fall into multiple categories since they can have different roles  , and the categories each per\[brm distinct lingnistic functions  . 
l ) elimiters ( e . g . comma , ( hush , l ) arenthesis ) occur to either side of al ) articular lexical expression to remove that exl ) ression from the immediate syntactic 42"/ context of the surrounding sentence ( 1 )  . Tile delimited phr ~ eacts as a modifier to the adjacent phrase instead  . 
(1) John , my friend , fell over and died.
Separating marks come between similar grammatical items and indicate that the items formalist  ( 2 )  . 
They are therefore similar to conjunctions in their behavion r  , and can sometimes replace conjunctions in a list . 
(2) I came , I saw , I conquered.
I want butter , eggs and titan'.
Disambiguating marks , usually commas , occur where an unintentional ambiguity coukl result if the marks were not there  ( 3 )  , and so perhaps illustrate best why tile use of puncttmtion within NL systems could be benelici M  . 
(3) Earlier , work was halted.
In addition to the nature of different punctuation marks  , there are several phenomena described by Nunberg \[1990\] which it is useful to consider before implementing any treatment of punctuation : Point absorption : strong point symbols  ( comma , dash , semicolon , etc . ) absor b weaker adjacent ones (4) . Commas are least powerfnl , and period stmost powerful ; (4) It was John , myfi'i end . 
Bracket absorption : commas and dashes are removed if they occur directly before an endquote or parenthesis  ( 5 )   ;  (5)  . . . ( mybrother , ~ . he teacher ) . . . 
Quote tmt , sposition : punctuation directly to the right of an endquote is moved to the left of that character  ( 6 )  . This phenomenon occurs chiefly in American English  , but can occur generally ; (6) II esaid , " I love you . "Graphicabsorption : orthogral ) hically , but not lingui-stically , similar coincident symbols are absorbed (7) . Thus the dotmarking an abbreviation will absorb an adjacent period whereas it would not absorban adjacent comma  . 
(7) Iwm'k fro " the C . 1. A ., not the F . B.I.
In addition to the phenomen associated with the interaction of punctuation  , there are also distinct phenomena observable in the interaction of punctuation and lexical expressions  . Thus delimited phrases cannot immediately contain delimited phrases of the IThroughout this paper I shall refer to sentence-final dots as periods rather than full-stops  , to avoid confusion . 
same type ( the sole exception may be with parenthe-tieals , though many people ob . iect to nested parentheses ) and a < buncts such as the colon-expansion cannot contain further similar adjuncts  . Therefore , in tile context of colon and semicolon seeping , (8) is ambiguous , but (9) is not . 
(8) words : words ; words.
(9) words : words ; words : words.
THEGI~AMMA1L
Recognition of punctuational phenomena does not imply tha  . t they can be successfully encoded into a NL grammar  , or whether the use of such a punctuated grammar will result in arty analytical advantages  . 
Nunberg\[1990\]adw ~ cates two separate grammars , operatiug at different levels . A lexical grammar is proposed \[' or the lexical expressions occurring between l ~ unctuation marl  ; s , and a text grammar is proposed for the structure of the punctuation  , and the relation of those marks to the lexical expre  . ssions they separate . The text gralllluar has within it distinct levels  , such as phrasal and clausal , at which distinct punctuational phenomena can occur  . 
This should , in theory , make for a very neat system : l . he lexical syntact , ic processes being kept separate from those that handle ImnCt Uation  . 
l lowever , in pracl . ice , this system seems m dikely l , o succeed since in order to work , the lexical expressions that occur between punctuation marks must carry additional information about the syntactic ategories occurring at their edges so that the text grammar can constrain the function of the punctuation marks  . 
For example , if a sentence includes an itemised noun phrase ( 10 )  , the lexical expression before the comma must be marked as ending with a noun phrase  , and the lexleal expression after the comma must be marked as starting with a not tn phrase  . 
A rule in the text grammar could then process the sel  ) a rating comma as it clea , ' ly Colnes between two similar syntactic elements . 
(10) lielilies Willy , lan and Tom.
\[ e.d : ,, p\]\[sta , ' ~ , : , , p\]
I lowever , as (11) shows , the separating com in a concept could require intbrmation about the categories at arbitrarily deep levels occurring a  . t the ends of \] exical expressiou surronnding punctuation rllarks  , ( u ) 1 like to walk , skip , and rmt . 
I like to walk , to sldp , and tortm.
1 like to walk , like to skip , but hate to run.
Even with the above edge-category information , the parsing process is not necessarily made any easier  ( since often the flll partial parses of a . II the separate expressions have to be held and joined  )  . Therefore we seem to be at no advantage if wcuse this approach  . 

In add ( lieu , it is dill \] culto imagine what linguistic or psychological  m0tivatidn such a separation of punctuation from lexical text could hold  , since it seems rather unlikely that people process punctuation at a separate level to the text it surrounds  . 
tIence it seems more sensible to use an integrated grammar  , which handles both words and punctuation . This lets us describe the iuteraction of lulnet u -at  ( on and lexieal expressions far more logically and concisely than if the two were separated  . Good examples of this are disaml ) iguatillg comnlas Iilla unified grammar we can simply write rules with an optional comma among the daughters  ( 12 )  . '( t2) . ~- ~ np(~o , nm , O~i ' . 
S4 lip(e onll na)s.
A featn re-based tag grammar was written for this investigation  ( based loosely on one written by Briscoe and Waegner  \[1992\]  )  , and used in conjun-ction with tile parser in chlded in the Alvey Tools ' Grammar Development Environment  ( ODE ) \[ Carroll et al ,  1991\] , which allows for rapid prototyping aude , ~syanalysis of parses . It should be stressed that this grammar is solely one of tags  , aild so is not very detailed syntactically . 
In order to handle the additional complications of punctuation  , tile notion of stoppedness of a category liars been introduced  . Thus every category in the grammar has a stop feature which describes the punctu ~ L tional character following it  ( 13 )  , and defaults to \[ st-\] ( unstopped ) if there is no such character . 
( ca ) tll~man , =\[ stel with the flowers , =\[ st , f\]Since the rnles of the grammar further dictate that them other category inherits the stop value of its rightmost daughter  , ouly rules to specifically add pnnctuation for categories which could be lexicalised are necessary  . Thus a rule for the additional of a punctuation marie after a lexicalised nouli would be as in lid  )  .   ( '\[' h calligraphic letters rel ) resell tunili-cation variables . ) (14) n0\[stS\]--4-n0\[st ,   -1 \[ punt N\]We can then specify that toplevel categories must be\[stf\]  ( period )  , that items in a list should be \[ stc\] ( comma )  , etc . In rules where we want to force a particular punctuation mark to the right of a category  , that mark can be included in the rule , with the preceding category unstopped : ( 15 ) illustrates the addition of a comlna-delimited noun phrase to ailounl lilrase  . Specifically mentioning tile l ) unctuation nlark prevents the delimited phrase from being unstopped  , resulting in an unstopped mother category . Note ( , hat Cite phenomenon of point absorption has beeu captured by unifying the w due of the st feature of tile mother and the identity of tile final punctuation marie  . 
Thus the possible vahies of st are all the possible values of punt in addition to \[ st-\]  ,   ( 15 ) up\[stS\]-~up\[stc\]np\[st-\]\[puntS\] . 
' J2hus the stop feature seems sufficient to cope with tile punctuational phenomena in l  ; roduccd M ) ove . liorder to incorporate tile pllenomena of interaction betweeu plmctuatiou and lexical expressions  ( e . g . 
preventing immediate nesting of similar delimited phrases  )  , we need to i iltroduce it small Ullnlber of additioual features into the graunnar  . If , for example , we make a comma-delimited noun phr , ~se\[cm+\] , we can then stipulate that any noun phrase that inchides a comma-delimited phrase has the feature \[ cm\]  , so that the two cannot unify (16) . Note that the unification of nmtlter and right -lnost daughter stop values is on litted  t7  ) r clarity of prescntal , ion . 
( is ), ~ I,\[<:,,:-\]-~l,V\[ . ~ t(:\] , , pill , , + , s t ,  \] ~ , ' VecaniUCOl'pora to the relative scoping of coh ) ns and semicolons , as discussed previously , into the granunar w ; ry easily too . The semicolon rule ( 117 ) accepts any vahle of coin its arguments , but the eolou rule (18) only accepts fee-\] . The mother category of the eolourule bears the feature feet-\] to preveut in chlsiOll into further cololl-bearing sentences  . Note that there are more versions of I , he colon rule , which deal witll dill ' etch ( constituents to either side of the colou , and also that , since the GI ) E does not pel ' nl it the disjunction of ligature values  , the semicolon rule is merely an abbreviation of the innltiple rules required in the granlmar  . ~ top unilication is again omitted . 
(17) s\[co(dlVB)\]-~s\[coA , sl , so \] s\[coB\] . 
(18) s\[,:o+1-~s\[<:o-,~t ~,,\] . + o % Ilenc0 the inclusion of a few simph ~ extra features in it a or lnalgranllnarh  ; _lS achieved an acceptable I . reatnlent of lnu ~ ctuatioual phenomer : a .   , qincc this work ouly represents the initial steps of providing a full aimpl ' Ol  ) eraccounb of tile role of puuc . tuatiou , no claims are lllade for the theoretical validity or colriplc-teness of this approach ! 
THECOIl . PUS
For the current hlw~stigat\[on it was necessary to use a corpus sulliciently rich inlmlt ctuation to illustrate the possible advantages or  ( lisadvantages of uLilising punctual . ion within the parsing process . Obviously a sentence wh Mlinchl des nolmnctuation will be equally difficult to parse with both punctuated and Ulqmnctuated gralniuars  . Sinlihu ' ly , for s ( ~ ilt CllCes including only ( ) lie or two marks of pllnctilation , l . hell SO of punctliatlon is likely to b craLller procedural  , and hence not necessarily very revealing . 
Therefore the tagged Spoken English Corpus was chosen\['lh  . ylor , ~ Knowles , 1988\] . This featlu'e some very longseutences , and includes rich and varied punctuation . Since IJ le corpus has l ) cenl ) unctnated IY lallually , by several different people , some idiosyncrasy occurs illtile pnnctuatlollal style  , I ) ul , there is priate to the posit idnit ' oceurs in . 
A subset of 50 sentences w ~ chosen from the whole corpus . Between them these sentences include material taken from news broadcasts  , poetry readings , weather forecasts and programme reviews , so a wide variety of language is covered . 
The lengths of the sentences varied from 3 words to 63 words , the average being 31 words ; and the punctu-ational complexity of the sentences varied from one mark  ( just a period ) to 16 marks , the average being 4 punctuation marks . A sample tagged sentence is shown in (19) , where fs denotes a period . 
(19 ) Their_APP $ meeting_NN1 involves ~ VVZ a_ATI ldnd_NN l of_O life_NN1   swap_NN1 fs_l , ' S The punctuated grammar , developed with this subset of the corpns , was used to parse the corpus subset , and then an unpunctuated version of the same grammar was used to parse the same subset  . 
The reason that testing was performed on the training corpus was that  , in the absence of a complete treatment of punctuation  , the pn netuational phenomena in the training corpus were the only ones the grammar could work with  , and although they included almost all of the core phenomena mentioned  , slightly different instances of the same phenomena could cause a parse failure  . For reference , a small set of novel sentences were also parsed with the grammars  , to determine their coverage outside the closed test  . 
The unpunetuated version of the grammar was prepared by removing all the features relating to specifically punetuational phenomena  , and also removing explicit mention of punctuation marks from the rules  . This , of course , left behind certain rules that were fimetionally identical  , and so duplicate rules were removed from the grammar  . Similarly for rnles which performed the same function at different levels intire grammar  ( e . g . attachment of prepositions to tile end of a sentence with a comma was also catered for by rules allowing prepositions to be attached to noun and verb phrases without a comma  )  . 

Results of parsing with the punctuated grammar were very good  , yielding , on average , a surprisingly small number of parses . The number of parses ranged fi'om1 to 520 , with an average of 38 . This average is unrepresentatively high , however , since only 4 sentences had over 50 parses . These were , in general , those with high numbers of punctuation marks , all containing at least 5 , as in (20) . Ignoring the four smallest and four largest results then  , the average number of parses is reduced to just 15  . Example (21) is more representative of parsing . On examination , a great number of the ambiguitie seem to be due to inaccuracies or over-generality in the lexieal tags assigned to words in the corpus  . The word more , for example , is triple ambiguous as determiner , adjective and noun , irrespective of where it occurs in a sentence . 
(20 )   ( The sunlit weeks between were fifll of maids : Sarah  , with orange wig and horsy teeth , was so bad-tempered that shescarcely spoke ; Maud was my hateful nurse whosmelled of SO al ) , an ( I forced me to eatche wy bits of fish , thrusl ; ing meI ) ackt . obabyhood with threats of n appies , dummies , and the feeding bottle . ) 520 l ) unct , uated parses (21) ( More news about , the reverend Sun Myung Moon , lb under of the Unification Church , who's currently in jailfox " taxevasion : he was awarded an lmnorary degree las L week hy the Roman Catholic University of la Platainl/uenos Aires  , 
Argent in a.)t8 punctuated parses
Besides the ambiguity of corpus tags , al ) roblem arose with words that had been completely mistagged  . 
If these caused the parse to fail completely , the tag was changed in the development phase of tile grammar  , but even so , the number of complete mistags was rather small in the sub-corlms used : around  10 words in the 50 sentences used . 
Initial attempts at parsing the corpus subset using then n punctuated version of the grammar were unsuc-cessfl  , loneven the most power fifl machine awtilable . 
This was due to the failure of the machine to represent all the l  ) arsess in mltaneously when unpacking the parse forest produced by the chart parser  . A speciM section of code written for the ( ~ I ) E ( grateful thanks are due to John Carroll for supplying this piece of code  ) to estimate them unber of individual parses represented by the packed parse-forest howed that for all but the most basically punctuated sentences  , the number of parses was ridiculously huge . The figure for the sentence in (211 . ) w , ts in excess of 6 . 3 x10 leparses ! F , ven though this estimate is an upper bound , since effects of feature value percolation during nn paeldng are ignored  , it has been fairly accura . te with most grammars in the past and still indicates that rather too many parses are being produced ! Not all sentences produced such a massive number of parses : the sentence in  ( 22 ) yielded only 1 . q 2 parses with the unplnletuated granlmar which was by far the smallest nnmb crornnpttnctuated parses  . Most sentences that managed to passtile estimation process produced between  10   (  ; and 1109 parses . 
(22) ( Ih ' otestants , however , are at inyminority in Argent in a , and tile delegation won't be including a . I ~ . oman Catholic . )  9 punctuated parses On examination of tile grammar and tile corpus  , it is possible to understand why this has happened  . 
' I'he punctuated grammar had to allow for sentences including comma-delimited noun phrases adjacentoun delimited noun phrases  , as illustrated by the rules (15) and (16) . These are relatively easy to mark and recognise when the punctuation is available  , I to we ver , specific tagging system , any compound noun could appear as a set of delimited noun phrases with the unpunetuated grammar  . 
Therefore the unpunetuated grammar was filrther trimmed  , to such an extent that parses no longer accurately retlected the linguistic structure of the sentences  , since , for example , comma delimited noun l ) hr~es and compomtdnomls became indistinguishable . Some manual preparation of the sentences was also carried out to prevent the reoccurrance of simple  , but costly , misl ) arses . 
"\[' he results of the parse now becamenm ch more tractable  . For bmsie sentences , as predict , ed , there was little difference in the performance of punctuated and unpunetuated gramlnars  . Results were within an order of magnitude , showing that no signitic aut adwmtage w , ' Lsgained through the use of lmnctuation . 
' l ' he sentences in ( 23 ) and ( 24 ) received t and 11 parses respectively with the unpunetuated grammar . 
(23) (' v Vell , just recently , a ( lay conference on miracles was convened by the research scientists  , Christian Fellowship . ) 4 punctuated parses ( 24 )   ( The assembly will also be discussing the Lit ( immigration laws , l Iong Kong , teenagers in the church , and of course , chur(:hmdl . y schemes . ) 2 punctuated parses ( 25 )   ( They want to know whether , for instance , in a scientificage , Christians can really believe in the story of the feeding of the five thousm M as described  , or was themiracle that those in the crowd with foods hm'edit with those who had none ?  )   24 punctuated parses l " or the most complex sentences  , however , the number of parses with tl , eunlmnctuated grammar wast , ypically more than two orders of magnitude higher than with the punctuated grammar  . The sentence in (25) had 12 , 096 unpunctuat , ed parses . 
Parsing a set often previously unseen l ) UnCtU-ationally complex sentences with the l ) uncttmted grammar resulted in seven of the ten being unparsable  . The other three parsed successfully , with the number of parses failing within the range of the results of the first part  , of the investigation . 
The parse failures , on examination , were due to novel punctuational construct , ions occurring in the sentences which the grammar had not been designed to handle  . Parsing the unseen sente , ~ ces with the . 
unpunetuated gramma resulted in one parse failure , with the results for the other 9 sentences rel'lectiug the previous results for complex sentences  . 
DISCUSSION
This investigation seems to supl ) or t the original premise---that inclusion and use of punctuational phenomena within natural language syntax can assist  , the general aims of natural language processing . 
We have seen that for the simplest sentences , use of punctuation gives us little or no advantage over the more simple grammar  , but , conversely , does no harm and can reflect the actual linguistic constructional it  , t , h ' , more accurately . 
For the longer sentences of real language , however , a grammar which makes use of punctuation massively outperforms anotherwise similar grammar that ignores it  . Indeed , it , is dii Ii eult to see how any grammar that takes no notice of punctuation eouk lever become successful ~ d  . analysing such sentence smfless some huge amount of semantic and pragmatic knowledge is used to disambiguate the analysis  . 
I\[o wever , as was shown by the attempt at parsing the novel sentences  , knowledge of the role of punet , u-alien is still severely limited . The grammar only performed reliably on those l ) unctuation alphelm menait , had been designed with . Unexpected constructs caused it to fail totally . Therefore , following l , here cognition that l ) unctuation can play a crucial role in natural anguage syntax  , what is needed is a thorough investigation into the theory of l mnCtuation  . Then theoretically based analyses of lmnctuation can play a full and important part in the analysis of language  . 

This work was carried out under Esprit Acquilex -II  , lIRA 73 15 , and an ESRCl/ , eseareh Stndentship ,  1/ . 004293:1,1171 . '\[' hanks t brinstrtetive and helpful comments to Ted Briseoe  , John Carroll , Rol)ert Dale , Ilenry ' Fhompson and anonymous CoLing reviewers . 

Ih'iseoe , EJ and NWaegner (1992) . " Robust Stochastic Parsing Using the Inside -Outside Algorithm  . " In Proceedings , AAAIW or L'shop on Statistically-based NLP Techniques  , San Jose , CA . 
Carroll , J ; EJ Briscoe ; and C ( . \] rover (1991) . 
" Al ) evelol ) ment , Enviro , mmnt for l , argeNatural \] , anguage Grammars . " Techuiea II . eport 233 , Carol ) ridge University Computer Lal)oratory . 
Dale , I(1991) . " l " , xploring the Role of l ) ulwtu-ation in the Signalling of Discourse Struetm ' e  . "In Ibveeedings , Workshop of Text Representation and Domain Modelling  , T . U . Berlin , ppll0-120 . 
\]) ale , 1~(1990) . "A Rulebased approach to Couaputer-Assisted Copy Editing  . " Computer Assisted Language Learning ,  2 ,  1)1)59-67 . 
lhmaphreys , l:LL (1993) . " Book Review : The Linguistics of Punctuation . " Mochlne Translation , 7 . 
Markwardt , Al I(1942) . httrod vction to the English Lam . luage , Oxford University Press , New York . 
Nunberg , O(1990) . The Linguistics of Punctuation , CSLI Leetnre Notes 18 , Star , for d , CA . 
Taylor , LJ and GKnowles (1988) , Mamtal of Information to Accompany the SEC Corpus  , University of Lancaster . 

