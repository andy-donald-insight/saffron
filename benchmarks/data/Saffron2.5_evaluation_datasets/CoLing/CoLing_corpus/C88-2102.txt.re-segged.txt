Maintaining Consistency and Plausibility in Integra  , tedNatm-al
Langu ~ ge Understanding
'""" : (' a mad ~_ , Toyoaki Nishida , Xuemin Liu , c > hup Doshita , , and Atsuahi ~ : a
Department of hdbrmation Science
Kyoto University
Sa , kyo-ku , Kyoto 606, Japan.
phone : 81.~.75, .751-2111 ext . 5396
email : nishid ~% do shit ~ Lku is . kyoto-u . j , met % japan@relay . cs . net
Abstract
In this paper , we present an inference mechanism called the integrated parsing engine which provides a uniform abductive inference mech--anism for natu ~allanguage understmlding  . It can (1) make phmsibh , assmnptiox~s,(2) rea ~ . 
son with ml fl tiple alternatives ,   ( 3 ) switch the search process to the maximally plausible alter  . . , native ,   ( 4 ) detect contradiction at td tame COlt-~clutions which depend on inconsistent a  , ' ~ sump-tions , and ( 5 ) update plausibility factor of each befbased on new obsexvations  . We demon-strafe that a . natural anguage understanding system using the integrated parsing engine as a subsystem can pursue a guided search for most t  ) lausible interpretation by making use of syntax , semantics , and contextual information . 
1 Introduction
Natural language understanding involve slots of hard issues such as various types of ambiguities  , in deterrt finacies caused by ellipses or fragmental utterances  , or ill-formedness . Being confronted with these difl\]culties , it does not seen , reason--able to seek for a method of logically deducing the spe~ker's intex Med meaning or p\]an from utterances  . Insteaxt , it is much more natural to characterize natural anguage understand hlga~qanabductive process of exploring most plausbble interpretation which canext  ) lain given uttel ' a/Ices . 
In this paper , we present an abductive in-.
ference mechanism , called the integrMcd parsing engine , for natural mlguagelm dcrst;mding . 
The integrated pea'sing engine is ~ bleto:make plausible assunrptions at z  , :pproprlate time reason with multiple alternatives base do ~ ditferent sets of a ~ ss~m~ptions switch the sem'ch process to the maximally plausible alternative  , detect contradiction resulting from inco~v sistent ~ sumpfions and eliminate ~ filcon -clutions which depends  , ' , m these assump ~ tions*update plausibility factor of each belief based on new observations  . 
Thus , the integrated parsing engine is gener M enough to carry outhngulstic and nonlingulso  . 
tic inferences in a uniform manner , by drawing information from various sources : syntax  , seomantle , discourse , pragmatics , or real world . 
In the remainder of this paper , we first de-~scribe mechanisms for maintaining consistency and plausibility  . We then show how these two mechauisms interacto guide the inference pro  . .
tess . Finally , we use an implemented exam = pleto demonstrate how the integrated parsing engine is used to interpret sentences by taking contextual factors into account  . 
2Maintaining Cons~si,e:c~cy
The CME ( Consistency Maintenm ~ ceEn gixt c ) is a component of the httegrated pa:rsmg ( mghte4 B2 re ~ ; ponsib\]efl ) rmaintaining consistency among beliefs . Basic design principles of the CME is b~L , m don de Kleer's ATMS ( Assumption-bz~sed'\]!i'uth Maintenance Engine ) \[ de86\] . 
The CME maintains a set of alternative be-tlet ~ eae ~ of which consists of a set of as-~mp ~ ion ~ m~d their conclusions  , as follows : alter ' na ~ , ive I . /ilj ~ o ?,, A !, rt ~ Bll ~ . . . . , B lm ~ alternative re ( A,,i ~ .  ?  . , Aura , , Bul ~ . . . ~ Bunt , , en vlr o~tme~t couclu sious An extc:c~fl problem solver is assumed to exist which makeu a ~sumpfion  , adds conclusion , and dctcd ; scontx~a ~ li ( : tion?~\['hemv~n~ask of CME is to maintain alternative bc~i  ( '2 ~ by removing all alternatives whose : ; ctofa:~'~mmptions has turned out contradictory ? Lik  (  , ATMS , the CME takes advantage of the follow i ~ , gmonotonic property : if ~ contr ~ dictlo ** is derived from a set of assumptions A  , then contradiction is M so derived from any set of assumptions B such that BDA  . 
E ~= A , E2 = Au E . = A =
Ell El ., E~IE~m.
= AI , Au = A1, A , ., = A ., A.1) = A ~, A . . . .
Figure 1: The E-tree
E1:: AIE2 = A2E .= A.
P11/////~/)1nIPn~~Pum.
EnEl ,, ~ E.IE ., ..
= AbAn = A1,A, . , = A . ,A . I = A . , A . , . . Figure 2: The E-tree with Conditional Probabilities Thus , if contradiction is derived from a set of as . ,mm~)tions  t ~-~ , D ) , alternative interpreta-tiol~s depending on sets of assumptions such as B  , C , D , A , B , D , \[ A , B , C , D ,   . . . are removed . \[ n addition ~ t , he GME keeps records of contradictory sets of assumptions to prevent any interpretation depending on them from being considered in future  . 
Unlike ATMS whose control regime is bread-first , our CME uses a tree called the envh ' on-ment tree , or the E-tree for short , to guide the search process . Each node of the E-tree represents an environment  , a set of assumptions . 
\]i ; alcharc of the E4ree represents that a lower node is derived from the upper node by making one : more assumption  . Thus in figure 1 , E0 is the root node , and it represents an environ-mnet without any assumption  . Nodes below-5 ; 0 : represent environments with one or more assumption added to its parent node's envi-:r  , ~ x ~ meaL Thus , El : : E0UA1 = A , , ~:_~1 := J \[!;: , U(AH = : ( AI , AH , and so on . 
We assume that a set of assumptions made at ~ he same parent node axe mutually exclusive  . 
Although this is a rather strong assumption , it , makes sense in ~ tatural language tmderstand-ing : ~ ince many assmuptions being made dur-i ~ g the natural anguage mlderstanding process are mutu Mly exclusive  . Even if this is not the c~se , any set of assumptions can be transformed into a set of mutually exclusive assumptions by adding appropriate conditions  . Although this is a cumber some solution , it does not often take place in natural language understanding and most importantly it save stile a mottnt of computation  . 
Note that the CME alone cannot determine which way to go when there is more than one possibility of extending the set of beliefs  . This information is provided by the PME , as described in the next section . 
3 Maintaining Plausibility
The PME ( Plausibility Maintenance Engine ) in a intains estimations of how plausibl each environment is  . This information is given as conditional probabilities and it is kept as annotations to each arc of the F  , -tree . Thus , in figure 2 , which is a slightly more precise version of figure  1  , Pl stands for P ( EI) , pq for P ( EjIAi ) , pi . / ~ for P ( Ek , IAi , Aj ), etc . 
It follows from the property of conditional probability that = O  , if i ~ j and El and Ej are immediate children observed  . 
~'0 E0
ExI ); = E1I-';2t > Iio " -...
EaE4Es Ea1/)4 Es
Figure 3: A SampleE-tree with Annotation of the same parent  . Furthermore , if Ej is a parent node of Ei . 
Initial value of pi's are to be given from the external problem solver  . The PME's role is to maintain estimation of prausibility by taking into account given observations  . Currently we only take-~E , the event of environment Erunning into contradiction  , as an observation . We use a Bayes ' law to modify P(A ) into P(AI-E ) . 

P ( ~ EilE ~) ? P ( E ~) (1-P ( EjlP ~)) . P ( E , ) . (1) 1-P ( Ej ) if El and Ej are brothers , (1) is further simplified to:
P ( E , )1-P ( Ej ) " (2)
For example , suppose it has turned out that environment E4 is in contradiction and hence- E4 is observed ( figure 3 ( a ) ) . The annotations to the E-tree are updated as in figure  3  ( b )  . 
Notice that the update of conditional probability can be done based on local information  . 
Linluistic and Nonlingaistic Pwblem Solve ~
I Working Memory
Knowledge Base
Associative Networks
Problem Solving Engine Previmm Topic ( PSi ) The Integrated Parsing Engine\[E-tn:e ( CME )   . ~ E0, . ~  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . E 1 Plauaibiity M ~ intenance Engine ~' ~ E ~ Figure 4: The Structure of a , Natural Lan . .
guage Understanding System with the Integrated Parsing Engine as a subsystem  4 Natural Language Understanding System Usoing the Integrated Parslag Engine as a Subsystern The integrated parsing engine consists of the CME and the PME  . The architecture of a natural language understanding system with the integrated parsing engine as a subsystem is shown in figure  4  . 
The knowledge base contains various types of information for language comprehension  , i-cluding lexicon , morphology , syntax , semantics , discourse , pragmatics , common senses , and so on . The whole system is controled by the problem solving engine  ( PSE )  . The PSE can access to the knowledge base and use the integrated parsing engine as an aid to seek for most plausible interpretation  . Input texts are analyzed in a sentence-by -sentence manner  . The discourse structure is maintained as a previous topic in the working memory ? When it scans a new sentence  , the PSE tirs ~ initialize the F~tree with only the root node ? Then the PSE repeats the following cycle:  ( step 1 ) choose a leaf node with the highest probability as a working envirboment  ( step 2 ) repeatedly derive conclusions h'om 4~34 the ibrary the xerox their meting rooln rool ~ll ' ooll-  . It // "\ I ! key I key 2 hey 3l ~ 4x .   .   .   .   .   .   .  (*  .   .   .   .   .   .  ~ '  .   . . . . . 
, . o ?
KA?3IWOI(AS\]II'1'i , ~ KUDASA \]'~ k ~'" . ./ the ) key < object > lend .   .   .   . Idy .   .   .   .   .  ":  . ) the 1 . ' ojessor:~gure5:o , mq ~ le Dialog Environment believed p ~' opositions until either  ( a ) the goal is achieved , ( b ) contra , diction is derived ~ or ( c ) no more conchlsion is derived ~ mless making more assumption  . 
In case ( a ), the processh Mts.
In case ( b) , the process is passed to the PME~which modifies current es-timation of plausibility so that this f  , ~: t is reflected , then nat alternative of meximum plausibility is dmsen ~  ( l is suggested to the CME . 
In case ( c ) ~ the process also is passed to the PME , which assigns plausibibity to new nodes , and working cnvi-ronment is chosenag Mn . 
The integrated parsing engine has been written in Lisp  . It is running with a small exmerl-mental grammar for Japanese  . The next section shows how it works . 
5. A . n Example
Suppose a dialogenvh ' omne~tt in which a pro..
fesso ~" speaks to a clerk to borrow a key of some rooms  ( figure 5 ) and utters the following
Ja \] pa ~ e ~ e ~ exttelt ce: ( 3 ) KAGIWOK ASHITEKUDASAI ( ~/ the ) key < object > lend could you .   .   . ?" co , adyoule , , d(me)(a/,h , :) key . "
L/a . . . /"-, . , ~ . / a ~ word1 ~ . ,~ o~d -~ , Figure 6: I ) ; ~ recafter assumptions @ word1 and @ word2 are made'i'he rential meaning of this sentence is ambiguous if there is more than one key in a given situation  . Suppose three keys are there: key1 for a hbrary room , key2 for axerox room , and key3 for a meeting room . 
Although sentence ( 3 ) is ambiguous in nor-real contexts , it becomes much lcss so if it follows sentences like:  ( 4 ) HONWOKOPIISHITAINODESUGA"I'd like to xerox some books  . " Even if no previous sentence is spoken , sen- . 
fence ( 3 ) is acceptable in a situation where the speaker and the hearer rmltually believe that the xerox room is accessed so often that " the key " is usually uscd to refer tokey & the one for the xeroxroom  . 
Note that the omission of the patient case does not matter in usual situations  , since there is a strong defa ~ fl that the filler of this case is the speaker  . 
Now let us show how sentence ( 3 ) is analyzed in a context where sentence ( 4 ) was previously uttered . The task of analyzing input starts from recognizing words  . Lots of ambiguities arise in this phase . For sentence (3) , 'KA ' might be a single word ' KA ' ( postposition marking interrogative ) or a part of a longer word ' KAGI' ( key )  . Since longer match is considered to be more plausible in gener M case in Japanese analysis  , we assign larger number of probability to the latter possibility  . Following this an Mysis , the PSE makes the assumptions to the integrated parsing engine : @  toord-1   ( t ~ ke the sequence ~ KA tas a word ) : ~- ~ probability 1/3 . 
@ word2 ( ta & e the sequence ' KAGI ' as a word ) : probability 2/3 . 
Accordingly , ' the CME extends the initial E-tree as in figure  6  . Since , the enviromnent E1 has the highest plausibility , the CME chooses it for the next environment and control is returned to the PSE  . 
4 ~35k , the libraWcy t . . . . . . . . . . . . room ,,,, . ,  . 
bookke ~2........I,ohg , le:y_~__~.
? eroxing hey 3 .   .   .   .   .   .   . the meeting--meeting 1"00I~1 Figure 7: A . n Associative Network between

Now the PSE tries to derive further conclusion in the chosen environment  . After having i'c cognized that the pm't of speech of the word ' KA  ( ~ I'i ~ noun , the PSE tries to find out the referent of the noun and reahzes that thi'e eam-bigtAties arise lit this situation  . Again , the PSE calls the CME to make assumptions . At the same time , the PSE is called for to assign estimated conditional probabih ties to each assumption ? Currently  , the system uses an associative network as shown in figure  7 to determine plaus Lbility . Nodes of this network represent either a concept or art instzatce  , and arcs mean that the two concepts or instants at its both ends have a certain relation  . Those items which have dense conuections to previou subjects are considered to be plausible as a referent  . In our example , since the node xerox is marked as the previous subject  key2 is considered most plausible , while key1 is less plausible and key3 much less . Thus , the following assumptions are made : 1 @re fereni-1   ( consider ' KAGI ' to refer to keyl ) := ~ probabiliy 1/3 . 
@ referent-2 ( consider ' KAGI ' to refer tokey $ ) : -- ~ probabiliy 1/2 . 
@ re\[erenl-3 ( consider ' KAGI ' to refer to key 3 ) := ez probabiliy 1/6 . 
In case no previous utterance is given , the PSE will consult information given as a priori measurements  . 
The E-4 reenow becomes as in figure 8 , a ~ td@word2 , @ referent-2 , which is the most 1 Currently we use a very simple algorithm for assigning those value : when there are three alternatives  , the densest connection receives the vMue (1/3) , the second (1/2) , and the third (1\]6) , regardless of how closely they are related to each other  . We plan to develop a much more precise method in a near future  . 
E ~ 1/3 ~ ~ . ~ . 2/3 Qwo, . d-1 ~ wor<l-2@word2 , @ word2 , @ word -? , , @ referent - 1  @  referenb2  @  referenb3 Figure 8: E - . tree after assumptions about , L ~: referent of ' KAGI' ( key ) are made meaning-2 meaniag-3 meanings 4 , o , o , oot- , 4  , o , o , o ,  . -, AtO--=o--nt-=Xl*o=o==-;J . !/ I noun 1 . t-post-Iverl > l " l1 .   .   .   .   . d-41-, o .   .   .   . ,_, Aooo, . = -= l\-o . o,= . =/ Ich-Ich-2 ch-3ch-4ch-5?'~ch-lO
IIIIIt
KAGIWOKAStlIT\]~I(UDASAI
Notice that ~1l part of this net wm'k is not explored in actual processing  . 
Figure 9: Dependency of Befiei ~ plausiblen viromnent at tiffs point  , is chosen as the next environment . The analysis is continued this way until the semantic representation is obtained for the whole sentence  . The interpretation obtained tlds case is : event = asking-for\]actor=<thespeaker>object =  key2 Figure 9 shows the dependency struct tu'e of be-fiefs related to this analysis  . 
Notice that the efficiency of the analysis is significantly improved when strong expectation exists  . For example , although character's in ' h ~ sentence ( 3 ) has many possible interpretations in Japanese , the system is not annoyed by those ambiguities , ince this part of the sentence just goes as expected  . The system may come to suspect it only when most of its expectation faik  . 
G@word . . , l\]@word2@word2 , @ word2 , @ word2 , Co ) referent ~1 ( c ~ referent- 2   @  referent-3 addition ~ the integrated paxsign engine provides a concise and high level mechatds m for abduc ~ tire reasoning  . We have carefully chosen a set of reasonably high -level functions necessary for abductive reasoning  . This serves to much simplifying natur ~ langu . agemt dersta~tding system than otherwise . 
li'ig , ~ re 10: G tree after assumptions about the proposed interpretation based on @  word2  , @ referent- . 2 is rejected Now suppose the above interpretation is rejected for some ~' eason  , say by expficitly negated by the speaker . Th . e ~ the system will eventually produce an alte ~ atative interpretation taking  key1 as a referent , by changing ammtations to the E4ree as litfigm'e 10  . 
6 Related Work
This paper was inspired by a number of works.
A massively par-Mlel parsing by Waltz and Poll~k \[   WP85\] has demonstrated the etfect of integration through a uniform computation me  ( hanism ( marker passing ) in context-dependent comprehension of discourse . They have pointed out the importance of nonlogical  , associative relation between concepts . Charniak has pointed out the abductive nature of language comprehension  . Chat'niak'sWimp\[ Cha86\] uses a marker passing mechanism as a basis of abductive inference engine for language comprehension  . But it is not used alone ; it is augmented by a logical process called path proof  . \[ na parser used in Lytinen's MOP- . 
TITANS\[Lyt86\] , a mechanism is provided to allow close interaction between syntax and semantics  , while keeping the modularity of the system . Another thing to note is that Lytinen's integrated parser makes use of strong semantic expectation to constrain the search  . 
The integrated parsing engine presented in this paper takes advantages of these preceding works  . Unlike Waltz and Pollack , and like Charniak and Lytinen , our integrated parsing engine has a hybrid architecture for logical atldnon logical inferences  . What is novel with ore " integrated pat'sing engine is the method of integrating and maintaining logical and nonlogical ~ n formafion Obtained from various sottrce  . In 7 Concluding Remarks We have presented an inference ngine for integrated natural language understanding  , based on a characterization of natural language un~dcr standing as an abductive process  . The essence of our approach is connecting consistency maintenancengine and plausibility maintenancengine closely enough to allow their dense interaction  . Although we have shown rather " low level " issues  , we believe the same idea is applicable to " higher level " problems such as inferring speaker 's intention and plan  . 
References\[ Oha86\] \[ de 86\]  \[  Lyt86\]  \[  WP85\] 
Eugine Charniak . An eat theory of marker passing . In Proceedings AAAL86, pages 584-588~1986 . 
Johan de Kleer . An assumption-based tins . Artificial Intelligence , 28:127--162, 1986 . 
Steven Lytinen . Dynamically combining syntax and semantics in nabn'M language processing  . In Proceedings
AAAI-86, pages 574-578~1986.
D . Waltz and J . B . Pollack . Massively parallel parsing : a strongly interactive model of natural ang qlage interpretation  . Cognitive Science , 9:51-74, 1985 . 

