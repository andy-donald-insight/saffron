Figuring out Most Plausible Interpretation from Spatial Descriptions 
Atsushi Yamada , Toyoaki Nishid and Shuji Doshita
Department of Information Science
Kyoto University
Sakyoku , Kyoto 606, Japan
phone : 81-75-751-2111 ext . 5396
emaihyamada or nishida % doshita . kuisokyoto-u . junet%japan~relay . cs . net

The problem we want to handle in this paper is vagueness  . A notion of space , which we basically have , plays an important part in the faculty of thinking and speech  . In this paper , we concentrate on a particular class of spatial descriptions  , namely descriptions about positional relations on a two-dimensional space  . A theoretical device we present in this paper is called the potential model The potential model provides a means for accumulating from fragmentary information  . It is possible to derive maximally plausible interpretation from a chunk of information accumulated in the model  . When new information is given , the potential model is modefied so that that new information is taken into account  . As a result , the interpretations with maximal plausibility may change  . 
A program called SPRINT ( SPatial Relation IN-Terpreter ) reflecting our theory is in the way of construction  . 
i Introduction
Natural language description is vague in many ways  . The realworld described with natural language has continuous expanse and transition  , although the natural anguage itself is a descrete symbolic system  . Vagueness plays an important role in our communication i that it allows us to transfer partial information  . 
Suppose a situation in which a boy is looking around for histoy  . Even if we cannot tellex-around my desk ~ we can transfer him this par~tim information by telling that histoy is around my desk  . It would be nice if we can communiocute with our robot in the same way  . We also use vague expression in the case of thinking it useless to give more detailed information to  th6 hearer . 
A theoretical device we present in this paper for the interpretation of such wague information is called potential model  . The potemtial model employs both continuous and clis~continuous functions to represent spatial relations  , so that the probability changes either continuously or discontinously  , depending on the nature of a given description . Currently , we are concentrating on a particular class of spatial relations  , namely positional relations on a two-dimensional space  , although the potential model is more general . We assume objects to be size less . 
A program called SPRINT ( SPatial Relation IN Terpreter ) reflecting our theory is in the way of construction  . 
2 The Potential Model
At the center of potential model is a potential function  , which gives a value indicating the cost for accepting the relation to hold ain ong a given set of arguments  . The lower is the value provided by a potential function  , the more plausible is the corresponding relation . We allow the value of potential functions to range from  0 to potential trace of gradual approximat ion 

Figure 1: Potential Model and Gradual Approximation + co . A potential function may give a minimal value for more than one combination of arguments  . S~d t case may be taken as an existence of ambiguity  . 
A primitive potential function is defined for each spatial relation  . A potential function for overall situation is constructed by adding primitive potential functions for spatial relations involved  . 
When a potential function is formulated from a given set of information  , the system will seek i or a combination of arguments which may min-hnize the value of potential function  . We use a gT a dual approximation method to obtain an approximate solution  . Starting from an appropriate combination of arguments  , the system changes the current set of values by a small amount proportional to a virtual force obtained by differentiating the potential function  . This process will be repeated until the magnitude of virtual fo:cce becomes less than a certain threshold  . Figure 1 illustrates those idea . 
Unfortunately , using the gradual approximation , nay not find a combination which makes a given potential function minimum  . When there are some locally minimal solutions , this method will terminate with a combination appropriately near one of them  . Which n finimal nohtion is chosen depends on the initial set of argmnents  . We assume there exists some heuristic which predicts a suttldently good i  , fi-tim values and the above approximation process works rather as an adjustment than as a means for finding solution  . 
1/~/X = XeKL'/t ~,,/? Y ,,-( m , y , B
Figure 2: Distance Potential 2 . 1 The Spring Model We use an imaginary , virtual mechanical spring between constrained objects to represent constraint on distance  . If the distance between the two objects is equal to the naturalength of the spring  , the relative position is most plausible . 
The more extended or compressed the spring , the more ( virtual ) force is required to maintain the position , corresponding to the interpretation being less plausible  . 
An integration of the force needed either to extend or compress the spring is called an elastic potential  . TILespring model , subclass of the potential model , takes an elastic potential as a potential function  . Let the positions of two objects connected by a spring of naturalength L and elastic constant It " b e  ( x0 , y0) and ( xl , yl ) , respectively . Then the potential is given by the following formula : P  ( xo , Yo , xx , Y *) = I((v ~ l:x ?)2 +( y'--y ?) 2-L)~2 . 2 Inhibited Region and Inhib-ited Half Plane Unlike other primitive potential functions introduced so far  , inhibited region and half plane pose a discontinuous constraint on the possible region of position  . By inhibited region and half plane we mean a certain region and half plane is inhibited for an object to enter  ,  . respectively . 
Inhibited regions and half planes are not global in the sense that each is defined only for some particular object  . Inhibited region is less basic concept because it can be represented by a logical combination of inhibited half plane  . 

I(x = , y , ) j 0
Figure 3: Directional Potential
An inhibited half-plane is chaxacterized by its directed boundary line  . A directed boundary line in turn is characterized by the orientation  0   ( measured counter clockwise from the orientation of x-axis  ) and alocation ( X , Y ) of a point ( referred to as a characteristic point ) on it . The inhibited half plane is the righthand side of the directed boundaa'y  . 
2.3 Directional Potential
Suppose we want to represent a constraint that an object B is to the direction  0 of another object A ( measured counter clockwise )  . Let the position of A and B be ( x0 , y0) and ( Xl , yl ) , respectively . We use the following potential function to represent the constraint : P  ( xo , Yo , xl , y , )  . -' . I'\[1 ( - ( xl-xo ) sin0+ ( Yl-Yo ) cos ~ )  2 + 1 ( 2 When viewed horizontally from A , this function represents a hyperbol a . If this function is cut vertically to the intende direction  , this represent a parabola ( upside down ) . See figure 3 for the shape of this function . Note that the notion of direction defined here denotes that in everyday life  , which is not very rigid . 
Since the value of the potential function defined above Pjumps from + ooto-coif one proceeds for the  -0 direction . 
We add inhibited half planes in the -0 direction , so that it is impossible to put the object in this region  . 
7663 A Method of Gradual
Approximation
A maximally plausible position is obtained by revising a tentative solution repeatedly  . 
The move/~=(Ax , A  ~ ) at each step is given as follows : ?~ = ( A z , A ~) = K . ( OP\]Ox , OP/Oy ) ~ where K is a positive constant . 
This basic move may be complicated by tald l~g inhibited regions into account  . The following subsection explain how it is done . 
3 . 1 Avoiding to Place Objects within its Inhib i ted Haft 

An algoritlu ~ niorescaping from inhibited halt plane is applied when an object is placed within its inhibited half plane  . If such a situation is detected , the algoritl ~ undefined below will push the object out of an inhibited half plane in n steps  . At this time , any influences from other constraints axe taken into account  . Thus , the moved = ( d ~ , dr ) of the object at each step is the sum of dr ) I = ( dv  ~ , dv ,   )   ( a component verotical to the boundary ) and d~o = ( dp . ,dp , ) ( a component in par , ' flld to the boundary ) . Sup?pose the initial position of an object is ( x0 , y0) , then each of which is defined as follows : dv ~ = -Ls in  0In dv ~= L cos 0/u where , L : I(xo-Y ) ~ in 0 .   ( ~0-Y ) cos 01 represents the distance from the initial position to the boundary of the inhibited half plane ? Note that the inhibited half plane is characterized by its directed boundary with a characteristic point  ( X , Y ) and the orientation 0 . 
dvo=V(I~co~20+1~sh0cos0) up , = c(1:sino coso+1 ~ sin~o ) where , C is a positive co . rant , and /= ( f . , \],) is a virtual force from other constraints . Figure 4 illustrates how this works . 
next move ~)
I inhibited half plane position ' ~'" ~ . '  . .\ k N~/CYx'~ , " N of the object effects from other constraint a component in parallel to the directed boundary previous position ? ~ ~ ~ kkl inhibited ~\~-  ( x , y ) next position ( generated by gradual approximation algorithm ) half plane Figure 4: Pushing an Object Out of an Ixthib-ited Region Figure  5: Avoiding to Pushan Object into an
Inhibited Region
Once ~ mobject has been put out of an in-Mbited\ ] taft plane  , one must want it not to i have it reenter the same inhibited half plane  . 
However ~ the gradual approximation algorithm may try to push the object there again  . An algorithm for avoiding to push objects into it watches out for such situation  . If it detects , it will recourse the gradual move . 
Suppose an inhibited half plane is characterized by  0 and ( X , Y ) on the boundary . Suppose a hot hat the next position suggested by the gradual approximation algorithm is  ( x , y ) . 

L = x , ,;inO - ycosO - XsinO + YcosO > 0 then , the next position will be forced into the h dd bited half plane  ; In , such a case , the move is x a oditled and the new destination becomes :  ( : d , y ') = : ( x-(1+ e ) Ls in O , y + (1 + e)L cos O ) where , e is a positive in finite simal . 
See figure 5.
302 Dependency
It would require a great amount of comput & .
tion , if the position of all objects have to be de-ter ~fined at once  . Fortunately , human-human commmtication is not so nast y as this is the case  ; natural anguage sentences contain many cues which help the hearer understand the in-pttt  . ~ brexample , in normal conversations , the utter~uce
Kyoto University is to the north of
Kyoto Station is given in the context in which the speaker has already given the position of Kyoto Station  , or s/he can safely assume the hearer knows that fact  . If such a cue is carefully recognized , the amount of computation must be significantly reduced  . 
Dependency is one such cue . By dependency we mean a partial order according to which position of objects are determined  . SPRINT is designed so that it can take advantage of it  . 
Instead of computing everything at once , the spatial reasoner can determine the position of objects one by one  . An object whose position does not depend on any other objects is chosen as the origin of local coordinate  . SPRINT determines the temporary position of objects from the root of the dependency network  . The position of an object will be determined if the position of all of its predecessors is determined  . 
-Figure 6 shows how SPRINT does this.
This algorithm has three problems : 1 . the total plausibility may no ~ be maximal . 
2 . in the worst case , the above may result in contradiction . 
3. objects may be underconstrained.
Currently , we compromise with the first problem . More adequate solution may be to have an adjustment stage after initial contlgnlation of objects are obtained  . The second problem will be addressed in the next subsection  . The third remains as a future problem . 
3.3 Resolving Contradiction
Adding new information may result in inconsistency  . In order to focus an attention to this ( 1 ) Kyoto University is to the north of Kyoto Station . 
(2 ) Ginkakuji ( temple ) is to the northeast of Kyoto Station . 
(3 ) Kyoto University is to the west of Ginkakuji ( temple )  . 

Kyoto Station
Ginkakuji ~ Kyoto University ( a)
RESULT ( PRODUCEDBY SPRINT ) :\]-I~ITERPRETQTIOHJJ"?~"llJ , l@%%#JI__~ ) Kyoto University initial ) lacement / ( after Interpretation of ( 1 ) ) ? t ? ) - - - - k - .  ? 2  . ~" II . 
Kyoto University ' ~ ~ . ~ Ginka . kujl . -"( after Interpretation of (3)) l'- .   .  , , ~  . 
" . .~ ~ C '" , t /~" trace of gradual moves ~-~-\~~ . ~ I " , , . I "' Q~yotoStOlon\hfitial placement Figure 6: Positioning using Dependency
GIVENTEXT : (1) Mt . Hielis to the north of Kyot , o Station . 
(2 ) Kyoto University is to the north of Kyoto Station . 
(3) Shugakuin is to the north of Kyoto University.
(4) Shug~kuin is to the south of Mt . Hiei.
BEFOREINTERPRETATIONOF (4):
Ihi . TEIRpRE ~,"" ;"' i ~ . ~ Sh . gak . in ' " ~, t t l i $ J 1 1 ? " M t . Hieitt J .   .   .   .   .   .   .   .   .   .   .   . __~d ~( yotoStation
AFTERINTERPRETATIONOF(4):~?s"rtt . Ilieit ? .   .   .   .   .   .   .   .   .   .   .   .   . 
\], ~ Kyoto University
J"LL$tL ? .   .   .   .   .   .   .   .  ;  . _ . 2~,~ . y?2~st?9?_~ .   .   .   .   .   .   . 
Figure 7: Resolving contradiction.
problem , letus temporalily restrict the spatial coordinate as one-dimensional  . Suppose an object is given a maximally plausible position  x0  . 
Suppose also that a new inhibited region ( interval I in a one dimensional world ) is given as a new constraint . Then the position of the object is recomputed so as to take this new constraint into account  . If the interval I accidentally involves x0 , then the object may be moved out of interval I . This is the situation in which the object tends to move to the position  x0 but cannot due to the inhibited half space . In this case , the parent node in the dependency is tried to move in the reverse direction to resolve this situation  . 
A situation is worse than the above ff the inhibited region  ( or interval ) is too wide to fit in a space . This problem rises especially when we two objects A and B are already given maximally plausible positions  x0 and xl ( xo < xl )   , respectively . Suppose now the third object C with width being wider than Xl-  x0 is declared to exist between A and B . This causes a failure because there is no space to place C  . 
The solution to this problem comprises in two stages  . First , the reason of the failure is analyzed . Then , parents of the current objects are moved gradually so that the inconsistency can be removed  . Figure 7 illustrates how this works . 
4 Related Work
The problem of vagueness has not been studied widely in spatial  reasoning\[Kui78  , Lav77 , + ~+ + ! i 7? + W ~ : (+ + ~ : + ij . W ~: , . & by Drew McDermottnard . 
0 . 1!,,:: . .++: . .~:d + i;i . ~, . .+~ v~,~g~v . :++ e . ~of spatial concept and i ;+:+<;,/,:+~; : ~+ i >& ~ . 0 . : ed,~+' . ~++ , ,~:~ c* , icM device called fuzz ~ , <@ , <# , e ; : : ! ii , , A + . ~a>:,~bo:~c denotes a region in ~, :"~0~,~:~, . +,,+; : i ~ c + + < b~e , : : , a;) . m ~, y1m ssib ! yexist ? Possi-i ::) ~ g ~' a ; y,~> . ~"?; L ~ . c~:x  ~ ae ea ~ : ei au : nitOrm \] y positive in a ~" e ++  ; ' . ~ bo::~', ~_ . ~ d ' . + er outside the box . 
'!: Sa = . i ; ~+ + ~', , : ~-:, . + ~ da + , , + , : ? < , : + ~ . has a cottple of drawbacks . 
'i++'2~ . +~;~,;, ~; . g + + ~ , & : + ~; pv , ~ff & ereglon + must be rectan - ~ , : u ~ iia ~+ ~> : ~: . r : . ~:+~; ?+ c . , See (> ~ d , Davis had to have the ' . ai'ih ~+ ~; i ~ . eir ~: pp~:oa~x:hha+sasig ~ fificant ditfi-+:'~i ~ , : V : i ~+ m (+ d c ? ~ u . ~: v triouspati Mc ~ at cepts . For , ~: ~ . ~vtu ~) i ~ e+eh (: ~ ne + ~ n ~ , tg of a ' round neasi hard to : rcpre ~+ e . ~ . d , w ~? ~ . ~fzabox , sin . cait is still hard to dra ~ . wa ~ . _ , : ~ e ' ~ a cgb ~ m + c + . dm . + y ~; o distinguish there + . 
gi ~, > ~, wh ; c_k . ~ ~ u'o , ~_ adsomething from that that ) + ~:+ . O ~; o:: . H . dmgRemarks '+ J ; ;!~+, t, . ':~ . (::~-: of ~+ , ia ~ rMia ~ guage description con ? ~; ~ h ~ . ~ IU ; : + o ~; hard issues , mdya fragment of wi 6 . (: . i ~ h; . : r ~; boca addressed in this paper . Re-g+~ . . . . .  !"':,! . : ~, q ~, + ~, hei . a . ~g ~ age understanding process as ~+ re ~ c ~-~-~::, , ' ~ . , r : & e : ~ . ( R ' ~; he described worM , we have . : i ;, ~, ~ c . +" io ~ i ~+ ~ : : , a ~ . ia ~ descriptions only declaring Ac , '~< i ~ . ~-, ! d:m~jor problems related to this , k ~:;: . /+ ~; e : ~: , ~, ~ . ~ cme~tod should be developed ~ , ,~ d~_:~;c_~ , _+~/ haeac ~ , u . a : i values of the model . 
C ? ~ r : ~' e : a ~ ly + we shodd coMess that param-e ~ ; < ~: v +& ~ e ~ , ; ++ rc detcnnhted rather subjec-~ ; ~ve:~:~~ ; h ++ tm ~ mple prob ! e ~ as may be : : : o ! , v( , ,d + :!1~:~ . fi  ~ . t . : ~' e , we waa ~ to apply adap-t+A~thougTh the c~rre , nt program is forced ; ~: ~: L . garco ~+ ~ ost plausible co ~ fllgura ~ ~ io ~ from giee  . a hffo~matio ~ l , there do ex-is ~+ t ; ~+ . u + . ,+:~i'~+width ~; hh~gs are sounder con-~;~>a ~ . ~ ed_~:b + ~ , ~figuri ~ gout temporary con-~i_g0~+:~+~ti (>: , _~ . i a "+ . a dess or rather harr ~ dul . 
??~ ic , i ; . + i : r ~; % og~e ~! problems are remain ~ m ~> ! , ,+ , + ~ d ++ ~' iI~+em~del should be extended as that ~ d@+  . :% ca~'~h~ve ~ izeaa ~ d shape ; initial place-~u , :~ . e > . ~+ ~ he ,_ ~ . ri~ic~t to ~ Mbei ~ morporated ; etc . 
Those seem to be less hm'd . ih ~ f,z ~ ~ ~ . ebd ~, : az ; ~ implementation of SP . ~INT : is be ~ gext ; e : ~, de d ? . R , eferences\[Dav81\]\[Knits\]\[Lavr?\]E . Davis . Organizing Spatial Ki ~ owl . .
edge . Yale University , t981 o
B . Klfipeac: . ~? iV to de ~ Jng spati ~ dk ~ m ~ vJ :+ edge . Cognitive Science , 2(2)+1978 . 
M.A+Lavin . Computer Analyd , ~0j :
Scenes from a Moving Viewing . Point.
Mass admsetts Institute of Tcdmology ~1977.
\[NJ rr\]\[wasi\]
G . S . Novak Jr . Represent ; sCions of knowledge in a prograr aibr . ~: oiw . 
htgphysics problems , -. hLProceeding ~
HCAI : 77, 1977.
D . L . Waltz . Towards a detailed modell of processing for ! a ~t guage descr ~ bi~tg the physica  . lworld , htProceedings
IJCA\]:81, p:+ges1-+4i,t98 ~.

