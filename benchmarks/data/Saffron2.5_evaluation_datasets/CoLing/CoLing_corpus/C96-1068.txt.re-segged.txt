ACD ROM Retrieval System with Multiple Dialogue Agents 
Keiichi Sakai , Tsuyoshi Yagisawa , and Minoru Fujita
Canon Inc ., Media . Technology Laboratory
890-12 Kashim Ma , Saiwai-ku , I(a wasaki ,  211 , Japan
keiichi , yag 428, rain or u?c is . canon , co . jp

In this paper , we proposed a new di Mogue system with multiple dialogue agents  . In our new system , three types of agents : a ) domain agents , b ) strategy agents , and c ) context agents were realized . 
They give the follmving advantages to the user : ? the domain age  . nts make the user aware of the boundary between the domains  . 
? the strategy agents make the user aware of the difference between the strategies  . 
? the context agents help the user to deal with multiple goals  . 
We expect that the complex behaviors of the system will become more visible to the user in different situations  . The experimental results show that the user can retrieve effectively and obtain the expected goals easily by using these multiple agents  . 
1 Introduction
Recently , research into ' multiagent systen F is increasing . The multiagent systeln is no wone of the promising solutions to achieve a complicated system  ( Maes , 91; Nishida and Takada , 93; Nagaoaud Takeuchi ,  94) . 
The multiagent system which silnulates cooperation between qmman-agents ' i realized by an integration of simplified autonomous flmctions  . 
And ms a result it achieves a complicated system in total  . It also has a latent potential to make a very flexible system  . 
Thus , we believe that if we introduce the concept of then mlti-agent system into a dialogue system  , we are able to construct a more sophisticated system which is able to treat various linguistic phenomen and to understand or to solw  . , nmrecmnplicated problems . 
Focusing on dialogue systelns , while most current dialogue systems can treat only one domain  ( a small world for a single service )  , some re-search ( Goddeau et al , 94; Nalnbaet 31 . , 94) which aims at increasing the domains , what is called a transportable system ( Grosz , 83; Paris , 89) arelm Wongoing . Ill such systems , information re . -trieval across multil ) le domains is realized using the relational databases  . However in our systeln , it is difficult to retrieve information across nmlti-pied onlains  , I ) ecause the information is retrieved from CD-ROMs in which a large amount of texts are contained  , 1) y using fulltext retrieval techniques . 
And while there are robust and useful strategies in certain goals  , there is n't an all-powerfuls terat-egy which covers all goals  . If a robust strategy in a certain goal is introduced in totile system  , the user misunderstands that the system hKs an all-powerful strategy  . Thus , in our system the user sometimes gets into trouble as follows : ? the user misunderstands that the information contained across several data sources call be obtained at once  . 
? the user is confused between a certain retrieval strategy which is robust in a certain goal and another siml  ) lebut rather redmldant strategy . 
Furthernmre , it is difficult to manage a discourse involving multiple goals in current di Mogue systems  . This is because most current systems aren't robust enough for anaphor and they are able to manage only a single and simple context  . 
This sometimes causes the following problem : ? the user has to manage then ml tiple contexts involving multiple goals  , because the system only ma . nages a single context . And it his makes it hard for the user to use the system  . 
As the result , the user also gets lost in the system . 
In this paper , we focus on how to make the user aware of what the system Callor cannot do  . 
Thus , we propose a nev ? dialogue system with multiple agents  , in which we introduce the concept of multiagent system into our dialogue system  . Ill our system , three types of dialogue agents are re~alized : 1  ) for each domain , 2) for each strategy and 3) for each context . These agents take turns and play their roles according to the discourse situations  . With these agents , our system will haw ; the following characteristics : ? the domain agent smM ~ e the user aware of the  1  ) oundary between unintegrated domains . 
? the strategy agents make the user aware of the difference  , between the donlain oriented strategies . 
400? the context agents make itea . sy for the user to deal with t it ( ; coml ) licat c discourse involving multiple goals . 
In this pal)er , we first Cxl ) lain our l ) aseline spoken dialogue systeln TARSAN which deM with multiple domains  . Secondly , we describe the problems which arise when w c extend the system into multiple domains  . After that , we propose a new dialogue systeln with nmltiple di Mogue agents  . 
We , also describe the results of the examinations on the l  ) rOl ) OSC ( l system . Finally , we conclude the pal ) cr . 
2 The baseline system : TARSAN
We have been constructing a spoken diah ) gue system which retrieves in forlnatlon froln a large anlount of texts contained ill CD-ROMs  , named TARSAN ( Sakai et al , 94; Sakai et al ,  95) . Figure 1 shows the contiguration of the baselines ysotern TARSAN for multiple domains  . 
(,o, . , , ,'oo \] t / ( uttoranct , pair ~ ~ triova ~ ( cord roll or ) L_makor_J Figure 1: The configuration of TARSANft . " multiple domains TARSAN retrieves the information using the folh  ) wing processes : 1 . Tile in lmt analyzer analyzes the result of the speech recognition or the sentence re  ( : eived frOlll keyboard . 
2 . The intention extractor extracts the user's in tcn tion  ( i . e . question , answer , (: ondition (: hange , and so on )  1 ) ased on the analysis of the modality . 
3 . The utter a . ncel ) air controller deals with not only as il nl ) le pair of QAI ) ut also deals with tollow-u1 ) questions bused on utteran ( : elmir controlling . 
4 . The retrieval ( : on dition maker makes retrieval conditions which is sent to the fnll text retrieval  1  ) rocess by . the dialogue controller de . -scribed below . The retrieval conditions are created 1 ) yrefl ' x ring the ' text-models ' , which define the relation betw cell the inlmt words and the retrieval conditions  . 
5 . The 1 ) araphr ~ user tanslates various CXl ) res-sions of the inputs into a singled onlain oriented con  ( :el ) t . 
6 . The diah ) gue controller dct crlnines the sys-tem'sl ) ehavior ( to retrieve and to answer the result , or to request lnor crctric vM conditions to the user  ) by referring the retrieval conditions and the di Mogue strategy  . 
7 . The outlmt generator generates the output sentence  , to be an noun ( : ed by the text-to-speech 1 ) rocess and the information to be dis-1 ) layed on the monitor . 
Our current system TARSAN is able to access the folh  ) wing four CD-ROMs:CD-ROMI : sightseeing in fl ) rmation in Japan ( i . e . name , locat . ion , explanation , and so on of temples , hotsprings , golf courses , and so on ) ( Kosaido ,  90) . 
CD-ROM 2: hotel inforlnation in Japan(i.e.
name , telel ) hone number , room charges , equip , nent , and so on ) ( JTB ,  92) . 
CD-ROM3: Japanese and foreign cinema infor-mation ( i . e , tith ' , cast , director , story , and so , , n)(PIA ,  90) . 
C D-ROM4: Jalmnese professional baseball player information ( i . e , name , belonging team , records , and so on ) ( NM figai ,  90) . 
TARSAN treats cD-ROM1 and 2 as a single travel domain , CD-R , OM3 as a cinema domain , and CD-ROM4 as a baseball domain . 
3 ProMems
As we described ill the introduction , we have addressed three main l ) robh ' msill our ( liMogue . sys-tenl . Two problmns derive froln the e?tension of the system to multil  ) h ' , domains . And the last Olle derives from the single path contextual manage-lllellt  ,  1 . The first problem is that the usern fisunder -stands that the information contained across several data sources call be obtain cd by a silt -gleinput sentence  . The fl ) llowing are exam-1 ) les of requests ac ( : ross domains : The first e . x-ample is contained in the cinema ( lomain and in the travel domain , and the second exam-l ) leis contail mdill theb ~ Lseb all dolnmn and in the cinema domain  . 
l'\]xamph~l : " tStm , ag, . .ch , i MoTnoe . ga . sh . .uen s i ta ciga no b'utai " hi nat ta onacv , wo , shiritai . "  ( i want to know timhots l ) ring which is th ( ~ scene of the cinema whoses , aris Ymnaguchi Momoe . ) Example 2: " Puroyakyu . uacn . shudat ~ . a haiy wltflaah'u , t , vu , ensitaeigawoo , shiete . "( Tellm (" the cilteln ; twhore ; nlactor who was a profest d on M1 ) ~usel ) all player performs . ) 2 . The second problem is that the usern f is un -derstands that the system h ~ an Ml-powcrfifi strategy  , if it has a robust strategy for a certain purpose  . Suppose that several discourse strategies exist in a single dialogue agent : one is a very sophisticated but very goal specific strategy which allows the user to reach the goal immediately  , and another is a very simple but redundant strategy which has the ability to achieve any kind of goal  . In this case , the user may conflme the potential of these strategies and feel uncomfortable about the gap  . 
3 . The last problem is that the user has to manage multiple contexts concerning to multiple goals  , because the system is n't enough robust for anaphora and only manages a single context  . And this makes it hard for the user to use the system  . Table 1 is an example that the user compares the information between Hakone and Nikko  1  . The example shows that the user ha . smanaged the context himself , which seems very complicated . 
We have , also assmncd that these three problems arise because the system only has a single di Mogue agent  . A single dialogue agent usually deals with everything and this makes the user invisible what the system can or cannot do  . Thus , we propose a new di Mogue system with multiple agents which make the system's ability more visible to the user  . 
4 Dialogue system with multiple dialogue agents In this section  , we introduce a new dialogue system with multiple , dialogue agents . The purpose is to make the user aware of what the system can or cannot do  . In our system , three types of dialogue agents are realized : 1 ) for each donaa in , 2) for each strategy and 3) for the each context . 
Here , we call these agents as 1) domain agents , 2) strategy agents , 3) context agents , respectively . 
Figure 2 shows a brief sketch of these three types of agents  . These agents take turns and play their 1 They are famous sightseeing places in Japan . 
Table 1: An example that the user manage the multil ) le-goals by one self'usrl:Hakoncniaruonscn wooshiete  . 
( Tellme the hotsprings in Hakone Town . ) sysl:16 kenarimasu . 
( There are 16 hot springs . ) usr2: Nikkodeha . ( How about in Nikko ?) sys2: Chuuzenjionsen , Nikko yumoto on sengaar imasu . 
( There are Chuuzenjionsen and Nikkoyumotoonsen . ) usr3: Hakoneni hajiingaarimasuka . 
(Are there any temples in Hakone ? ) sys3:Amidadera , Kuduryu Myojin , Saunjina do 7kenarimasu . 
( There are 7 temples ; Amidadera , Kuduryu
Myojin , Saunji , and so on . ) usr4:Nikkoniha .   ( How about in Nikko ? ) sys4: Nikko Toshoguugaarimasu . 
( There is Nikko Toshoguu . ) usr5: So no set sumci wokikitai . 
( Please explain it . ) sys5: Tokugawa Iey as unorei womatsuru .   .   .   . 
(The soul of Tokugawa Ieyasuis worshipped.
. . .) roles according to the discourse situations . The details of these agents are as follows . 
4.1 The domain agents
To solve the first problem , we realized domain agents which perform information retrieval il each different domain  . Figure 3 shows a brief sketch of the domain agents . The domain agents perform the basic interaction between the user and the system to retrieve the information in the basic manner specific to each domain  . In every domain agent , indispensable and basic conditions for information rctrievM are defined  . Using these conditions , the domain agent communicates with the user and performs the information retriev M  . 
And when the user's input 1-noves from one domain to another domain , the domain agent will also change . Thus with the domain agents , the user is made aware of the boundary between the domains  . We expect this mechanisnl to prevent the user from asking the question across uninte- 

Figure 3: The donm in agents /


Figure 4: The strategy agents
Table 2: An examl ) le of two agents try to make an action llsr :

T . agt : " Yamnguchi Momocgashuen , sitacigano butain in attaon senwe ~ qhiritai . "  ( I want to know the hot spring wl fich is the scene of the cinema whose mmn  ( :rest is Yamaguchi Mom < ) e . ) " Izunoodoriko , Shunkinsho , na do 13 kenari masu . "( There are 13 cinemas : I zuno Odoriko,
Slmnkinsho , and so on ) " Joukcnnigaitou , ~uruonscnhaarima . ~ en . "  ( There is no hot spring satisfying the condition . ) grated multiple domains . For exm nl ) le , in the case of the example 1 in section 3 , two agents dealing with the <: in ema domain and the travel domain try to make each action as Table  2 shows 2  . Thus the , user will be aware of the boundary between the two domains  . 
4.2 The strategy agents
To solve the second problel n , were Mized the strategy agents which 1 ) cr for ins informatioll retrieval according to each specific strategy for the information retrieval  . Figure 4 shows a brief sketch of the strategy agents . The strategy agents handle the interaction between the user and the system to retrieve the information in the manner specific to each task  . In every strategy agent , task specific conditions for tim information retriew d are defined  . Using the task specifc conditions , the strategy agent is al ) leto use the default condition specific to the task and is able to give advice or t <> give choices to the user  . Thus with the strategy agents , the user is made aware of the strategy which is specific to the task an < l this mechanism prcvcnts the user using the task specific strategy for other tasks  . 
In the current system , there are two strategy agents for the travel dmnain :  2Travel agent is able to retrive and find " the hot spring which is the scene of Izunood oriko "  . 
businesstrip strategy agent : indispensable c < m dition for the inlmt is the destination  , and the optional con<liti < ) ns are the room charge and the circumstances . When the optional con<litions arc not defined by the user  , the strategy agent will rex : olm ncnd some choices to the user  . The default responses arc the name of the hotel and its telephone number in this task  . 
recreation strategy agent : in disl ) ensabl con-dition for the input is the recreation equipment and the number of participants and the other conditions are optional  . When the optional conditions are not defined by the user  , the strategy agent will recommend some choices to the user  . The default responses are also the name of the hotel and its telephone lmnJ  ) er in this task . 
These strategy agents not Olfly allow the user to use the system easily  1  ) ut ~ d so hell > the user to 1 ) e aware of the <: haraeteristies of the diah ) gue strategy specific to the task . 
Table 3ct ) mp ares the difference between using the domain agent for travel and the businesstrip strategy agent  . As you can see from the table , more frielldly discourse is achieved when using the strategy agent  . 
4.3 The context agents
To solve the last l ) rol ) lem , we realized the context agents which perform the information retrieval dc-lmndentill different contexts  . The context agent is defined when the user nmves from one context to another  . Figure 5 shows a brief sketch of the context agents . Using the context agents the user can easily compare there  , sults relating to l nultiplc goals . 
Table 4 is the dialogue which aims at the same goal ~ us table \] by using multil  ) lecont ex:tagents . 
As you can see from the table 1 and 4 , more sim-1 ) lified discourse : is achieved when using context agents  . 

Table 3: The comparison between the discourse using the domain agent and the strategy agent domain agent for travel  agt0: Hal , Ryokou eejent desu . 
( Hello , I'm travel agent . ) usrl:Toitoriahino hoteruwoshiritai . 
(I want to know the hotels in Tottoricity . ) agtl:34 kenarima au . (34 rows exist . ) usr2:Ekimaeniaru hoteru . 
( L and ci reuln statle e is neat ' the station . ) agt 2: 8 kenarim as u . (8 rows exist . ) usr3: shukuhakuryouga8000 yenikade ha . 
( Androom charge is under 8000 yen . )  agt3: Hokano jouken " Rice hi jouken gaekimae " wo nokoshima sulca  . 
( Do you keep another condtion , " L and cir-emnstanee is near the station "? ) usr4: Hal . ( Yes . ) agt4:AAAh,oteru , hoteru BBB desu . 
( AAA hotel and hotel BBB exist . ) usr5: So node n wabangou wooshiete . 
( Tellme the telephonenmn hers . ) agt5:AAA hoteT ~ tnodcnwabangou haXXX-
X X X X X , ho~er ~ BBB node n wabanouha
Y Y Y . Y Y Y Y dean .
( The telephone numher of AAA hotel is
X X X-X X X X , and the one of hotel BBB is
Y Y Y-Y Y Y Y . )  agt0: usrl : agtl : usr2:   agt2: businesstrip strategy agent Hai , Shucchoueejen ~ odean . Dochirani shucchoun as ai masuka . 
( Hello , I'm businesstrip agent . Where at ' e you going otogo ?)
To t ~ or is hide an . ( Tottoricity.)
Riechijoukcnhaekimae , shukuhakuryouha 80 O Oyen ika deyoro . shiides'uka . 
( Circumstance is near the station , and room charge is under 8000 yen . Are these OK ?)
Hal . ( Yes . ) 2kenarima au . AAA hote run oden wabangou ha X X X-X X X X , hoter uBBB node n wabanou ha YY-Y Y Y Y desu . 
(2 hotels exist . The telephone number of
AAA hotel is X X X-X X X X , and the one of hotel BBB is Y Y Y-Y Y Y Y . ) 5 Examinations In this section , we described the examinations of the prol ) osed system . In order to examine the effectiveness of the multiple dialogue agent system  ( new system )  , we compare it with the single dialogue agent system  ( old system )  . Here the single dialogue agent is the domain agent for the travel domain  . 
We evaluated the system by counting then un > ber of the interactions between the user and the system  ( Tnrns )  , the number of in l ) ut characters of the users ( Characters )  , and session time ( Sec-onds ) that subjects took to reach the same goal with new system and the old one  . Eightsul ) jects examined these systems . They are all typists , but novices with diah ) gue systems . They were given a brief explanation of both systems and practiced on them for about quarter an hour each  . We divide


Figure 5: The context agents
Table 4: The dialogue using two context agents ( tottakone agent and Nikko agent ) usrl : Onsenwos Mritai . 
(I want to know the hotsprings.)
H . agt l : 16 kenari masu.
( There are 16 hot springs.)
N . agtl : Gh . uuzenjionsen , Nikkogumo to onsenga ari?~a3,1l, . 
(There are Chuuzenji onsen and Nikko yu-moto onsen  . ) ( to both agents ) usr2: Ji in haarimas'u , ka ( Are there any temples ?) H . agt 2: Amid adera , Kuduryu Myojin , Saunjina do 7kenarima au . 
( There are 7 temples ; Amidadera,
Kudnryu Myojin , Saunji , and soon.)
N.agt 2: Nikko Toahoguu 9aarimaxu.
( There is Nikko Toshoguu . )  ( to Nikko agent ) usr3: Sonoa et aumei wokil ~ it ai . 
( Please explain it.)
N . agt 3: Tokugawa Ieyas unorei wo matsuru ...
( The soul of Tokugawa Ieyasuis wor-shipped . . . . ) tile subjects into two groups . Group 1 examined new system first and old one next , and group 2didold system first and new one next . 
5.1 Examination 1
The following goal is given to every subject : Goa l  1: You will go to Kurashiki City on business . Find a suitable hotel a .   ( You may select different hotels with each system . ) The relevant agent in the new system is the businesstrip agent  . Table 5 shows the results ( averages of Turns , Characters , and Seconds ) of examination 1 . These results show not only that both groups needed less di Mogue using new systeln than using old system  , but also that group 1 needed less dialogue , especially less session time (360:640) , when they used old system than group 2 . This a There are 41 hotels in Kurasldki City . 
4 04 nmans that the user is Mile to learn how to use the old  ( strategy-less ) ysten l by using new system with a typical strategy  . ~ r calsolnent im that all six subjects who selected different hotels were happy about the hotel using the new system  . 
Table 5: The results of cxanlination 1
Lohl--4 new new ~ old '
Tm'ns/; 7.3 3.0 " 3.5 5.5
Characters/7518 2556
Seconds \ [6401751903605 . 2 Examinat ion 2 The following goal is given to every subject : Goal  2: You have to sele ( : tK anazawa or Sendai for sight seeing . Colnl ) are them using some retrieved in lbrlmtti < ) n , and seh'ct one . 
The relevant agents in the new systeln arc Kanazawa agent and Scndai agent  . Tal)le 6 is the results of examination 2 . These results show an interesting phenomenon that in the ca  . se of the dialogue comparing multiple goals with these Colnpli-cared processes  , the user tends to stop comparing by session time ( from fiven finutes to ten minites ) in favour of the obtained retrieval results . And thcnew system is able ~ to obtain more ret : riewd results than th cold system  . Thus the new system is better than the old system in the case of dealing with multil  ) le goals . 
Table 6: The results of exalnination 2 old --* new new ~ old
Turns 7.0 10.3 9.3 8.5
Chm'actcrs 795 451 96
Seconds 442 420 4585 266 Conclusion
In this paper , we proposed a new dialog n ( ' system with multiph'diah ) gue agents . In our new system , three types of agents were realized . They were ' a ) domain agents , b ) stratcgy agents , and e ) context agents . These agents give the fl ) lh ) wing advantages to the user : * the domain agcnts prevent the user fi'o masking the questions across unintegrate do-mains  . 
. the strategy agents make the user aware of the difference between the domain oriented strategies  . 
? the context agents make ite ~ Lsy for the user to deal with the complicate discourse in w  ) lving multiple goals . 
Using these agents , we exl ) ect the user to nnder-st and what the system can or eanlmt do  . The ex-perilnent alresnlts show that the user can retrieve effectively and obtain the expected goals easily by using these multiple agents  . 

The , authors wish to thank l ) r . Hideyuki Tamura , head of the Me(lift Tcchnology Lab . , forgiving theol ) portunity of this study , Dr . Yasuhiro Komori and Tom Wachtel for suitable advice in translating this paper into English  , and members of the Intelligcl~t Media Div . for use fifl discussions . 

Cdeile L . Paris .  1989 . The Use of Exl ) licit User Modcls in a Generation System for Tailor-ing Answers to the User's Level of Exl  ) crtisc . 
User Models in Diah ) g Systems , l ) p . 200 pp . 232.
S1) ringel'-V-erlag , A . Kobsa , \ V . \ Vahler ( t ; Ms . ) . 
God ( lean I) . , Brill E . , Glass J . , Pao C . , Phillips M , Polifroni . \] . , Sem~tfS . , and Zue V .  1994 . 
GAW ~ AXY : Atlnman-langn ; tge Interfitce to Online Travel Information . In Proceed in qs of
ICSLP-94, S13-11.
Grosz B . J .  1983 . A Transl ) or table Natural Language Interface System . In Proceedings of CoT@ ; rence on Applied Natural Language Pro-ee , ~sing , pp . 25 pp . 30 . 
JTB .  1992 . JTB's Accommodation Iformation ( Electronic BookYRRS-094 )  . ed . by Nakwjime R . JTB . Tokyo . 
Kosaido .  1990 . TAB\[GURA ( Electronic BookYl/RS-028) . ed . by Nihon-Kanko-Kyokai Col1)oration . Tokyo . 
Maes P .  1991 . The Agent Network Architecture ( ANA) . SIGART bullet in (2), 4 . 
Nagao K . and Taken (: hiA .  1994 . Social Interaction : Multimodal Conversation with Social Agents  . In Proceedings of AAAI-94, pp .  22- 28 . 
Namba Y . , Tsuji H . , and Kinngawa H .  1994 . Natural Language Interface for Multil ) le Systems Sequential Control ( In Japanese )  . IPSJ Vol . 35
No.l , 1) 1). 2034.
Nichigai .  1990 . Th , epr@ssional baseball ( Ele ( :-tronic BookYRRS-023 )  . Morioka It . and Nichi-gai Asscoeiates Co . Tokyo . 
Nishida T . and Takeda H .  1993 . Towards the Knowledgeable Commnnity . In Proceedings of \[ nternation , al Conference on Building and Sharing of Very -Large Scale Knowledge Bases  '93   ( KB ~ KS'93 )  , pp .  157-166 . () hnlsha . 
PIA . 199 (. PIA cinema club ( Electronic Book
YRRS-016).ed.by Watanabe K . PIACo.
Sakai K . , Ikcda Y . , and Fujita M .  1994 . Robust Discourse Processing Considering M is recogni-tion in Sl  ) oken Diah ) gneSystem . In Proceedings of \[ CSLP-94, S17-7 . 
Sakai K . , Ikeda Y . , and Fujita M .  1995 . Gaidansu Sisutemuno Maruehi Domein-kano Kokoromi  ( In Japanese )  ,   ( A trial to increase Domains in Guidance System )  . In Proceedings of The First Anwaal Meeting of Th , eAssociation for Natural
Language Processing , pp . 301-304.

