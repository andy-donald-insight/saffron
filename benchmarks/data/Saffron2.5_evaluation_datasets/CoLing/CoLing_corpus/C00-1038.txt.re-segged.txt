Directional Constraint Evaluation in Optimality Theory * 
Jason Eisner
Dei ) art \] nellt of Computer Scien ( : e / University of Rochester
l ~, ochester , NY 14607-0226 ( U . S . A . )/jason@cs . rochester . edu
Weighted finite-state constraints that can count 1111-boundedly many violations make Optimality Theory more powerful than tinite-state transduction  ( Frank and Satta ,  1998) . This result is empirically mM (: om-t ) ul , a . tionally awkwm ' d . We 1) rol ) ose replacing l ; h(:seml bounded constrainl ; s ,   ; Is well as non-filfite-state Gtmeralized Aligmnent constraillts  , with a new class of finite-state dirc'ctional constraints  . We give linguisticai ) plications , l'esult , songenerative , power , and algorithms to comt ) i legrmmn a . rs in totl . 'allSdllc(Ws . 
1 Introduction ( ) l ) tinmlity Theory is agl ' a an lnitr framework thnt directly ext  ) resses constraints on 1 ) honolog-ical fbrms . I / , oughly , timgrmn lnm " t ) l'et ? ~ rsJi ) rlnsthnt violate ea ( : h constraint as little as I ) ossil ) le . 
Most (: on strain l ; s used in t ) l"a ( : tic ( ~ des ( :ril ) ed is favored locale on tigurntions in the l ) honolog-ie Mtbrm ( Eisner ,  1997; 0 . It is the l " et brel ) ossi-l ) let bra , given tbrm toot timd a single constraint at st ' , v crallocations in the fbrm . (lor example , a constraint against syllable codas will l ) e ( ) t'-MMed by every syllM ) le , that hasn (: oda . ) Wheneomt ) m'ing tbrms , then , how do we ~ Lg-greg ~ te ~ tbrm's multil ) lelo ( : aloffenses into a , no verall violation level ? A ( : on straint ( : ould answer this question illntleast three , wi~ys , the , third being our propos M : ? Unbounded evaluat ion  ( l ' rim:emMS molensky ,  1993) . At brnl's viob~tionle , vel is given 1) y them unber of ott'enses . Forms with fewer ot\[balsesm'et ) reti ~ rre(1 . 
? Bounded evaluation ( Frank and Satta , 1998; Karttmmn ~1998) . At brm's viola-lion level is lnill(k , nunlber of offenses ) fbr8Ollle\]i; . This is like mfl ) ounde devalu ~ U ; i on excet ) t l ; h~t the COllStrMnt does not ; disl ; in-guish among tbrms wil ; h > ti:ofl'enses . 1 ? Directional evaluation . At brm's violation level coxisiders the locn tion of of-fimses  , not their to tMn unll ) er . Underleft -* lamgrateful to the 3 m mnymous refereest brt bx , xtback . 
1Nol ; e that k = 1 gives " l ) in ary " constraints that can 1 ) edes ( :ril ) edsiml ) lyas languages . Any /, :- tramMed constraint ca . neasily be simulated by k binary constraints . 
to-rightew duation , the constraint pret ~ rst brms whose of l~nses are as late as possible  . 
To (: omp ; ~ retwotbrms , it alignst lmm ( according to l ; heir (: omnlon underlying repre-senl ; ation ) , and scans the ln in 1) arM lel from M ' I ; to right , stol ) ping at the first loe ~ tion where one form hnsml offense and the  ( ) tiler does not ( " suddendeath " )  ; it ; pret ~ rs the 1 ; ~tter . Right-to qeftev Mmttion is similar . 
~ 2 of this paper gives linguistic and conqmta-tional motivation t br the  1  ) rol ) osal . ?3t brmMizes the ideat rod shows thai ; compos in 9 a transducer ' with a directional ( : on , straint yields a transducer . 
\[Phus direc , l ; ional constraints , like bouuded ones , keet ) ( YI ' within the , (: lass of regular relntions . 
(\] iut we M so show them to be more exl ) ressive . ) 2 Motivation 2 . 1 Intuitions RecM1 thnt ( ) T's constraint rmlking mechanism is ml answer to tim question : I low  ( : ; magl'gd311-marewthml ; e ; t t i ) r n l \]) y aggreg ; d ; ing its viola-lions of sever MCO llst ; ra , in ts ' ? Above we asked the Salne question at a liner some : Howcm ~ a  ( : on sl , raint evaluate at or m by aggregating its o5 timses ~ tl ; several oe ~ tions ? Figure I illustrates I ; h ; ~ l ; Ollritll SWel : is jll sl ; e o n s t r M n t r m ~ k i n g l ' e ( h l x . 
l ) i reetion a lew dual ; ionsl ; riel ; ly ranks the im-1 ) or tnnt : e of the locations within ~ tbrm , e . g . , from left ; to right . This exeml ) lilies ( ) T's " do only when necessary " strategy : l ; he constraint preti ~ rs to postpone o I timses until the  , y t ) ecome strictly necessary toward tile right of the tbrm  , even at the , cost of having more of them . 
One might l ; hink from Figure 1 that each di-rectohm constraint could be decomposed into severnl binary or other bounded constrMnts  , yielding ; tgrm nnm rusing only bounded constraints . However , no single such grammar is general enough to handle  M1 inputs : then un > her of constraints needed tbr the decomposition corresponds to the length  ( i . e . , the number of locntions ) of them Merlying represelltation . 
257 ban . to . di . boban . ton . di . boban . to . dim . boaban . ton . dim . bon(a ) IIINOCODA . 1g ~*****\[*** I*?, .  ,, .   . . . . . . . . . .

1 ~, 5"**1 ?* v*u *
Figure 1: Directional evaluation as subconstraint ranking . All candidate slmve 4 syllables ; we simplify here by regarding these as the locations  .   C1 is some high-rm~ked constraint that eliminates ban  . to . di . bo ; No CoDA is of lbnded by syllable codas .   ( a ) % ' aditional unbounded evaluation of No CoDA . ( b ) Left-to-right evahlation of NOCODA , shown as if it were split into 4 constraints evaluating the syllable separately . ( c ) I/ . ight-to-left . 
2 . 2 I te rat ive and f loat ing phenomena The main empMcalmotiw ~ tionfbr dionally evaluated constraints is the existence of " iterative " t  ) he nomena such as metrical footing . 
(Derivational theories described these with procedures that scanned afbrmfi'om one end to the other and modified it  ; see ( Johnson ,  1972) . ) For most other phenomena , directional constraints are indistinguishable fl ' om traditional unbounded constraints  . Usually , the candidates with the tb west of iimses are still the ones that sm ' vive  .   ( Since their competitors offend at exactly the same locations  , and more . ) This is precisely 1 ) ecause most phonology is locahs at-is ( ring a constraint at one location does not usually block satisi  ) ing it at another . 
Distinguishing cases , like the artificial Fig.
1 where the constraint can only trade offenses at one location t brofl bnses  21  ; a not hm . . . . arise only under special conditions involving nonlocal t  ) he nomena . Just as directional evaluation would predict , such at brcedtr ~ ( teoff is always resolved ( to our knowledge ) by placing offenses a slate , or as em'ly , as higher constraints allow : ? Prosodic grouping stbrce each segment or syllable  1  ; o choose which constituent ( if any ) to associate with . So-called left-to-right directional syllabification  ( Mester and Padgett , 1994) will syllabit ~/ CVCCCV/greedily as CVC . CV . CV rather than
CV . CVC . CV , postponing epen the tic material mltil as late as possible  . Similarly , left-to-right binary tholing ( Hayes ,  1995 ) prefers ( aa )   ( ~ a ) a over a ( acr ) (arr ) or ( cra ) a ( ~ ra )  , postponing m ff boted syllables . 
? Floating lexical material must surface somewhere in the ibrm  . Floating features ( e . g . , tone ) tend to dock at the let * most or rightmost available site  , postponing the apt ) earance of these marked t\[~atures . In-fixed morphemes tend to be infixed as little as possible  ( McCarthy and Prince ,  1995) , post I ) oning the appearance of an affix edge or other afl Iix material within the stem  .   2 ? Floating nonlexical material must also appear somewhere  . If a high-ranked constraint , CULMINATIVITY ~ requires that a primary stress mark appear on each word  , then a directional constraint against primary stress will not only prevent additional marks but also trash the single mark to the first or last available syllable the traditional " EndRule "  ( Prince ,  1983) . 
? Ilarmony must decide how fin " to spread features  , and OCP ~ ccts such as Grass-man's Law must decide which copies of a feature to eliminate  . Again , direction a lew fluation seems to capture the facts . 
2 . 3 Why not Generalized Alignment ? In OT , ibllowing a remark by Robert Kirch-her , it has been traditional to analyze such t ) he-nolnena using highly nonlocal Generalized A lignment  ( GA ) constraints ( McCarthy and Prince ,  1993) . For example , left-to-right footing is thvored by ALIGN-LEF 'ro~  ( Foot , Stem ) , which requires everyibot to be left-aligned with a morphological stem  . Not only does each misaligned t bot off end the constraint  , but the seriousness of its offense is given by the  2 "Available site " and " l ) ossible '' amount of infixation are defined here by higher-ranked constraints  . These might restrict the allowed tone-bearing units and the allowed CV shape aider infixation  , lint do not flflly determine where the floating material will surface  . 
A referee asks why codas do not also float ( to postpone NOCODA offenses )  . Answer : Flotation requires unusual , nonlocal mechanisnls , genora constraint nt lts tells tlre that an ml choredtone sequencers embles theml derlying floating tone sequence  , which may be represented on an auxiliary in tmt tape or  ( if bounded ) as an inlmt pretix . 
Butordinaryi hithflflness constraints check only whether mMerlying material surfaces locally  ; they would l ) enalize coda flotation as a local deletion plus a local insertion  . 
258 mmfl)er () fsyllal ) lest ) y which i ( ; is misaligned . 
Tlm semmfl ) ersn resumnm dovernilot lhnding tk ' . el ; tool ) l ; ~ ilitim violation level . \]' i ) r(:x~m>t)le , \[( r(cro)(o(y)c~(o-o)\] , s , t , , , , has 1+3+6=10 violations , a , nd\[crcmo(c . ro-)(o~cr)\]st , ~ mis(;q , ,ally 1)ad at 4+6=10 violntions . Shifting thorl ( ; ftward or ( ; limin ~ fingth ( ; mr ( ; du (: cst ; heviolation h wel . 
(Sl;(;mt)( , ,rgcr , \]99(i ) argued l ; h ; d ; CA (: on-st ; mints were l ; () opow ( M'ul . ( Ellison , 1995) s\]lowc(\]l ; h ~ d ; no singh ; t i n i l ; (>sl ; nt ( . ,  , ml ) o , md ( ' A constraint ( : ould deline the smnc violation levels as a CA ( : on sl ; raint . ( Eisner , 1997a ) showed more strongly l ; h ; tl ; sin(:( ; GA(:nnt)ema(teto(:(ml ; ( n : a float il ~ gton (' , on ; tt ) hras (' , , :~ n () hierar-ch , y of t in il ; ( ; -st ; d ; ( ; md)omMed(:onstrMnts could(wen(t ( ; t in ( ; the S&ilI ( optimal candid at c , sa . saGA(:onstr ; dnt . Thus GA (: retool ; l ) esimulatedi , , (1994) ( a . 
For this reason , as w ( ; llast heawkwm ' ( hmss~md non-lo (: Mil ; y of (: wdu ; ~tingCAotl '( ms ( ; s , w ( ; t ) rol ) o set ( ) r ( q ) bme ( -IA with ( tir ( ~ ( : tiotml c ( m-straints . \]) ir (, x : l ; i on M (: on sl ; ra . inl ; sapt ) earl ; ( ) m ( ) redir(~(:tly(: ; q ) l ; ur (: theol ) serv (' xlt ) h(mom(m : ~ . 
We ( tonol ; eth ; d;m , ) th(n ' , l ; ri(:ldert ) ossibility is to eliminal x ; CA ill favor of ( ) l'(li~t ; u ' y ' ? m bo ' und , d (: on sl ; rainl ; sthai ; are in ( tifl ' (' a ' ( ml : toth (' , h ) (: a tion of of limses . ( Ellison , \]99 d ) noted that GA con-straint ; s that ( wahm te ( t the 1 ) ln ( : ( mmnt of only one ( : l (  ; m(mt(e . g . , I ) rinmry stress ) could 1 ) (: r ( > 1 ) l : med by simt ) hn:N ( ) \ ] NTEl lVENING (  ; Oli Si ; \]' ; tinLs . 
(\]'\] isn (; r , ii 9971)) gives ; ~( IA-fr (', (' . tr(~a . tm(' , nt()fth (' , metri(:alsl;r ( , ,ss tyl)()l()gy of ( llayes ,  1995) . 
2 . 4 Generative power li ; has r(~(:entlyt)(xm1) ropos(Mth:g ; tbr(:Oml ) U-tal , ionMr (' , a , sons , ( Yl ' should ( ; liminnt ( ; not only GAt ) ut all unbom Med constraints ( Frnnk ~ tlltlSatt ~ , 1998; Karttunen ,  1998) . As with GA , we of l br the less extremen pl ) roach of ret ) lacing them with dircction nl ( : on sl ; rainl ; sinsi ; ( ; n(1 . 
l/ , c (: all that at ) honological grammar , as usually (: on c(' , ive(t , is a ( tescrit)tion of t ) (' , rm is sil)l (' , CU ll , , SR ) 1)Mrs . ' IIt has long1) e(m1) eli(w(Mt ; h ; h ; naturally o ( : curring t ) honologic nlgrammnrsarer ( : . qular relations ( Johnson , 1972; Kal ) lm ~ and Kay ,  1 . 994) . This 111 (2~1 . 118  ; hat they can 1 ) e implemented as finite-state transducers ( FSTs ) that accel ) texactly the granlmatical pairs . FSTs are immensely useflflinl ) ertbrm-3Thisis in de ( ' xl too powerful : cent ( Mngisulmtt ( ~sl ; cd . 
dUR = un(hMyingrel ) rcs cntation , SIt = surta(:(; relm . 
ingmmlyrt ; h ; vm  ~ l ; tasks r ~ q ) idly : g ( ; ner~d ; ion ( Oil-raining all possible S\] . stSraUI . ) , COml ) rehcn-sion(conversely) , chm'act(MzingI ; \] msol ; of fin'ms on wlfi ( : h two grmmnars ( pertmI ) S from diflk~rent descriI ) tiv ( ' , fi:am ( , ,works ) would difl'er , etc . Moreover , FS'i~scan1 ) e al ) t ) lied in parallel to regular sets of tbrms . For example , one cmlobtMnnw(fighted set of l ) ossibleSl . s(al)hon(mmlat-l ; i (: (~) ti'OlU&s\])(( ; (:\] lrtx:ognizer , pass it ; through the invers ( ; l ; rml sdu ( : (; r , in t ( , xsect ther (; sulting weight (~ d set of U \]/ . s with the lexicon , and I ; hen ( ; xi ; ra (: tth ( ;  \])( ; st surviving U1Rs . 
( Ellison , 199d ; Eisner , 1997a ) frmne()T wit\]f in this tradition , t ) y modeling GenmM the (: onsl ; ra . i l l t S : t s w ( ; ig\]lt( ; d t in it (> sl ; ~ t ( ; m~mhin ( ; s(see 3 . 2) . Bui ; all ; houghthos ( ; t ) ai)ers showed hOWI ; Ogtll(l ' ; I , LO , I ; ll(S(l ; of SI , s t ( ) l ;; L single given UI . , t\]my did not (: Oml)ih ~ tim OT gr ; umnar into ; ulFST , or ol ) tn in the otherl ) ( mcfitsth('d'(~of . 
In fact , ( Frank and Satta , 11!)98) showedIdmt such (: on q ) il ~ ti ; ionisiml ) ossil)h ' , intlmg(m-er ; tl(:; is (' , ()\[ un\])otln(t((t:onsl ; raints . ' l . i ) see why , consi(hn : the grammar MAX , \]) EI ) ~ ltAR-M () NY\[h(~ight , \]>> ll ) l , ' , NT-l()\[h(;ight\] . This gra . m-mar insists onll ( : ightlm rmony~m ~ ( )ng sm:li ~ ( : (  ; vowels , but(lislik(;s(:h;mg(;sfl:omtimUR . The result is tlmml ~- g3 ; (sl ; e ( t1 ) h ( momelion of " majoritynssimilntion " ( lakovi ( : , 1999; Lomt ) ~ r(ti ,  1999 ) : aUR with more high vowels thmllow will surt'a ( : (  ; with all vowels high , ; uMvi(:(>v(n'sa . 
So()T may comp~u'c'unbo'u ',, dcd count . s " in a . w~tyth ; tt;m\]i'S3'(:mmota . n(lphonology ( loes not . 
This suggests that ( ) T with unl ) ounded ( : on-stmintsisi ; ool ) ow crlul , lhmce(Fr ; mkmMS ~ t;I ; ~ L , 1998; Km:ttmmn ,  1998 ) l ) rOl ) OS ( : using only 1 ) (mnde ( t ( : on strainl ; s . q'h cy show this re-du ( : esOT'sl ) owcr to finite-state transduction . 
The worry is l ; h~t1) ound cd constraints it aly 1101 ; b (' , (; xI ) rcssiv ( ; enough ,  . A 2-bounded version of NOCODA would not distinguish among the t in M thre  (  ; tbrms in Figure \]: it is agnostic wh(ml ; lmint mttbr(:esmultii)l ( , , codas in all c;mdidat(~s . 
To t ) esu re , ~/~ :- l ) oun ( h ~ d approximation may work well f i ) r larget ~: . 5 llut its automaton (!3 . 2) will tyl)ically h~wek times as m~myst ; td ; es~sI ; hemlb(mndedoriginM , since it mlrolls loops : the 5Using the al ) t ) roximat ( : grmn lnart br generation , an out , put is guarant ( : ( : d corrc ( : tunless it achieves h violations for some k-l ) ound cd ( : on straint . One cant ; henraise k , recoml ) i let lw . grammar , and try again . But 1 , : may grow ( tuil ; clarge for long inputs like phonoh)gical1)hrases . 
259 state must keep track of the offense count . Intersecting many such large constraints cast product very large FSTs--while still failing to cap-tare simple generalizations  , e . g . , that all codas are dispreferred . 
In ?3 , we will show that directional constraints are more powerful than bounded constraints  , as they can express such generalizations -- yet hey keel  ) us within the world of regular relations and FSTs . 
2.5 Related Work
Walther (1999) , working with intersective constraints , defines a similar notion of Bounded LocalOpt imization  ( BLO )   . Tronnner (1998 ; 1999) applies a variant of Walther's ideat oO T . 
The motivation in both eases is linguistic.
We sketch how our idea differs via 3 examples :
U Ruuu uuu uu uu uu uu uu uu uu uu candidate X v v v b v v v b vvv bb candidate Y vv ba avv vv ba a Consider * b  , a left-to-right constrain that is offended by each instance of b  . On our proposal , candidate X wins in each column , because Y always of f ends , b first , at position 3 in the UR . 
But under BLO , this offense is not fatal . Y can survive * b by inserting epent hetic material  ( colunm 2: Y wins by postt ) oning b relative to t its SR )  , or by changing v to z ( cohmm 3: Y ties X , since vv?vz and BLO merely requires the cheapest choice  9iven the sur : face output so far )  . 
In the same way , No CoDA under BLO would trigger many changes unrelated to codas  . Our definition avoids these apparent in conveniences  . 
Walther and Trommer do not consider the expressive power of BLO  ( cf . ga . 3 ) or whether grammars can be compiled into UR-to-SR FSTs  ( our main result ; see discussion in ?3 . 4) . 
3 Formal Results 3 . 1 Definition of OTAn OT grammar is a pair ( Gen , C ) where ? the candidate generator Gen is a relation that maps eaeh input to a nonempty set of candidate outputs  ; ? the hierarchy C = ( C1 , C2 ,  .   .   . ) is a finite tnple of const ra in t functions that evaluate outputs  . 
We writed (5) for the tuple ( C~(5), C2(5), .   .   . )  . 
Given a UR , or , as input , the grammar adnfits as its SRs all the outtmts 5 such that C ( 5 ) is lex-ieographicalty minimal in C ( 5 ) :5 ~ Gen ( ~ )  . 
The values taken by 6'/ are called its viola-tion levels . Conventionally these are natural mnnbers , trot any ordered set will do . 
Our directional constraints require the following immvations  . Each input a is a string as usual , but the outputs are not strings . Rather , each candidate 5CG en ( cr ) is a tuple of I~l+1 strings . We write 5 for the concatenation of these strings ( the " real " SR )  . So5 specifies an aliflnmcnt of 5 with a . The directional constraint Ci maps the tuple 5 to a tuple of natural numbers ( " offense levels " ) also of length I~1+\] . Its violation levels 6 ~ ( 5 ) :5 < Gen ( ~ ) are compared lexicographically . 
3.2 Finite-state assumptions
We now confine our attention to tinite-state OT grammars  , following ( Ellison , 1994; Tesar , 1995; Eisner , 1997a ; Frank and Satta , 1998; Karttunen ,  1998) . GenC_E * xA * is a regular relation , ~ and may be implemented as a nuu-weighted FST . Each constraint is implemented 7 as a possibly nondeterministic , weighted finite-state automaton ( WFSA ) that accepts A * and whose ares are weighted with natural nulnbers  . 
An FST , T , is a tinite-state automaton in which each arc is labeled with a string pair  ( t : 3'-Without loss of generality , we require \[ eel < 1 . 
This lets us define an aligned transduction that maps strings to tuples : If ~ r = al  .   .   . a  ~ , we define T ( a ) as the set of ( n + 1 ) -tui ) les 5= ( 50 ,  31 ,  . . . 5 n ) such that T has a path trails-ducing a:g along which  50""   5i-1 is the con > plete output before ai is read fronl the input  . 
We now describe how to evaluate C ( d ) where C is a WFSA . Consider the path in C that accepts a . 8 In ( nn ) bounded evaluation , C(5) is the total weight of this path . In left > to-right evaluation , C ( 5 ) is then +1 tuI ) legiving the respective total weights of the subpaths that consume  a0  ,  . . , at . In right-to-left evaluation , C(5) is the reverse of the previous tuple . " ~ G Ell is on required only that Gen(c , ) be regular ( Vcr) . 
rSpace prevents giving the equivalent characterization as a locally weighted language  ( Walther ,  1999) . 
Slf there art multiple accepting paths ( nondeterm in-ism )  , take the one that gives the least vahm of C(5) . 
9 This is equivalent to CR (5 . ~ t , . . . ,~ ) where ~ denotes reversal of the automaton or string as apt  ) ropriate . 
260 3.3 Expressive power
Thanks to Gen , finite-state () T can l ; rivially il n-1 ) lement any regular in l ) ut-outtmt relation with no coust rmnts at all ! And     i3  . 4 below shows that whether we allow directional or houri  ( led constraints does not affect this generative power  . 
But in another sense , directional constraints are strictly more expressive than bounded ones  . 
If Gen is fixed , then any hierarchy of hemmed constrMnts can be simulated by some hierarchy of direction M constraints  1? -but not vice versa . 
Indeed , we show even more strongly that directional constraild  ; S cannot always be simulated even by mflmmMed constraints  . 11\]) trine ? basin ?2 . 5 . This ranks the set ( alb ) ' ~ in lexicographic order , so it ; makes 2u distinctions . Let
Gen be the regular relation ( a : ( , , Ib:b)*(c: , (( , ,:-lb : b )* I ( , : t , (-:( , F , : hi , ,: t , lb :-)*) We claim that the grammar ( Gen , * b ) is not equivalent to ( Gen , C1 ,  .   .   .   , C  ~ ) tTor any bounded or mfl ) ounded constraints C ~ ,  . . . C . ~ . There is some k ; such l , hattbrall d5A " , each C i (5) ~ :' n . 12 So candidates 5 of length n have at most ( h , n , )' sditt'erenl ; violation profiles(~(5) . Choos , n such that 2 ' ~> ( k'n ) ~ . Then the set of 2~strings ( alb ) n must contain two distinct strings ,  6 = :  ,   .  ,  .   .   . : , : , , a ' = > .  -  .   . v ,   ,   ,   , will , = Let iben finima , 1 such that xi ~? , Ji , all ( l with-oul ; loss of generality ~ ssume xi = o , , yi = b . PutO-=J ; 1"'' Zi--lC:Ci+l "'' : g~t " Now 5 , 51 CGen ( o ) and 5 is lexicographic MlyminimM in Gen ( c , ) . 
So the granunar ( Gen , * b ) 1naps cr to 5 ouly , whe , reas(Gen , C ) emmet distinguish between 5 and (\[' , s t ) it ; maps cr to neither or both . 
3 . 4 Grammar compi la t ion : OT ---- FST It is triviM to translate an arbitrary FST grammar into  ( ) T : let Gen be the FST , aimC = () . 
The rest of this section shows , conversely ~ how to compile a tinite-state OT grammar  ( Gen , C ) into an FST , provided that the grammar uses only bounded and /or directional constraints  . 
1 ? How ? By using states to count , a bounded COil-straint's WIPSA can bctranstbrmed so that all the weight of each path falls on its final arc  . This defines the same optimal candidates , even when interprete directionally . 
,1Nor viceversa , since only unlmunded constraints can implement nonregular relations  ( ~2 . 4,i3 . 4) . 
12 Apply ! i 3 . 4 . 4 to elinfinate any e's froIn the constraint WDFAs  ( regarded as outlmtless transducers )  , then take 1 , : to exceed all arc weights in the result . 
3 . 4 . 1 The outer loop of compilation Let 5/~= Gen . For i > 0 , we will construct an FST 77 , /thatiml ) lements the i ) artial grmn-mar(Gen , C1 , C2 ,  . . . Ci ) . We construct Ti from Ti_1 alld Ci only : Ti ( '/ ; ) col t ta i l ls the forll lS y E Ti_l ( X ) to t " whie hG ( Y ) is minimal . 
If C i is L ;- t x m n d e d , we use the construction of ( Frank and Satta , 1998; Karttulmn ,  1998) . 
If C i is a left-to-right constraint , we compose Ti1 with the WFSA that l'e presents Ci , obtaining a weigh , ted finite-state transducer ( WFST ) , Ti ? This transducer may be regarded as assigning a Ci-violation level  ( an ( 1~1 + 1 ) -tuple ) to each cr : ( ~it accepts . We must now 1 ) rulm away the subol ) timM candidates : using the DBP algorithm below , we construct a new unweighted FST7 ) that transduces a : ~ ill " the weighted 9~ can transduce ( r : 5 as cheaply as any a : 5 ~ . 
If C i is right-to-left; , we do just the same , except DBP is used to construct ; T/tti'om7)\]" . 
3 . 4 . 2 Di rect ional Best Paths " The idea All that remains is to give the construction of T i from  7~i   , which we call Directional Best Paths ( DBP )   . Recall standard best q ) at hs or shortest-t ) aths algorithms that pare a WFSAd ( wn to its 1 ) at hs of minim mn total weight ( Di-jkstra , 1959; Ellison ,  1994) . Our greedier version ( to esllot Sll Ulalong Imthstrot alway sim-me ( liately takes the lightest " availal ) le " at ( ' . 
Cru:iMly , available ar:s are define tr ( ; lativ c to the int ) ut string , l ) ecause we must retain one or moreot ) timal output candidates for each inlmt . 
So availalility requires " lookahead ": we must take a heavier are  ( b : zbeh ) w ) just when the rest ; of the intmt(e . g . , abd ) emmet otherwise beac : etted on any t ) at h . ~ c:c_,,:,,22
Ti(abd ) = a : , ' c , vck ~_ ~ . c ~__ ~ i(ab ) = ( a , c , f l ) bIev , att , s(e , a , , c )) su~mptimal ~ ) On this example , DBP would simply make state 6 non-tinal ( t brcing a be to take the light are un-availal ) leto abd )  , but often it ; must add states ! This relativization is what lets us compile a hierarchy of direction M constraints  , once and t brall , into an single F sq_'that can find the optimal OUtl  ) ut for a Tzy of the infinitely many t ) ossible inputs . We sawin ?2 . 4 why this is so desirable . By tion tb run bounded constraints , and previously proposed constructions tbr directional-style constraints  ( set ?2 . 5 ) only find the optimal out t ) ut for a single input , or at best a finite lexicon . 
a . 4 . a Dir . Best Paths : Aspecial case ?3 . 2 restricted our FSTs such that for every arc label o ~ :  7  , I ~ t\]-<1 . In this section we construct ^~ ) ti ' om Ti under the stronger assumption that % Io e  \[=   1  , i . e . , ~ i ise-flee on the intmt side . 
If Q is the state set of T i , then let ; the state set of be S\]:c_Sc_0 , qc-S-This has size IQ\["31QI-* . However , most of these states are typic Mlyun reachable from the start state  . Lazy " on-the-fly " construction techniques ( Mohri ,  1997 ) can be used to avoid allocating states or arcs until they arc discovered during exploration from the start State  . 
For a EE * , qGQ , define V(G , q ) as the minimm n cost ( ~\ [ al-tut ) le of weights ) of ' any ^ or-reading 1 ) ath from Ti's start state q0 to q . 
The start state ot'fl ) is \[ q0;0; q0\] . The intent is that T i have a path from its start state to \[ q  ; R . ; S \] that transduces cr :5 \] a itf ? T i has a q0 to q , o ': a path of cost V(er , q ); ? = q'cQ:<?s=4 cO:<_vO , q ) . 
So as Ti read sc ,, it " I bllows " T i . cheap c . stcy-reading paths to q , while calculating R , to which yet cheaper ( but l ) erhaI ) S dead-end ) paths exist . 
Let \[ q ; R ; S\] be a final state ( in Ti ) it fq is final and noq ' ER is final ( in 5~? i )  . So an accepting path in ~ ) survives into Ti if l ' there is no lower-cost accepting path in T i for the same in t  ) ut . 
The arcs fl ' om\[q ; R ; S\]correspond to arcs from q . For each arc fl ' omq to q ' labeled a :- y and with weight W  , add an unweighted a : 7 arc from \[ q ; R ; S\]to\[q ' ; R ' ; S '\] , provided that the latter state exists ( i . e . , unless q ' E R ' , indicating that there is a cheaper path to q ') . Here R ' is the set of states that art either reachable from R by a  ( single ) a-reading arc , or reachable from S by a na-reading arc of weight < W  . St is the union of R ' and all states reach at ) le from
S by a na-reading arc of weight W .
3 . 4 . 4 Dir . Best Paths : The general case To apply the above construction  , wennlsl ; firsl ; transtbrmT is oitise-flee on the int ) uts ide . Of laa is a tuple of \] ~ r\]+l strings , but 50 = eb ye-fl ' eeuess . 
course in t ) utc's are cruciM if Gen is to be allowed to insert unbounded  alilOllllt8 of surface mate-rim ( to be pruned back by the constraints )  .   14 To eliminate e's while preserving these semantics  , we are t brced to introduce FST arc labels of the tbrma : F where F is actually a regular set of strings  , represented as an FSA or regular expression . Following e-elimination , we can apply the construction of ?3 . 4 . 3 to get Ti , and f in Mly convert Ti back to a normal transducer by expanding each a : F into a subgraph  . 
When we elilninate an arc labeled c .  : 7 , we must Imsh 7 and the arcs weight back onto a previous non < arc  ( but no further ; contrast ( Mohri ,  1997)) . The resulting machine willira-plement the same Migncd transduction as ~  1  ) ut more transparently : in the notation of . ~3 . 2 , the arc reading ai will transduce it directly to  5i  . 1 . 5 Concretely , suppose G ~ cangel ; from state q to q " via at ) at h of total weight W that 1 ) egins with a : 7~ on its first arc followed 1 ) ye:"T2~e:7a ,   .   .   . on its remaining arcs . \ ? e would like to substitute an arc from q to q " with label a:  7172Ta  - . . and weight I/V . But there may be infinitely many such qq " t ) ~ ths , of varying weight , so we actually write a : F , where \]? describes . just those q-q " paths with minim mnW . 
The exact procedure is as follows . Let G be the possibly discommcted subgraph of 5hi \] brined by e-reading arcs . Runml nil-pairs shortest-paths algorithm Is on G  . This finds , for each state pair ( q t , q , ) connected by an c-readiug path , the subgral ) hGq , , q , , of G formed by the minimmn-weight e-reading t ) at hs frol nq ' to q " , as well as the common weight Wq , , q , , of these paths . Sot breach arc in 2P i from q to q ' , with weig~ht W and label a : 7 , we now add an arc to Ti from q to q " with weight W + l/V q  , q , , and label a : 7Gq , ,q , ,(e ) .   ( G ( e ) denotes the regular language to which G transduces e  . ) Having done this , we can delete alle-reading arcs . 
The modified e-free ~ ) is equivalent to 14As is conventional . Besides epen the ticmaterial , Gen often introduces COlfi OUS prosodic structure . 
lSThatarc is labeled ai : P where & EF . But what is a o ? A special symbol EEE that we introduce so that  5o can be pushed back onto it : Beforee-dimination , we modify Ti by giving it a new start state , commcted to the old start state with an arcE : e  . After e-elimination , we apply DBP and replace E with e in the result Ti  . 
lS ( Cormen et al , 1990) cites several , including fast algorithms for when edge weights are small integers  . 
262 tlmorigim ~ l ( ; x cet ) l ; for ( ' Jilnim ~ ting some of timsul ) ol ) timal sul ) l )  ; tths . H('a'c is a gri~l ) hti'agmen theft)r ( ; and after c-climim ~ tion:i I : iI ~ ( 2~' ) a:bNote : Right-to-left ; evaluation applies \]) BP t ; o~so consistency with our t ) revious definitions mGms it llltSt ; trashc . 's forward , not backward . 
4 Conclusions
This t ) at mr has 1) rol ) os c danc , wnotion in OT : " dirccl ; ionalev ; fluation , " where UlM (; rlying locations ~ Lr (' , sl ; rictly rmlk('xtt)yI , hciriln porl , mm(; . 
Tra(lil ; i o n l d f i n i t c-s t n t ( ; OT constraints lu~vc enough power to compare arbitrarily\]figh  ( : ( rants ; Oen (' . ralizcdAligmncnt is even worse . 
Dirct , l;ion~fl constraints SC(lllI;OcD ~\]); llr(~ ,   ; \]1 ( I pros of these consla ' a in l ; s : ; heyal ) prot ) riately mili-l ; ~tl ; e a , g ~ finsl ; cvc , ryinstan(:(' , of a disfavored con-figured ; ionina (: and id ~ l ; c for ln , noln ~ d ; l ; cr how many , and they naturally (: at ) t;ur (' , il ; erativ c and (' , ( lgt ; most ellbx : ts . Y ( ; t they do not hnve the ex-(:(' , sspower : w (' , ha , vc , showl ~ l ; ha , l ; i H~g~r ~ liml rro\[' ( tirc ( : tional and/or 1 ) om Med ( : on strainl ; scan 1) eCOml ) iled into nt in it c-sl ; ~ m ' , t\]'~msduc(;r .  ' . l ? h ; ~ t is both empirically and ( ' Oml ) ut ~ tion ~ dlyd csir ; fl)h ;  . 
The most ohvious ful ; m'e work comes t'r Olll linguistics . Candir(;cl ; ionnl constraints do MIl ; h(' . 
work of mfl ) ounded and CA cons\]mints ? I towdo they change the style  , of mlalysis '?( E . g . , directional versions of markedness consl ; rai\]lt spin down the locations of mm:kc dol)jc , (' ts , leaving lower-ranked constr ~ fints no s~G . )\]? in ~ flly , directional (: on strainl ; sca , n t ) c , vm ' iously for mul~t('xt(is*CLUSTEll , offended attim start ; or ( rod of each duster ? or of its enclosing sy\]\]fl ) le ? )  . St ) what conventions or restrictions shouk tapply ?

Eric Bakovid . 1999. Assimilation to the unmarked.
Ms ., Rutgers Optimality Archive ROA-340.
T . H . Cormen , C . E . Lciserson , and 11 . L . Rivest . 
1990. Introduction to Algorith , ms . MIT Press.
Edsger W . l ) ijkstra .  1959 . A note on two problems in colmexion with grat ) hs . Numcrisch , e Math . c-matik , 1:26927\] . 
Jason \]t ; isner . \]997 a . Efficient gener & tionit)rimi-l , iv(;O\])l ; imality Titeory . hiI ~' oc . of the , TDth , An-wual ACL and 8th , EAUL , Madrid , July ,  31 . 3 320 . 
Jason Eisner . 1997b . FooTl POltM decomposed : Using primitive constraints in QT  . In Benjmnin Bru-ening , editor , Pro < of SCILVIII , MIT Working Papers in Linguistics 31 , Cambridge , MA . 
T . Mark Ell\]son .  1994 . Phonologicald (' aivation in optimality tlmory . In Proc . of COLING . 
~\]' . Mark Ell\]son .  1995 . () T , t in \]\] e-state repres ( ' ma-tions and l ) rocedurality . In Proc . off it , (: Col@r-e'nee on I , brmal ( trammar , Barcelona . 
Robert Frank and Giorgio Sa . tta .  1998 . ( ) ptimal-ity Theory a . nd the generative complexity of constraint violability  . Comp . Ling . , 24(2):307 315 . 
Brucettayes .  1 . 995 . Metrical Stress Theory : Principles and U asc Studies  . U . of Chicago Press . 
C . Douglas Johnson . 1972. Formal Aspects of
Phonological Description . Mouton.
lolm hlM . Kaplanmid Martin Kay .  1994 . Regular models of lflmnological rule systems . Computa-l , ioual IAngv , istics , 20(3):331378 . 
l , mn'i Karttunen .  1998 . The prol ) cr treatment of optilm dity in CO mlmt a . tion a \] l fllonology . In P?'oc . 
of FSMNLP'98, 112, Bilkent I.-., Ankara , Turkey.
lfinda Lombard \] .  1999 . Positional faithflflness and voicing assimilation in  ( ) ptimality Theory . Nat ' , ,-ral La' , ,g'uage and Linguistic Theory ,  17:267 302 . 
.Iohn McCarthy and Alan Prince .  1993 . Generalized aligmnent . In G (!(; rtBooij and , I aapvan Math ' , , c'ditors , D : a'r book of Morph . ology , 79\]53 . Kluwer . 
John McCarthy and Alan Prince . . 1995 . Ntith fltlncs s and reduplicative identity . In Jill Beckmanctal . , editor , Papers in Optimality ~ JT ~, c . ory , 259384 . U . 
of Massachusetts , Amherst : GLSA.
Armin Mestermid , laS , e\]~adgc'tt .  \]!)94 .  \] ) irectional syllal fification iGenca'alized Aligmnent  . Phonology ~ t ; Sall ; a CrllZ3 , ( ) (: t ; ot ) o . r . 
Mehryar Mohri .  1997 . Finitestate tamls ducers in language & speech processing  . Comp . Lin 9 .  23(2) . 
Ala . n Prince and l?mflSmolensky .  1993 . Optimal-it; . 3 , Theory : Consl ; raint interaction in generative g ; raln nlar . \]k/Is . , lutgers U . and U . of Colorado . 
Alan Prince .  1983 . Relating to the , grid . Linguistic
Inq ', . iry , 14:\].9100.
3 . P . Stemberger .  \]996 . The . scope of the theory : Where does beyond lie ? In L  . MoNa\]r , K . Singer , L . M . Dobrin , and M . M . Auto\]n , eds . Papc ~ w firm the Parascssion on ~17 ~ , cory and Data in Linguistics , CLS 23 ,  \]39 -164 . Chicago Linguistic Society . 
Bruce Tesar .  1995 . Computational Optimality Theory . Ph . D . thesis , U . of Colorado , Boulder . 
Jochen Trommer .  1998 . ( ) primal morphology . In T . Mark Ell\]son , editor , Proc . of the / tth , ACL
SIGPIION Worksh , op , Quebec , July.
Jochen Trommer .  1999 . Mendeton ( ; lmt terns revisited : Tonemal ) t ) ing its local constraint evaluation . 
In Linguistics in Potsdam Working Papc ~ w.
Markus Walthe . r .  1999 . One-level prosodic morphology . Arl ) eiten zur Linguistik 1 . U . of Mart ) urg . 

