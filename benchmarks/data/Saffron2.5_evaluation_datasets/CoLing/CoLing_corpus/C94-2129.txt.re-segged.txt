MODELING DIALOGUEBY FUNCTIONAL
SUBCATEGORIZATION
J.R . Zubizarreta Aizpuru
Facult adde Inform ~ itica
U.P . V-E.H.U . San Sebastian , Spain
E-mail : jipzuaij@si.ehu.es

In this paper we present a dialogue model which has as its main go attoplace in context the utterance generated by the speaker  . The dialogue model considers that an intervention generates one or more ilocutive acts which are handled as flmctions  . These function subcategorize to or are subcategorized by other functions in the dialogue  . 
The model uses an exchange schema with the purpose of expressing the different ftmctional subcategorizations  . These schemas have properties close to the semantic forms of the verbs in a lexical -functional context  . 
1 INTRODUCTION
In task-orientet l dialogues two speakers work in cooperation with the purpose of carrying out a plan  . 
This type of interaction has a start and a development structured by the restrictions of space  , thne , transaction object and role of the partieipanls . 
A number of researchers \[ Grosz and Sidner , 86; Litman and Allen , 87; Ramshaw , 91; I . ambert and Carberry ,   9211 have suggested that a coherent discourse consists of segments that are related to one another through some type of structuring relation  . Our dialogue model tries to capture the goal -oriented nature of discourse  , ideutifing the discourse structure by providing the details of a computational mechanism for recognizing the structural relationships  . 
The model enables the incremental recognition of communicative goals using rewriting rules and functional equations  . The grammar constructs the structural tree captnring the dialogical functions of the discourse using functionals nb categorization  . The subcategorization process improves on previous approaches \ [ Ferrary et al  , 88; Bilage , 91; JOnsson ,  911 , increasing the expresive power of the traditional dialogue models by modeling the relationships among the communicative actions enabling the task of connecting discottr ~  . 
The different parts of the system have been implemented using a blackboard architecture  . The proces starts ob U fining the f-slructure associated to the intervention making use of a lexical-functional grammar\[Abaituactal  . , 9111 . In a second phase the f-structure is refined providing the correct explanation  , essentially it solves the verbal interpretation a d obtains referential 
Craig Jones
Department of Computer Science
University of Aberdeen , Scotland-U . K , information . Then , the planner and/or the dialogue modules uu ' to work  . 
In the remainder of this paper , we will present our dialogue model in a topdown manner  . Firstly , we show the exchange structure at top texl and the subcategorization process using two samples  . Then , we explain the retroactive and proactive nature of the interaction and we conclude by presenting two kinds of special interventions  , the complex ~ lll(l compound interventions . 
2EXCIIANGESTRUCTURE
We assign to the constituents of the exchange level initiative and reactive ilocutive functions  . These functions qualifyctmstituents which are in the same level of structuration  . The initiative functions are assigned to the directriee interventions of the exchange  . 
The reactive functions constitute the generic lass of the answers and they try to satisfy the obligations assumed for the interpretation f the initiative functions  . 
Analyzing the corpus that we dispose we have detected the following initiative functions : Fre q  , Freq-prel , Freq_aux , Freq_fic , Fqinlbrm , Fqref and Fqif . Freq is a function associated with a petition of achievement a physical action  . Fqinl brmin quires in lonnation abou the plan in progress  . Fqref and Fqifdem and referentialnd polar information  . 
The above initiative functions are completed with the lollowing reactive functions : F inform req  , Finform , 
Fiafref and Finfif.
We assign to the initiative functions , with directrice characteristics , one exchange schema with similar performance to the semantic forms of the verbs in a lexical -functienal context  . This exchange schema will tx~identified from now with the word SCItEMA  . An schema specification will exhibithe subcategorizations detected inside an exchange  . Therefore , an exchange with a u initiative function of type Fq in form  , inside which a nested exchange has been produced , will have the following schematic representation : SCHEMA="Fq inform #<  ( 1" E comp )   ( TF inform ) > " lFreq_prel , Freq_aux and Freq_fica refunctions subcategorized by Freq and represent preliminaries  , auxiliar forms of the request midfictitious executions of actions  . 

SCHEMA = " < ( \[ Sug categorized_by \] ) >#Fx#< ( \[ Sug categorize to \] ) > " Just like in a lexical-functional grammar , the initiative function Fq inform subcategorizes to the reactive function F in form and to a subexchange identified by E comp  . This subex change has , at the same time , a specific initiative function which sube a tegorizes to the appropriate ractive function and which is sube a tegorized by the Fq in form function  . One example of dialogue sequence where this schema could be applied is the following :  $1  . -How does it modify the camera's dia fragm ? ( Fq in form )  $2 . -Do you know where is the key for modifying it ? ( Fq if )  $1 . - Yes , in the left part of the camera ( Finf if +
Finfref ) $ 2 . - Ok , then press the F3 but to m and move the key towards the left ( Finform ) In the model which we are going to present both the exchange structure and the intervention structure are going to be definied using rewriting rules  . The tree nodes will be enrichied with functional stmcifications just like a lexical-functional grammar  . These functional specifications will reference to the initiative and reactive fimctions which are going to appear in the conversation  . 
The grammar initialy will have the following rules  :   ( 1 ) D - -> E1 . . . . . . . . . . . . . . . E i . . . . . . . . . . . . . . E n (1" EF1)---J , ( TEFi ) = ~( TEFn ) = $ D represents a dialogue , Eitheex changei and EFi the functional specification of the exchange i  . 
(2 ) Ei -> Il 12 ( I3 )   ( TFx ) = $  ( TFy ) =$ Ij represents he intervention j of exchange E i  . 
Both Fx and Fy represent speech acts of the form F  ( p )  . 
That is to say , every node I i will not reflect only the referentialnd predicative aspect of the interation but also will express the ilocutive force associated to every speech act  . A single exchange will be constituted for an initiative intervention adwe could suggest nuclear to the exchange  , an initiative-reactive intervention and optionaly for a closure reactive intervention f the exchange  . 
The functions Fx and Fy associated with every constituent will be instantiated for some of the initiative and reactive fimctions introduced before  . 
The rule ( 2 ) formulated above handles balancod conversational sequences  , that is to my , sequences of the following form : $1 (11) . -Please , change the exposure mode . 
$2(12) . -I changed it already and 1 have left it in

$1(13_1) . - Ok , letus continue , how can 1 change the speed ?$2(I2) . -Press the key XY23 and move the lever . 
The structural-functional tree which would correspond to this dialogue piece would be the one showed in Fig  .  1 . 
Structuraly the dialogue fragment would be constituted by two exchanges which inform about the physical actions performed by the speaker and which are connected with a high level task  . 
Let us imagine that instead of the previous dialogue piece we produce another one modified a little:  $1  ( 11 )  . -Please , change the exposure mode . 
$2(1"1). - Sorry , how do I change it ?
S1(I'2) . -Yes , press the buttom MODE and move the lever on the right side  . 
$2(12) . -I changed it already and i have left it in
PR0GRAM.
$1(13).-Ok , letus continue . . . . . .
This second dialogue illustrates a very common phenomena  , the speaker departs , momentarily , from the main direction of the conversation , in order to start a secondary exchange which , in most cases , will have a subgoal to be achieved , and then returns to the main axis of the convermtion  . 
In order to manager these cases we propose a rule like this:  ( 3 ) Ei-->I1E"i 12t = ~ , ( TE comp ) = . L(\]"F y ) = . ~ Fig .   2 shows the dialogue structure obtained by means of the aplication of the above rule  . We associate the schema 2 . a to an exchange which has , like initiative intervention , a request function of achievement physical actions  . At the . same time , this function sube a tegorizes to an subordinate x change-E comp - and are active intervention  . 
We emphasize that the subordinate exchange E comp has a retroactive nature so that it would not appear at the moment of the initial formulation of the schema  . 
The schema 2 . b is a bit different from the standard notation of a lexical-functional grammar  , it specifies an element in the lefthand side of the nuclear function  . This element will be at the same time the nuclear function of another exchange and reflects the sube a tegorization that exists between this element and the nuclear constituent of the subordinate exchange  . 
The subexchange E"i especified above like E"i-- > I"I  I'2  , can have , of course , neste dialogues defined with the rule E'i-->I "   1   ( E ' " i ) I "2 . Iu our corpus we do not find subdialogues with more than three nested levels very often  . 
8147" = 1/"/l~(tFinfo ~ , req ) ir , ~ ~ tl "!\ = t/(1'Freq ) = ~( tSA ) = t = .   .   , ~ q:req11 < ( TFiuformre/SCIIEMAtic = q : qiftf < ( TF in fil ) >
E(IEF2) = . \[ jl > , .  \  ( 1 " qtlfoltn )  = 1  ( tF in form rcqCJON ' I'IN : .  ,  . = " Fq inform J/<(Il ~ inlbnn ) > ~ Fig . l Structural-functional tree of a balanced conversational sequence 
I ) 1=, 1, /( I Freq ) = it,
SCIIFMA (2 . ;0 = " Frcq # / ( 1F q inform )  = < ( TFinlbrm rcq ) ( 1 Econq ) ) SCI lEMA ( 2 . 13) =\[" l ; req#Fqint\mn#I < ( I"F inform ) >" ~ \[  ( I ~ liFl ) = I ( ~ E comp ) = lJ . \1 = 1(IF ill brm ) = l . ( I
Ar ) = 1. I=I(1liF2) = 11!2(TF qif ) = ~

SCIIEIvlAlic = qklif#<(Il:infif ) > " Fig . 2 Dialogue structure with subordinate x changes 81 , 53 PROACTIVE AND REACTIVE
FEATURESINTHEINTERVENTION
An intervention will be composed by a main act that we will designate director act  , preceded and/or followed by option , ' d subordinate acts . The director act is the speech act that provides the general sense of the intervention  , that is to say , its ilocutive force . 
In all intervention the interactive functions will be expressed using the proactive or retroactive f atures that we will associate to the intervention  . 
The following rules define the structure of an inlerv cntiou : 
Ii --> ( X * ) ID ( X * )   ( 1"SA ) c = + t =$ ( 1 ` SA ) c = +
X - -> I pi , Iri ( 1"SAp ) =$  ( TSAr ) = $ The first rule defines file hierarchical relation that exists between the director act  ( IB ) and its subordinate acts coustraiuted by functional equations  . The second rule identifies the subordinate act like proactive or retroactive  . 
3 , 1 Complex in tervent ions and compound in tervent ionsInmost cases  , the reactive and proactive features of the subordinate acts are not related to the director act of the intervention where they appear  . In these cases the subordinate act must find ils director act in the dialogues equeuce  , basiealy belore , but sometimes it must wait for the next interventions for its subcategorization  . 
The presence of this phenomena creates the necessity to extend the original model with the inclusiou of mechanisms which enable to deal with another two new types of interventions : the complex interveutions and the compound interventions  . 
The complex interventious are constituted of two or more subint crvcntions with a relation of local domain  , that is to say , the subinterventions make reference to the initialive fuuction of the exchange more immediate  . 
These interventions will have the following formulatiou in the model 
E - -> Il (1"F ~) =$
Ix-->Ix1(1"l,'xl ) = $1X(1"lcomp1) =
Ix2$Fx2) = $
The schem assigned to the exchange inside of which it is the complex intervention will be the following : SCIIEMA="Fl#<  ( 1" Fxl )   ( q"F x2 )    ( TFreac ) > " Fl subcategorizes to 1 , ' reacusing the initiative function ( F x2 ) of the complex intervention . 
The compound interventions are constituted of two or more subinterventions too  , between them there is a relation of nonlocal domain  . In the cases of ploaclive movemen the domain nature will remain defined a posteriori  . 
The compoum l interventions will have the following folTnulation : 
E-->IlIy ( 1' FI ) =$  ( i " I comp ) =$ ly --> I yl Iy 2 ( 1" Fy 1 ) =$  ( $ Fy2 ) =$  ( ~= g )  , (1` =~ ) The schema assigned It this exchange will be the following : SCIIEMA = Tl#<  ( $ Fyt )  >  (  1" 1 , 'y2 ) " The function l : y 2 is subcategoriz cd by the function 1" l but does not support thematic relations wilh it  . These functions will be rc actives and will have nonlocal domain or proactives which produce a thematic rupture with the initiative function F  1  . 
We illustrate all this with the lollowing dialogue fragment : 
S1.-Now I do not see anything
S2.-Please , press the shooter halfway.
S1 . - Where is it ?$2 . -Close to the screen , ared but tom do you see ?$1 . -Yes , yes symbols appear but 1 do not understand them . 
I low we can set in Fig .   3 the stth ordinate exchange E comp geuerates a complex intervention like a reaction to the nuclear initiative function of the exchange  . This complex intervention is composed of two subinterv cntions of reactive and initiative nalare  . This hlct makes them both appear between curly -braces pointing out that we are treating the same intervention  . The presence of the initiative fimction Fq if generates the schema  3  . 3 where the initiative function is subcategorizcd by the former initiative lunction  ( l : qrcf ) and subcategorizcs , at the s~unetime , to the reactive function ( Fiufif ) that appear subcategorized in tile former schema . This function represents an expectation generated fl  ) rF q if in 3 . 2 and an achieve mentiu 3 . 3 . 
The schema 3 . 3 is related to a compound iulervcution where one of the subinl crvcnlions plays are active role associated with the former intervention  . The next subinter vcn tion , reactive too , is nonlocal aud therefore is not subcategorized fi ~ rtile nuclear finlction of the schema  3  . 3 . This subinterveutiou is sube a tegorized for the function Freq of the schema  3  . 1 . The metavariables g and show the relation of non local domain thai exists between boh functions  . 
816 ( I\[:inform ) = 1~(3.1)
II-->Sl
I=1(tI:rec0=t=~I:infonnreq?

T = ~( lI compl ) = 1/~I4-->$2I (3 . 2) ( TF qref ) = t1,1 (3 . 1) S('IlI , ;MA = " lheq # <( I 1 ; in\[bnnreq ) ( rlicomp ) > (! l:in(3 . 2) SC'III , ;MA = "< ( ! li'eq ) > tfl~qref#<l ( rF  infrel ) ( I lqi0 ( Ilnfi0 > " (  3 , 3  ) S ( ' I1EMA = " < ( tl : qreO >  #Fqifg < ( T17 in fil )  >  ( tFinlbnurc ~ ( Il : qi0 = , t(1"l:infit ) = , t ~ : I "* ~ iJl : hlr ~ rm re - ~\ [0 f ) Fig .   3 Complex and compound interventions \[ Bilange , 91\] Bilange ,  1 ~ . ( 1991) . " A I ask independent or al 4 CONCLUSIONS We have presented a dialogue model that uses functional subcal cgorizatiou for recognizing Ihc structural relalionships of the discourse  . The subcategorization process applies a slruetural schema to every exchange producing a functional definition with proper lies close to the semantic forms of tile verbs in a lexical -funet knlalgrammar  . 
The model enables us to handle subordinate x changcs capluring tile dependencies I hat exist among the ilocutive f/mctiotls relating tile main function of the exchange to tile initiative function of tile subordinate x change  . Tim complex and compound interventions make use of tim same mechanism of subcalegorizatiou using I heproactive and relroaclive features of I he interventious  . 
The parser has been written illPm log with a bottom-upsl rategie  . The interface between tile blacklx/ard and the differeul Knowledge BasKs has been implemented in Commonl  . is p . The control mechanism uses the scheduling package of Knowledge Craft  . 
REFERENCES\[Abailua et al , 91\]Abaitua , J . , Ruiz Anton , J . (' . . and Zubizarreta , J . R . (1991) . " Uncompilador tiel J: ( lysuaplicaci6 naleuskara " . Procesamiento del Lenguaje
Natural , 9, p . 177-191.
dildogue model " . Proceedings of the Conference of the European Chapter of the ACT  , , p .  8388 . 
\[Grosz and Sidner , 86\] Grosz , B . and Sidner , C . (1986) . 
" Attention , intention and tile structure of discourse " . 
Computational Linguistics , 12(3), p . 175-204.
\[J 6nsson , 911 J Onsson , A .  (1991) . " A dialogue manager using initiative-response units and distributed control "  . 
Proceedings of the Conference of the European Chapter of the ACE  , p .  233-238 . 
ll , ambertatld (2arberry , 92ll , mnbert , L . arid Carberry , S . (1992) . " Modeling negoliation subdialogues " . 
Proceedings of the 30tit Annual Meeting qf the ACL , p .  193-200 . 
\[I , ilm ~ m and Allen , 871l , ilman , I) . and Allen , J . (1987) . 
" A plan recognition model fursub dialogues in conversation "  . Cognitive Science , I1, p .  163-200 . 
\[ Manaris and I ) ominick , 931 Manaris , B . and l ) ominick , W . (1993) . " NAL1GI ) ; : a user interface management system for the deve lopment of llaturallatl guage interi  ; aces " . Int . .I . Man-Machine Studies , 38, p .  891-921 . 
\[ Ramshaw , 91\] Ramshaw,1, . (1991) . "A three-level model for a plan exploration " . Proceedings of the 29th
Annual Meeting of the ACL , p . 39-46.

