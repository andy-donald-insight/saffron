TEXT PROCESSING OF THAILANG UAGE
= THETHREESEALSLAW =
Shigeharu Sugita
National Museum of Ethnology
ExpoPark , Senri , Suita
OSAKA565, Japan

Computer softwares for processing
Thai language are developed at National
Museum of Ethnology , Osaka , Japan . We use a popular intelligent terminal TEKTRONIX 4051 for inputting and editing , IBM 370 model 138 for KWIC making and sorting , and CANON's laser beam printer for final output . 
Using these systems , " Kotmai Tra Sam
Duang" ( the Three Seals Law ) which contains many kind of laws and ordinances proclaimed in Thai between  1350-1805 A . D . is computerized . This text has 1700 pages and about 1400000 letters . KWIC index becomes 200000 lines . 
Some statistical data for this text are obtained . They are occurrence frequency data of single letter  , group vowel , and letter combination ( digram ) , etc . 

This report is a result of joint project at National Museum of Ethnology  . 
The member are Y . Ishii , I . Akagi , S . Tanabe
Y . Sakamoto , S . Uemura , A.Ishizawa,
M . Sawamura , K . Sasaki , Y . Kurita , and
S . Sugita . Their research field are eth-nology , linguistics , computer science , and sociology etc . 
We thanks Mr . Sophon Chitthasatcha,
Miss Sumalee Maungpaisaln and Miss Hiroe Matsumoto for their help in Segmentation  , inputting and correction . 
We also thanks Prof . K . Nakayama and A . Oikawa of Tsukuba University for their support on making Thailetter patterns and output software for laser beam printer  . 

In the field of ethnology or cultural anthlopology , ethnographies are very important information sources for comparative study of many different societies  . Not only bibliographic data but also contents of text are necessary  . 
HRAF ( Human Relations Area Files) , which was developed by Dr . Murdock and now managed by HRAF Inc . at Yale Univer-sity , is a unique retrieval system . 
They use about 800 category codes by which analysts classify the contents of each pages of books  . 
Though HRAF system is an elaborate work , it is not easy to search necessary data by user terms  , that is , natural words . 
If whole text are fed into computer , it is very easy to retrieve any part of text by the same natural words used in the text  . 
Online retrieval system is smart and effective . But sometimes researcher wants printted index like as KWIC which is usable at any time and place  . Combining KWIC index and thesaurus diction-ary , it gives us a very powerful tools for searching special expression hidden in the text  . 
Till quite recentry , at least in
Japan , most cases of computer processing of natural language are distored to indo-europian language or Japanese  . In the ethnological studies , we must treat many areas in the world . We need computer softwares which process unfamiliar languages for us  , such as Arabic , Korean , Sumerian , Mongolian , Devanagari , Thai , etc . 
National Museum of Ethnology at
Osaka has introduced several computer systems to encourage humanity study  , and now is developing many application softwares which are usable by any researchers who do not know computer programming or how to use computer  . 
This report describes one of such application softwares which treats Thai letters  . The points of our work are as follows ; i ) A popular computer terminal is used for Thai letter inputting and editing  . 
It is easy to use because dead key operation is not necessary  . 
2 ) KWIC making and sorting software are implemented using FORTRAN language which can be transfered to any other computer system  . The algorithm is not so complex but it was not implemented only because they are not popular language  . 
3) Statistical data of the text are obtained . They are occurrence frequency of single letter , group vowel , and letter combination . These data will help us as a contexial data in case of OCR  . 


There is no segmentation problems in case of indo -europian languages  , be-cause they have clear separator for word unit such as space or comma  . There are , however , many languages in Asia which have no clear separator  . They are Korean ( Hangul ) , Chinese , Japanese , and Thai , etc . 
Examples shown below mean that there exist several different segmentation  . 
Segmentation affects to the meaning of sentence and retrieval efficiency  . 

OL-r-eL.-~-
Fig . l Examples of different segmentations
To cut into long unit is effort saving , but it is difficult to search the string included in that unit  . To cut into short unit is effective for searching  , but too many keywords appear . 
The text , the Three Seals Law , has no word separator , as shown in fig . 3 . 
So it is necessary to segment into appropriate units before making KWIC index  . 
But it is difficult problem because segmentation needs well understanding of meaning  , which conversely needs KWIC index . 
We adopted a practical method which at first cut into long unit and then cut again after looking KWIC index  . 
I_RE-'SEGI"IENTATIOt'~i--'i


We use a popular intelligent graph-icterminal TEKTRONIX  4051 which has usual alphabet keyboard . We sticked Thailetter labels on the side of each key as if it looks like Thaity pe writer  . A codetable of Thailetters and coresponding english alphabets is shown in Table i  . 
The characteristics of this terminal are ; i ) It generates Thailetter pattern by BASIC program in graphic mode  . User can affirm the letter he typed . 
2) It has local cassett memory , so that user can input and edit data any time , even when host computer is not working . 
3) By way of communication line , stored data can be transmitted to host computer for time consuming work  . 
4) It is easy to implement a flexible
Thai language editor , which accept alphabet commands and display Thai letters  . 
5 ) Copy of screen can be taken by the hard copy unit attached to it  . 
Rules for text inputting
The text has many irregular expressions . So following expediencies are adopted . 
i ) Quotated words or phrases from Pali language are skipped by inserting special symbol to indicate there are skipped words  . 
ORIGIHAL TEXT ~ EGIENTAT 10 14

I 1700 Pages 200000 units\[__zO_RRE , UTION , IThaieditor-----\[?TA'TIST'i CQLDATA
M __I ....
\[...... ? ORTING printer
Fig . 2 Flow diagram of KWIC making-33 12 ) Tables are skipped . 
3) Special expressions for money , dating , and fractional number are transformed into sentence form  . 
4) Vertical expression shown in Fig . 3 are attached special symbol after and before the word  . 
5) Parallel expression in the middle of line , and treelike expression are transformed into linear form from which original form can be reconstructable as much as possible  . 
Order of input
The order of input of Thailetters to the computer is same with the order in which one would strike keys of type-writer  . 
9, tl , lXI , o , u , l . )'l,'ial,"ln~'l,fl/"LI,q~oo/?tOt . .v"iLl~ . i ~ t ~ l'l J , /" u : " ll , ql : lcr ~ l11I , i ~"' l /' l . 4 qR ' ae ol 12 ' ~ . t'1,1~11~h1714~1"t4L 191 t1 . / , ! i5 ~ uI , ~UL " ll , ' iq / , 16L'14 ql :/) ' L- . i;q~l~eI~ln:/(a ) ~-; ~ e ~ C11Gtl\] , litPlIll11ltl(Id?~c-"g . 4-~~--I111'11 Jb0O\]b(A)
I . < m < 3 ~ . , firl ~ r ~! " Ol ~, \]/ . ~l,~'li ~ lllil-j/3i ~, l ', l ~ . , ll~l~,,\]r'j , llr/;~,~ . lgflG/
I ) l , , t , )....
~ J\]1 il < Gll 11 . -t-,,sfig~fln~l~/~,odt~11 & ilJ~U , : 1 . 11~1//t,-i'fl\[(c )
Example text
UOL . = 4PAGE : 2594% 911 ' qni'nlmqulm1wq/a?q"l , it ' nw ' qj ql IL/'i , i'il . lql , l-i . 

P = : iog < cONT)i6~l-1:n"llq/ , lfq4l ~: , , ' I~i~ , 1/ ~ . "1%~!1~-I"-1~/~1'"1, 11i1~:~mI . _IQM m~t/I , ,tfq ~ lJ , / t7I , tJ tl , /l ~' l . l/ , ~ li~h~l , ~tlq~4i ~" ~1i ~ 41% ~ l(1 . " q141, . qhllill ) " ~'1t/L1 , 4\] il , "~l_li'~ , ,ll , IU~l/%~l ? ~@ lli(c ) Fig . 3 Examples of text and inputted form
Thaieditor
A lineed it or for Thaitext is implemented on TEKTRONIX  4051 terminal . 
Commands are english like term and Thai text are displayed by Thailetter  . 
This editor suporse that there are volume number , page number , and line number . 
ENTERTHEVOLUME NUMBER = v ; specify volume number * PAGE , N ; specify page number . Until next page command , this page is held in memory . 
* LADDXX ; XX is added to this page as a last line * LINS , MXX ; X X is inserted as a new line afterline number m * LDEL  , M ; line number m is deleted from this page * SHOW , M ; string of line number misdisplayed in Thai letter * LGET  , M ; line number m is object to be edited by following sub-commands * ADBXX  ; X X is added to the beginning of line m * A DEX X ; X X is added to the end part of line m * DELXX ; string X X is deleted from line m . If there are several
X X's in line m , the position number are displayed . Enter corresponding number after prompt " which ? "* INSXXBEFOREYY  ; string X X is inserted before string Y Y . If several YY's are there , type corresponding number after prompt " which ?" * REPXXBYYY  ; string X X is replaced by Y Y . 
If several YY's are there , type corresponding number after prompt " which ?" * SEE  ; three letters after and before changed part are displayed * PART  , 0  ; five letters of beginning part of line mare displayed * PART  , 100 ; iast five letters of line m are displayed * PART , K ; five letters from kth position are displayed * END  ; editing session is completed
HELI , O !! HO blAREY f !', K,
ENTERTHEVOLUMENUMBER = 5~pcge , 208% l set , 10 ~ r ~ p82629 ~ NHICH ? : 77 ~ see % Ig et , 15% in s % seep oge , 199i'~)BEFORE~ql . J ~: p ~ r t , 100 ~0
I % a de % ghow , 13% ghow ~14% fins ,  12 12 , 5' t"q"~a4~SKIP ~* SKIPS 334 246 ~ . 1~0419 qn~'l'li ~'4 qlfl . nildt,show,i ~ ~0, I/~qn~qql#~n'~ . Lql~lit : tinsi " BEFORE ~"\] FI ~ page , 203~19et , iZ ~ show ~ see % Ig et , I5% part , lO0!m"I171 ? If I"I'~I ) hn
Fig . 4 Examples of editing -333
KWIC making
The most obvious complication is the fact that in Thai writing as many as three separate characters can appear at the same holizontal position in four different vertical posit ions  . Therefore number of letters to take as before or after context must be carefuly counted  . 
As a index of every unit , volume number , page number and line number are attached to the left side  . 
Sorting
Sorting algorithm of Thai words is not so s impleas English  . 
lhai
Computer algorithm i ) Every occurrence of pre-positioned vowel ( & ~ I ~ ) is moved to a posi-tion immediately-following consonant it preceeds  . 
2 ) Diacritic symbols are moved to the end of word with the indication of posi-tion counted from the end of word  . 
3 ) Each letter is replaced by the code given in Tablei  . 
4 ) Then two words are compared as if they are numerals  . 
n = % ~ n ~ OOOl ' , 08567146000103z ~ ~ e ~ 0002l 1557 15000 2030 0
We ignored algorism 2) , because our segmentation units are not necessar ily words so that it does not work effec-t ively  . 
Table 1 Codetable of Thailetter\[?\[ 61  -~ >  81 rI .   .   .   .   .   .   .   .   .   . 
qe 62 mll 1L-82
I ~ Ilb 63  ~ ~  83 hl " ~ 4 ' IKIll : I ~ 4   7   65'   85 n 66   86 q 6   67   87   , ~ & 68 88
L ~69 ~9
F 71 91 " ~ . 72-2921 ~ z3(z93"1074)",~94
Q 75 ~ M 95 ip " 76 * t 96 \[ El # 77 I 3   97 ? q $ 78   98  ~ ; 7999d\[(8eI\[I ~ ~ ~1~"I ~
H82 ~ P
I'.iO ~,\] ~ E pvh04i ~" JD , " U05!
Jo ~ ~ Rj . .
' ~ Ho 7~< de , 9"\[' l ~ I , -- .   ,   , ~JBt ~ fl 5812' I/I , n ~ q v 13   1~ T\]s 14 ~ oq\ 15   1_J e  o 16 tJx
G , ct7~z2'2 ~ . I , 4223 LJ ,   43   24 " ~ - i -44   25 ~ A 45   2e " Bi 4e   27  ~ ?  47   28 q  ~ 48   29 ~ L 49 ~ o ' NK 5o   31  "~  1   51   32 ~ s 52   33  ~ >  53   34 ~v 54   35 ~ U 55   36 ' ~" -- t 56   37  ~  57   ,   . . . Jl 38 ~" ~5839"" Ik 5940 ~ . 68
Total number of letters in the machine readable text is  1362602 which include special symbols such as separator  , skip symbol , comma , etc . Total line number is 29582 . In Table 2 is shown letter occurrence frequency for each letter  . Table 3 shows occurrence frequency of compound vowels . Combination frequency of two letters are l isted in Table  4  . They are taken in order from the highest frequency  . The combination is taken as shown below . 
Fig . 5 show a d is t r ibut ion of the rat io of upper and lower letters to the total number of letters in a line  . Average ratio is 19% . A simple culculation give a ratio of 23% which is number of upper and lower letters among the hori-zontal positions  . This means that in a line of Thailetter upper and lower letters is about  23% of normal horizon-tal positions . 
T = total number of letters in one line
S = total number of upper and lower letters in the line M = T-S = number of horizontal positions in the line 
Qi = ( S/T ) Xi 0 0
Q2= ( S/M )   Xi00 mean value of Qi=19%  "  Q2=23%   2888_   1888 I?Table 2 Occurrence frequency of single letter q ti "3  !  92754   ~1   13916i q 827~ 
LI 8069!.
70137 ~ I41798"~37310~331851 . . . I 29376 ' LJ 27053\]~   22768~   21848~   201121 qiSil~q 16903F'L  ~  154o5 CL . I , 15403' ~" L . \],' I , , Iq
LI 7989, 78 to I 638~42411.
RT ~ .
865 q-4233h 31 69 , ,~ 3006 "~ v - ,   , w774 , 4 , Table 3 Occurrence frequency of compound vowel-: consonant position 
L-'q-q ~

L~-a ~' Z0": q-q q
LL-q
L , z3228 , % - Ll ,   , i ,   ,   , 3e 85%-LI 2672 ~ i-O
L-~uc-~ql,-qk-"q.tqq
LL"-
W ~.- J_
L - ~
L-g \] ~
L-~q if ~ I'i ~ L-tJ ~8i LL-~ ,   ,   , , , , , Table 4 Occurrence frequency of con\]lected letters /: segmentation symbol  , ~ ~ means ~ , SP : space/sPq/1334 e2
LL~/'klq ~/ N/k 106 66' ~ , ~" J78541-'l~i "j 5798 qq'1 , 4 ~/ I . //% q~q/%t 499 2468 29/%9692"\] L . L6756"i"\]93 o5~q~z66 76
L , lq/LL qhlt . .L u / t J p , ,l ~ / I , ,4 / iEl / - q qq iq'q du ~ q

I/lqk~vi '

ViI . . L4918 im "' i/?q
LN"l,~q-~..q"1,,4/6\]/~u
IF ~
It q/p q _ fs ELL q/q ~ q q q 44 27 ~ . . . \]' L . \ [34704325 l . \]/34474286~'El 34424162I . ._l "~ 3430 41 i8 /~1 4094 I . . . ~ a4066' ~' q4034' tl " l3998 ~ . ja 3966 LLn3 . 950s POd/!u
IAqsP ~" iLl 3663 i
Printing ~ Age\[bgamprinter
CANON LBP-3500 is a laser beam printer which can print out any kind of figure and characters  . In a character mode , character must be defined as a dotmatrix of 8X8 , 16Xi6 , 24X24 , 32X32 , etc . 
We use 16X16 matrix as a minimum module of Thailetter pattern  . Thai characters are classified into fifteen types from the size of dot matrix  . The largest pattern has 48X32 matrix which uses 6 modules . 
One text line is printed by five horizontal zone . Each zone has 16 dot vertical width . The horizontal width of each letter can be changed character by character  . But in a same zone , vertical size cannot be changed . 
Control of different letter width
The complex part of output program is to control the width so that heading part of KWIC index come in a line vertically  . 
An example of KWIC index is shown in Fig . 6 . We have printed about 200000 lines . 

I ) Ishii , Yoneo 1969 " Introductory remarks on the
Law of Three Seals ", East
Asian Study , Vol . 6, No . 4, Kyoto

2) Murdock , George P.
1971 " Outline of cultural materials "
Human Relations Area Files , Inc.
3) Oikawa , Akifumi & Nakayama , Kazuhiko & Sugita , Shigeharu 1979 " Printing of Thailetters by laser beam printer  "  , the 20th an ual meeting of information processing society of Japan  4  ) Sugita , Shigeharu 1979 " Computer use in ethnological studies " , Bulletin of the
National Museum of Ethnology,
Vol . 4,No . l5 ) Udom Warotamasikkhadit & David Londe " Computerized Alphabetization of Thai " N/~d/~ ~   O~'tl/%gI'YlN'33:IJ/flUfT1J/L'~Ifl I ~ fl/'~ 3LB ~/ ~ Rlql/'l , 1 31~lJ~-I/fl'll~UIM-~fl/llJ  / ~  T!lqq/~L03/ ILL~llJflIWII'~qlW~'IJlI~I'VIl . ~I~tTLJLY,I%~t ~ tll
I vozume page line
Fig .   6 Example of KWIC index of the Three Seals Law 337- 
