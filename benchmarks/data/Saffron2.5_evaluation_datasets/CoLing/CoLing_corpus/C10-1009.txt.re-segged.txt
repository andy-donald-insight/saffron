Proceedings of the 23rd International Conference on Computational Linguistics ( Coling 2010), pages 71?79,
Beijing , August 2010
Fluency Constraints for Minimum Bayes-Risk Decoding
of Statistical Machine Translation Lattices
Graeme Blackwood and Adria ` de Gispert and William Byrne
Machine Intelligence Laboratory , Department of Engineering , Cambridge University
{gwb24|ad465|wjb31}@cam.ac.uk
Abstract
A novel and robust approach to improving statistical machine translation fluency is developed within a minimum Bayes-risk decoding framework . By segmenting translation lattices according to confidence measures over the maximum likelihood translation hypothesis we are able to focus on regions with potential translation errors . Hypothesis space constraints based on monolingual coverage are applied to the low confidence regions to improve overall translation fluency.
1 Introduction and Motivation
Translation quality is often described in terms of fluency and adequacy . Fluency reflects the ? nativeness ? of the translation while adequacy indicates how well a translation captures the meaning of the original text ( Ma and Cieri , 2006).
From a purely utilitarian view , adequacy should be more important than fluency . But fluency and adequacy are subjective and not easy to tease apart ( Callison-Burch et al , 2009; Vilar et al , 2007).
There is a human tendency to rate less fluent translations as less adequate . One explanation is that errors in grammar cause readers to be more critical . A related phenomenon is that the nature of translation errors changes as fluency improves so that any errors in fluent translations must be relatively subtle . It is therefore not enough to focus solely on adequacy . SMT systems must also be fluent if they are to be accepted and trusted.
It is possible that the reliance on automatic metrics may have led SMT researchers to pay insufficient attention to fluency : BLEU ( Papineni et al , 2002), TER ( Snover et al , 2006), and METEOR ( Lavie and Denkowski , 2009) show broad correlation with human rankings of MT quality , but are incapable of fine distinctions between fluency and adequacy.
There is concern that the fluency of current SMT is inadequate ( Knight , 2007b ). SMT is robust , in that a translation is nearly always produced . But unlike translators who should be skilled in at least one of the languages , SMT systems are limited in both source and target language competence . Fluency and accuracy therefore tend to suffer together as translation quality degrades . This should not be the case . Ideally , an SMT system should never be any less fluent than the best stochastic text generation system available in the target language ( Oberlander and Brew , 2000). What is needed is a good way to enhance the fluency of SMT hypotheses.
The maximum likelihood ( ML ) formulation ( Brown et al , 1990) of translation of source language sentence F to target language sentence E?
E ? = argmax
E
P ( F | E)P ( E ) (1) makes it clear why improving SMT fluency is a difficult modelling problem . The language model P ( E ), the closest thing to a ? fluency component ? in the original formulation , only affects candidates likely under the translation model P ( F | E ). Given the weakness of current translation models this is a severe limitation . It often happens that SMT systems assign P ( F | E ?) = 0 to a correct reference translation E ? of F ( see the discussion in Section 9). The problem is that in ML decoding the language model can only encourage the production of fluent translations ; it cannot easily enforce constraints on fluency or introduce new hypotheses.
In Hiero ( Chiang , 2007) and syntaxbased SMT ( Knight and Graehl , 2005; Knight , 2007a ), the primary role of syntax is to drive the translation process . Translations produced by these systems respect the syntax of their translation models , but way that a typical human sentence is grammatical ; they produce many translations which are not fluent . The problem is robustness . Generating fluent translations demands a tightly constraining target language grammar but such a grammar is at odds with broadcoverage parsing needed for robust translation.
We have described two problems in translation fluency : (1) SMT may fail to generate fluent hypotheses and there is no simple way to introduce them into the search ; (2) SMT produces many translations which are not fluent but enforcing constraints to improve fluency can hurt robustness . Both problems are rooted in the ML decoding framework in which robustness and fluency are conflicting objectives.
We propose a novel framework to improve the fluency of any SMT system , whether syntactic or phrasebased . We will perform Minimum Bayes-risk search ( Kumar and Byrne , 2004) over a space of fluent hypotheses H:
E?MBR = argmin
E??H ?
E?E
L(E,E?)P ( E|F ) (2)
In this approach the MBR evidence space E is generated by an SMT system as a kbest list or lattice . The system runs in its best possible configuration , ensuring both translation robustness and good baselines . Rather than decoding in the output of the baseline SMT system , translations will be sought among a collection of fluent sentences that are close to the top SMT hypotheses as determined by the loss function L(E,E?).
Decoupling the MBR hypothesis space from first-pass translation offers great flexibility . Hypotheses in H may be arbitrarily constrained according to lexical , syntactic , semantic , or other considerations , with no effect on translation robustness . This is because constraints on fluency do not affect the production of the evidence space by the baseline system . Robustness and fluency are no longer conflicting objectives . This framework also allows the MBR hypothesis space to be augmented with hypotheses produced by an NLG system , although this is beyond the scope of the present paper.
This paper focuses on searching out fluent strings amongst the vast number of hypotheses encoded in SMT lattices . Oracle BLEU scores computed over kbest lists ( Och et al , 2004) show that many high quality hypotheses are produced by first-pass SMT decoding . We propose reducing the difficulty of enhancing the fluency of complete hypotheses by first identifying regions of high-confidence in the ML translations and using these to guide the fluency refinement process . This has two advantages : (1) we keep portions of the baseline hypotheses that we trust and search for alternatives elsewhere , and (2) the task is made much easier since the fluency of sentence fragments can be refined in context.
In what follows , we use posterior probabilities over SMT lattices to identify useful subsequences in the ML translations ( Sections 2 & 3). These subsequences drive the segmentation and transformation of lattices into smaller subproblems ( Sections 4 & 5). Subproblems are mined for fluent strings ( Section 6), resulting in improved translation fluency ( Sections 7 & 8). Our results show that , when guided by the careful selection of subproblems , fluency can be improved with no real degradation of the BLEU score.
2 Lattice MBR Decoding
The formulation of the MBR decoder in Equation (2) separates the hypothesis space from the evidence space . We apply the linearised lattice MBR decision rule ( Tromble et al , 2008)
E?LMBR = argmax
E??H { ?0|E ?|+ ? u?N ? u#u(E?)p(u|E ) } , (3) whereH is the hypothesis space , E is the evidence space , N is the set of all ngrams in H ( typically , n = 1 . . . 4), and ? are constants estimated on heldout data . The quantity p(u|E ) is the path posterior probability of ngram u p(u|E ) = ?
E?Eu
P ( E|F ), (4) where Eu = { E ? E : # u(E ) > 0} is the subset of paths containing ngram u at least once.
The path posterior probabilities p(u|E ) of Equation (4) can be efficiently calculated ( Blackwood et al , 2010) using general purpose WFST operations ( Mohri et al , 2002).
72 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
A v e r a g e p e r ? s e n t e n c e p r e c is io n p n , ? 1?gram 2?gram 3?gram 4?gram 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1
A v e r a g e p e r ? s e n t e n c e n ? g r a m c o u n t s 1?grams 2?grams 3?grams 4?grams Figure 1: Average ngram precisions ( left ) and counts ( right ) for 2075 sentences of NIST Arabic?English ML translations at a range of posterior probability thresholds 0 ? ? ? 1. The left plot shows at ? = 0 the ngram precisions used in the BLEU score of the ML baseline system.
3 Posterior Probability Confidence
Measures
In the formulation of Equations (3) and (4) the path posterior ngram probabilities play a crucial role . MBR decoding under the linear approximation to BLEU is driven mainly by the presence of high posterior ngrams in the lattice ; the low posterior ngrams contribute relatively little to the MBR decision criterion . Here we investigate the predictive power of these statistics . We will show that the ngram posterior is a good predictor as to whether or not an ngram is to be found in a set of reference translations.
Let Nn denote the set of ngrams of order n in the ML hypothesis E ?, and let Rn denote the set of ngrams of order n in the union of the references . For confidence threshold ?, let Nn ,? = { u?Nn : p(u|E ) ? ?} denote the ngrams inNn with posterior probability greater than or equal to ?, where p(u|E ) is computed using Equation (4).
This is equivalent to identifying all substrings of length n in the translation hypotheses for which the system assigns a posterior probability of ? or higher . The precision at order n for threshold ? is the proportion of ngrams in Nn ,? also present in the references:
Pn ,? = | Rn ? Nn ,?| | Nn ,?| (5)
The left plot in Figure 1 shows average per-sentence ngram precisions Pn ,? at orders 1. . .4 for an Arabic?English translation task at a range of thresholds 0 ? ? ? 1. Sentence start and end tokens are ignored when computing unigram precisions . We note that precision at all orders improves as the threshold ? increases . This confirms that these intrinsic measures of translation confidence have strong predictive power.
The righthand side of the figure shows the average number of ngrams per sentence for the same range of ?. We see that for high ?, there are few ngrams with p(u|E ) ? ?; this is as expected.
However , even at a high threshold of ? = 0.9 there are still on average three 4grams per sentence with posterior probabilities that exceed ?.
Even at this very high confidence level , high posterior ngrams occur frequently enough that we can expect them to be useful.
These precision results motivate our use of path posterior ngram probabilities as a confidence measure . We assign confidence p(E?ji | E ) to subsequences E?i . . . E?j of the ML hypothesis.
Prior work focuses on word-level confidence extracted from kbest lists and lattices ( Ueffing and Ney , 2007), while Zens and Ney (2006) rescore kbest lists with ngram posterior probabilities . Similar experiments with a slightly different motivation are reported by DeNero et al (2009); they show that expected ngram counts in a lattice can be used to predict which ngrams appear in the references.
4 Lattice Segmentation
We have shown that current SMT systems , although flawed , can identify with confidence par-south @-@ west of amman ) as saying that the seizure took place after police received information that there were attempts by the group to sell for more than $ 100 thousand dollars , the police rushed to the arrest in possession .
0 11/313.69 104/5.7402 1723/2.5654 23/1.2598 3/0.66016 3/2.8027 225/6.2256 4/2.5117 25 2810/3.9199 3/1.1123 3/2.1895 4/1.8594 4512/2.9502 42/1.3105 11036/6.5117 42/1.04 4/0.5752 774/0.69727 4/0.52637 515/3.8184 90309/3.6953 58332/3.1895 755/4.7812 12272/0.91699 12272/1.9209 42/1.3105 4/0.5752 58332/0.086914 4/0.52637 3/4.2812 309/3.6953 96515/3.8184 58332/4.7764 58332/3.1895 515/1.4756 309/2.4023 515/3.8184 109 309/3.6953 4/1.5498 4/2.9111 95850/0.44141 1193/0.63672 309/0.16016 95850/0.91602 95850/0.12402 95850/0.074219 15/2.5664 13267/5.418 8/2.209 1761001/1.9658 15/1.5693 12 1591001 152 156 5 1627375 14226/5.498 158 16412 1721001 1657375/5.1436 1001/2.3379 4/0.9873 20 1791976 16/6.084 4/0.9873 31/1.3125 57/1.459 20813/3.3818 20924/1.8857 626/0.54102 90/1.124 3/0.79297 626/4.7695 90/2.3574 3/3.0986 90/4.8203 3029/2.8291 63/1.9453 28329/0.66406 63/0.8457 63/1.5664 63/0.29004 31083 29 63/1.7354 294 3 10/0.65234 140/6.0684 29/1.043 1188/2.3926 32410/0.125 3255/0.27246 11/5.2559 31113 32283 29/0.15527 3/2.9023 2710/4.2734 3848/3.3076 11/2.667 10/0.125 11/2.8037 3611188/2.4062 4/1.6289 5/1.5518 3/3.1328 3/0.019531 3996/4.1592 3/2.3301 3996/2.5566 4/3.2705 3863/3.7451 3/2.3301 3963848/1.6953 8/0.44629 1579/6.5 3848/6.1123 3/5.6807 1579/1.1162 3848/1.3164 3996/4.21391649/4.8936 38/4.04 4182710/0.94434 775/2.3652 4281704/0.60352 4331704/1.2285 9/3.7803 775/5.4775 5/4.5166 81/3.7598 1579/2.0078 3848/2.208 3/0.21191 3848/1.9619 775/4.3457 5/3.6152 9/1.7539 81/5.1875 9/4.9961 4601704/4.542 81/5.3926 1704/4.7871 20/6.6523 8/1. 172 3848/2.8662 5/4.5166 9/1.3047 20/5.0928 1704/1.4395 1704/1.54 38/3.3545 38/4.7412 81/0.95898 9/0.25488 20/3.3711 11/1.3154 188/1.9863 50038/1.2832 50638/0.38281 3/1.6318 775/0.014648 81/2.2656 130/0.4707 3/5.5254 775/0.79395 1704/0.10059 775/1.0488 81/1.75 81/0.98145 21/1.4082 5/1.2695 9/0.99316 1704/1.4629 3848/3.7578 5388/0.4082 21/0.69336 9/1.3047 130/3.2822 1704/1.4395 188/6.5078 143/4.9678 9/1.4287 20/4.6992 11/0.9668 1704/2.2139 143/3.0596 81/1.75 143/0.37305 74/0.45117 775/2.4541 20/3.7178 1704/0.69238 3431/3.6172 3/2.1543 143/0.49512 3745/0.70996 775/0.99414 38/1.5928 1191/0.20703 81/0.56348 188/1.9551 4816/0.50977 3/1.6318 81/0.09082 569/0.53906 4816/0.54199 775/2.917 11/3.3545 584569/3.9336 569/0.63574 81/0.10449 3/3.4795 4816/1.4219 4816/1.4219 81/1.4834 3/3.4424 4816/0.50977 5/0.037109 5/2.0967 9/1.4287 775/1.0488 3/1.5 38/0.38281 81/0.34082 775/0.014648 81/0.25586 3/2.1406 38/1.5928 81/0.56348 3/3.3311 38/1.5928 81/1.1543 3250/1.4678 638 3745/0.75 81/0.84473 38/1.5928 604569/0.53906 3/3.9385 3745/0.70996 1191/3.2842 188/1.9551 3745/1.7744 81/0.56348 6509/1.6494 1191/0.25391 6664816/1.8076 5/3.1465 1191/3.7744 10/1.3828 81/1.2715 1191/0.5625 672 81/0.25586 81/0.28613 3745/2.3125 9/1.6494 143/2.5205 81/0.52148 681116/4.3838 3/2.4316 3/1.8115 3/1.8115 143/1.918 143/1.918 9/4.5615 71/2.5166 3/1.8115 309/4.5137 309/2.1367 309/2.1367 524/5.0078 119/4.9316 9331/2.3145 22194/5.1182 48 7299331 22194/1.3242 3/1.8115 3745/1.5127 1191/1.6035 143/1.5361 3/2.4316 71/1.3447 71/3.583 3/1.8115 119/3.668 751309/4.4062 309/4.4062 1899/4.4609 3/0.42383 309/0.55273 8/1.3115 2318/1.6875 309/1.1377 8/3.6729 11070/2.5137 1716/0.81934 7/0.6084 3/4.7285 2318/1.7441 7/0.77637 57/3.4434 8363005/0.50586 7/0.30078 4/5.543 9 841 7/4.8145 9/0.125 4/3.5527 8497/2.3818 45/2.6279 7/0.55762 45/4.8506 3/1.5703 3005/0.84277859 45/5.5586 57/2.3096 3/3.0703 5/1.8926 3005/0.019531 7/3.0781 7/0.30078 7/2.3818 5/3.1211 8835/0.24609 5/0.89355 3005/2.4316 5/0.99414 5/0.28711 57/1.9053 6/0.25098
H1 H2 H3 H4 H5 H6 H7 H8 H9 0 11 23 8 5 23 1300 24 45 95850 0 116 213267 35108 4368 512 61001 75 87375 915 1020 111976 1213 133 144854 0 131 2644593 2655 433 1 4 1 6 1 6860 1 76 Figure 2: ML translation E ?, word lattice E , and decomposition as a sequence of four string and five sublattice regions H1 . . . H9 using ngram posterior probability threshold p(u|E)?0.8.
tial hypotheses that can be trusted . We wish to constrain MBR decoding to include these trusted partial hypotheses but allow decoding to consider alternatives in regions of low confidence . In this way we aim to improve the best possible output of the best available systems.
We use the path posterior ngram probabilities of Equation (4) to segment lattice E into regions of high and low confidence . As shown in the example of Figure 2, the lattice segmentation process is performed relative to the ML hypothesis E ?, i.e.
relative to the best path through E .
For confidence threshold ?, we find all 4grams u = E?i , . . . , E?i+3 in the ML translation for which p(u|E ) > ?. We then segment E ? into regions of high and low confidence where the high confidence regions are identified by consecutive , overlapping high confidence 4grams . The high confidence regions are contiguous strings of words for which there is consensus amongst the translations in the lattice . If we trust the path posterior ngram probabilities , any hypothesised translation should include these high confidence substrings . This approach differs from simple posterior-based pruning in that we discard paths , rather than words or ngrams , which are not consistent with high-confidence regions of the ML hypothesis.
The hypothesis string E ? is in this way segmented into R alternating subsequences of high and low confidence . The segment boundaries are ir and jr so that E?jrir is either a high confidence or a low confidence subsequence . Each subsequence is associated with an unweighted subspace Hr ; this subspace has the form of a string for high confidence regions and the form of a lattice for low confidence regions.
If the rth segment is a high confidence region then Hr accepts only the string E?jrir . If the rth segment is a region of low confidence , then Hr is built to accept relevant substrings from E . It is constructed as follows . The rth low confidence region E?jrir has a high confidence left context e?r?1 and a high confidence right context e?r+1 formed from subsequences of the ML translation hypothesis E ? as e?r?1 = E?jr?1ir?1 , e?r+1 = E ? jr+1 ir+1 Note that when r = 1 the left context e?r?1 is the empty string and when r = R the right context e?r+1 is the empty string . We build a transducer /\1/.1 Composition with E yieldsHr = E?Tr , so that Hr contains all the reasonable alternatives to E?jrir in E consistent with the high confidence left and right contexts e?r?1 and e?r+1. IfHr is aligned to a high confidence subsequence of E ?, we call it a string region since it contains a single path ; if it is aligned to a low confidence region it is a lattice and we call it a sublattice region . The series of high and low confidence subspace regions H1, . . . , HR defines the lattice segmentation.
5 Hypothesis Space Construction
We now describe a general framework for improving the fluency of the MBR hypothesis space.
The segmentation of the lattice described in Section 4 considerably simplifies the problem of improving the fluency of its hypotheses since each region of low confidence may be considered independently . The low confidence regions can be transformed one-by-one and then reassembled to form a new MBR hypothesis space.
In order to transform the hypothesis region Hr it is important to know the context in which it occurs , i.e . the sequences of words that form its prefix and suffix . Some transformations might need only a short context ; others may need a sentence-level context , i.e . the full sequence of ML words E?jr?11 and E?Nir+1 to the left and right of the region
Hr that is to be transformed.
To put this formally , each low confidence sublattice region is transformed by the application of some function ?:
Hr ? ?( E?jr?11 , Hr , E?Nir+1) (6)
The hypothesis space is then constructed from the concatenation of high confidence string and transformed low confidence sublattice regions
H = E ? ? 1?r?R
Hr (7)
The composition with the original lattice E discards any new hypotheses that might be created via the unconstrained concatenation of strings from theHr . It may be that in some circumstances 1In this notation parentheses indicate string matches so that /. ? y(a?)w . ? /\1/ applied to xyaaawzz yields aaa.
the introduction of new paths is good , but in what follows we test the ability to improve fluency by searching among existing hypotheses , and this ensures that nothing new is introduced.
Size of the Hypothesis Space If no new hypotheses are introduced by the operations ?, the size of the hypothesis space H is determined by the posterior probability threshold ?. Only the ML hypothesis remains at ? = 0, since all its subsequences are of high confidence , i.e . can be covered by ngrams with nonzero path posterior probability . At the other extreme , for ? = 1, it follows that H = E and no paths are removed , since any string regions created are formed from subsequences that occur on every path in E .
We can therefore use ? to tighten or relax constraints on the LMBR hypothesis space . At ? = 0, LMBR returns only the ML hypothesis ; at ? = 1, LMBR is done over the full translation lattice . This is shown in Table 1, where the BLEU score approaches the BLEU score of unconstrained LMBR as ? increases.
Note also that the size of the resulting hypothesis space is the product of the number of sequences in the sublattice regions . For Figure 2 at ? = 0.8, this product is ?5.4 billion hypotheses.
Even for fairly aggressive constraints on the hypothesis space , many hypotheses remain.
6 Monolingual Coverage Constraints
This section describes one implementation of the transformation function ? that we will show leads to improved fluency of machine translation output . This transformation is based on ngram coverage in a large target language text collection : where possible , we filter the sublattice regions so that they contain only long-span ngrams observed in the text . Our motivation is that large monolingual text collections are good guides to fluency . If a hypothesis is composed entirely of previously seen high order ngrams , it is likely to be fluent and should be favoured.
Initial attempts to identify fluent hypotheses in sublattice regions by ranking according to ngram LM scores were ineffective . Figure 3 shows the difficulties . We see that both the 4gram Kneser-Ney and 5gram stupid-backoff language models 4g < s>1 the2 reactor3 produces3 plutonium2 needed2 to3 manufacture4 atomic3 bomb2 .3 </ s>4 -22.59 < s>1 the2 reactor3 produces3 plutonium2 needed2 to3 manufacture4 the4 atomic2 bomb3 .4 </ s>4 -23.61 5g < s>1 the2 reactor3 produces4 plutonium5 needed3 to3 manufacture4 atomic5 bomb2 .3 </ s>4 -16.04 < s>1 the2 reactor3 produces4 plutonium5 needed3 to3 manufacture4 the4 atomic4 bomb5 .4 </ s>5 -17.96 Figure 3: Scores and ngram orders for hypotheses using 4gram Kneser-Ney and 5gram stupid-backoff ( estimated from 1.1B and 6.6B tokens , resp .) LMs . Low confidence regions are in italics.
favour the shorter but disfluent hypothesis ; normalising by length was not effective . However , the stupid-backoff LM has better coverage and the backing-off behaviour is a clue to the presence of disfluency . Similar cues have been observed in ASR analysis ( Chase , 1997). The shorter hypothesis backs off to a bigram for ? atomic bomb ?, whereas the longer hypothesis covers the same words with 4grams and 5grams . We therefore disregard the language model scores and focus on ngram coverage . This is an example where robustness and fluency are at odds . The ngram models are robust , but often favour less fluent hypotheses.
Let S denote the set of all ngrams in the monolingual training data . To identify partial hypotheses in sublattice regions that have complete monolingual coverage at the maximum order n , we build a coverage acceptor Cn with a similar form to the WFST representation of an ngram backoff language model ( Allauzen et al , 2003). Cn assigns a penalty to every ngram not found in S .
In Cn word arcs have no cost and backoff arcs are assigned a fixed cost of 1. Firstly , arcs from the start state are added for each unigram w ? N1: w w/0? Then for ngrams u ? S ? {? ni=2 Ni }, where u = wn1 consisting of history h = wn?11 and target word wn , arcs are added wn/0h h + where h + = wn?12 if u has order n and h + = wn1 if u has order less than n . Backoff arcs are added for each u as ?/1h h ? where h ? = wn?12 if u has order > 2, and bigrams backoff to the null history start state ?.
For each sublattice region Hr , we wish to penalise each path proportionally to the number of its ngrams not found in the monolingual text collection S . We wish to do this in context , so that we include the effect of the neighbouring high confidence regions Hr?1 and Hr+1. Given that we are counting ngrams at order n we form the left context machine Lr which accepts the last n ? 1 words in Hr?1; similarly , Rr accepts the first n ? 1 words of Hr+1. The concatenation Xr = Lr?Hr?Rr represents the partial translation hypotheses inHr padded with n?1 words of left and right context from the neighbouring high confidence regions . Composing Xr ? Cn assigns each partial hypothesis a cost equal to the number of times it was necessary to back off to lower order ngrams while reading the string . Partial hypotheses with cost 0 did not back off at all and contain only maximum order ngrams.
In the following experiments , we look at each Xn ? Cn and if there are paths with cost 0, only these are kept and all others discarded . We introduce this as a constraint on the hypothesis space which we will evaluate for improvement on fluency . Here the transformation function ? returns Hr as Xr ? Cn after pruning . If Xr ? Cn has no zero cost paths , the transformation function ? returns Hr as we find it , since there is not enough monolingual coverage to guide the selection of fluent hypotheses . After applying monolingual coverage constraints to each region , the modified hypothesis space used for MBR search is formed by concatenation using Equation (7).
We note that Cn is a simplistic NLG system . It generates strings by concatenating ngrams found in S . We do not allow it to run ? open loop ? in these experiments , but instead use it to find the strings in Xr with good ngram coverage.
7 LMBR Over Segmented Lattices
The effect of fluency constraints on LMBR decoding is evaluated in the context of the NIST Arabic?English MT task . The set tune consists + LMBR ... view , especially with the open chinese economy to the world and ...
+LMBR+CC ... view , especially with the opening of the chinese economy to the world and ...
ML ... revision of the constitution of the japanese public , which dates back ...
+LMBR ... revision of the constitution of the japanese public , which dates back ...
+LMBR+CC ... revision of the constitution of japan , which dates back ...
Figure 4: Improved fluency through the application of monolingual coverage constraints to the hypothesis space in MBR decoding of NIST MT 08 Arabic?English newswire lattices.
of the odd numbered sentences of the MT02? MT05 testsets ; the even numbered sentences form test . MT08 performance on nw08 ( newswire ) and ng08 ( newsgroup ) data is also reported.
First-pass translation is performed using HiFST ( Iglesias et al , 2009), a hierarchical phrasebased decoder . The first-pass LM is a modified Kneser-Ney ( Kneser and Ney , 1995) 4gram estimated over the English side of the parallel text and an 881M word subset of the English GigaWord 3rd Edition . Prior to LMBR , the first-pass lattices are rescored with zero-cutoff stupid-backoff 5gram language models ( Brants et al , 2007) estimated over more than 6B words of English text . The LMBR factors ?0, . . . , ?4 are set as in Tromble et al . (2008) using unigram precision p = 0.85 and recall ratio r = 0.74.
The effect of performing LMBR over the segmented hypothesis space is shown in Table 1. The hypothesis subspaces Hr are constructed at various confidence thresholds as described in Section 4 with H formed via Equation (7); no coverage constraints are applied yet . Constraining the search space using ? = 0.6 leads to little degradation in LMBR performance under BLEU . This shows lattice segmentation works as intended.
We next investigate the effect of monolingual coverage constraints on BLEU . We build acceptors Cn as described in Section 6 with S consisting of all ngrams in the English GigaWord.
At ? = 0.6 we found 181 sentences with sublattices Hr spanned by maximum order ngrams from S , i.e . for which Xr ? Cn have paths with cost 0; these are filtered as described . LMBR over these coverage-constrained sublattices is denoted LMBR+CC . On nw08 the BLEU score for LMBR+CC is 52.0 which is +0.7 over the ML decoder and only -0.2 BLEU below unconstrained LMBR decoding . Done in this way , constraining hypotheses to have 5grams from the GigaWord tune test nw08 ng08
ML 54.2 53.8 51.3 36.3 ? 0.0 54.2 53.8 51.3 36.3 0.2 54.3 53.8 51.3 36.3 0.4 54.6 54.2 51.6 36.7 0.6 54.9 54.4 52.1 36.6 0.8 54.9 54.4 52.1 36.6 1.0 54.9 54.4 52.2 36.7
LMBR 54.9 54.4 52.2 36.8
Table 1: BLEU scores for ML hypotheses and
LMBR decoding inH over 0 ? ? ? 1.
has little impact on BLEU.
At this value of ?, 116 of the 813 nw08 sentences have a low confidence region (1) completely covered by 5grams , and (2) within which the ML hypothesis and the LMBR+CC hypothesis differ . It is these regions which we will inspect for improved fluency.
8 Human Fluency Evaluation
We asked 17 native speakers to judge the fluency of sentence fragments from nw08. We compared hypotheses from the ML and the LMBR+CC decoders . Each fragment consisted of the partial translation hypothesis from a low confidence region together with its left and right high confidence contexts ( examples given in Figure 4). For each sample , judges were asked : ? Could this fragment occur in a fluent sentence ?? The results are shown in Table 2. Most of the time , the ML and LMBR+CC sentence fragments were both judged to be fluent ; it often happened that they differed by only a single noun or verb substitution which didn?t affect fluency . In a small number of cases , both ML and LMBR+CC were judged to be disfluent . We are most interested in the ? off-diagonal ? cases . In cases when one system was judged to be fluent and the other was not , LMBR+CC was preferred about twice as often as the ML baseline (26.9% to 9.7%). In other words , the monolingual fluency constraints were judged
Fluent Not Fluent
ML Fluent 1175 (59.6%) 192 (9.7%)Not Fluent 530 (26.9%) 75 (3.8%) Table 2: Partial hypothesis fluency judgements.
to have improved the fluency of the low confidence region more than twice as often as a fluent hypothesis was made disfluent.
Some examples of improved fluency are shown in Figure 4. Although both the ML and unconstrained LMBR hypotheses might satisfy adequacy , they lack the fluency of the LMBR+CC hypotheses generated using monolingual fluency constraints.
9 Summary and Discussion
We have described a general framework for improving SMT fluency . Decoupling the hypothesis space from the evidence space allows for much greater flexibility in lattice MBR search.
We have shown that high path posterior probability ngrams in the ML translation can be used to guide the segmentation of a lattice into regions of high and low confidence . Segmenting the lattice simplifies the process of refining the hypothesis space since low confidence regions can be refined in the context of their high confidence neighbours.
This can be done independently before reassem-bling the refined regions . Lattice segmentation facilitates the application of postprocessing and rescoring techniques targeted to address particular deficiencies in ML decoding.
The techniques we presented are related to consensus decoding and system combination for SMT ( Matusov et al , 2006; Sim et al , 2007), and to segmental MBR for automatic speech recognition ( Goel et al , 2004). Mohit et al (2009) describe an alternative approach to improving specific portions of translation hypotheses . They use an SVM classifier to identify a single phrase in each source language sentence that is ? difficult to translate ?; such phrases are then translated using an adapted language model estimated from parallel data . In contrast to their approach , our approach is able to exploit large collections of monolingual data to refine multiple low confidence regions using posterior probabilities obtained from a high-quality evidence space of first-pass translations.
Testset Sentences Reachability tune 2075 15% test 2040 14% nw08 813 11% ng08 547 9% Table 3: Arabic?English reference reachability.
We applied hypothesis space constraints based on monolingual coverage to low confidence regions resulting in improved fluency with no real degradation in BLEU score relative to unconstrained LMBR decoding . This approach is limited by the coverage of sublattices using monolingual text . We expect this to improve with larger text collections or in tightly focused scenarios where indomain text is less diverse.
However , fluency will be best improved by integrating more sophisticated natural language generation . NLG systems capable of generating sentence fragments in context can be incorporated directly into this framework . If the MBR hypothesis spaceH contains a generated hypothesis E ? for which P ( F | E ?) = 0, E ? could still be produced as a translation , since it can be ? voted for ? by nearby hypotheses produced by the underlying system.
Table 3 shows the proportion of NIST testset sentences that can be aligned to any of the reference translations using our high quality baseline hierarchical decoder with a powerful grammar . The low level of reachability suggests that NLG may be required to achieve high levels of translation quality and fluency . Other rescoring approaches ( Kumar et al , 2009; Li et al , 2009) may also benefit from NLG when the baseline is incapable of generating the reference.
We note that our approach could also be used to improve the fluency of ASR , OCR and other language processing tasks where the goal is to produce fluent natural language output.
Acknowledgments
We would like to thank Matt Gibson and the human judges who participated in the evaluation . This work was supported in part under the GALE program of the Defense Advanced Research Projects Agency , Contract No . HR0011-06-C-0022 and the European Union Seventh Framework Programme ( FP7-ICT-2009-4) under
Grant Agreement No . 247762.
78
References
Allauzen , Cyril , Mehryar Mohri , and Brian Roark . 2003.
Generalized algorithms for constructing statistical language models . In Proceedings of ACL 2003.
Blackwood , Graeme , Adria ` de Gispert , and William Byrne.
2010. Efficient path counting transducers for minimum Bayes-risk decoding of statistical machine translation lattices . In Proceedings of ACL 2010.
Brants , Thorsten , Ashok C . Popat , Peng Xu , Franz J . Och , and Jeffrey Dean . 2007. Large language models in machine translation . In Proceedings of the EMNLP 2007.
Brown , Peter F ., John Cocke , Stephen A . Della Pietra , Vincent J . Della Pietra , Fredrick Jelinek , John D . Lafferty , Robert L . Mercer , and Paul S . Roossin . 1990. A statistical approach to machine translation . Computational
Linguistics , 16(2):79?85.
Callison-Burch , Chris , Philipp Koehn , Christof Monz , and Josh Schroeder . 2009. Findings of the 2009 Workshop on Statistical Machine Translation . In WMT 2009.
Chase , Lin Lawrance . 1997. Error-responsive feedback mechanisms for speech recognizers , Ph.D . Thesis,
Carnegie Mellon University.
Chiang , David . 2007. Hierarchical phrasebased translation.
Computational Linguistics , 33(2):201?228.
DeNero , John , David Chiang , and Kevin Knight . 2009. Fast consensus decoding over translation forests . In Proceedings of ACL-IJCNLP 2009.
Goel , V ., S . Kumar , and W . Byrne . 2004. Segmental minimum Bayes-risk decoding for automatic speech recognition . IEEE Transactions on Speech and Audio Processing , 12:234?249.
Iglesias , Gonzalo , Adria ` de Gispert , Eduardo R . Banga , and William Byrne . 2009. Hierarchical phrasebased translation with weighted finite state transducers . In Proceedings of the 2009 Annual Conference of the NAACL.
Kneser , R . and H . Ney . 1995. Improved backing-off for mgram language modeling . In Acoustics , Speech , and
Signal Processing.
Knight , K and J Graehl . 2005. An overview of probabilistic tree transducers for natural language processing . In
Proceedings of CICLING 2005.
Knight , K . 2007a . Capturing practical natural language transformations . Machine Translation , 21(2).
Knight , Kevin . 2007b . Automatic language translation generation help needs badly . In MT Summit XI Workshop on Using Corpora for NLG : Keynote Address.
Kumar , Shankar and William Byrne . 2004. Minimum Bayes-risk decoding for statistical machine translation . In
NAACL 2004.
Kumar , Shankar , Wolfgang Macherey , Chris Dyer , and Franz Och . 2009. Efficient minimum error rate training and minimum bayes-risk decoding for translation hypergraphs and lattices . In Proceedings of ACL-IJCNLP 2009.
Lavie , Alon and Michael J . Denkowski . 2009. The METEOR metric for automatic evaluation of machine translation . Machine Translation Journal.
Li , Zhifei , Jason Eisner , and Sanjeev Khudanpur . 2009.
Variational decoding for statistical machine translation.
In Proceedings of ACL-IJCNLP 2009.
Ma , Xiaoyi and Christopher Cieri . 2006. Corpus support for machine translation at LDC . In LREC 2006.
Matusov , Evgeny , Nicola Ueffing , and Hermann Ney . 2006.
Computing consensus translation from multiple machine translation systems using enhanced hypotheses alignment . In 11th Conference of the EACL.
Mohit , B ., F . Liberato , and R . Hwa . 2009. Language model adaptation for difficult-to-translate phrases . In Proceedings of the 13th Annual Conference of the EAMT.
Mohri , Mehryar , Fernando Pereira , and Michael Riley . 2002.
Weighted finite-state transducers in speech recognition.
In CSL , volume 16, pages 69?88.
Oberlander , Jon and Chris Brew . 2000. Stochastic text generation . In Philosophical Transactions of the Royal Society.
Och , F ., D . Gildea , S . Khudanpur , A . Sarkar , K . Yamada , A . Fraser , S . Kumar , L . Shen , D . Smith , K . Eng , V . Jain , Z . Jin , and D . Radev . 2004. A smorgasbord of features for statistical machine translation . In Proceedings of the
HLT Conference of the NAACL.
Papineni , Kishore , Salim Roukos , Todd Ward , and WeiJing Zhu . 2002. BLEU : a method for automatic evaluation of machine translation . In Proceedings of ACL 2002.
Sim , K.-C ., W . Byrne , M . Gales , H . Sahbi , and P.C . Woodland . 2007. Consensus network decoding for statistical machine translation system combination . In ICASSP 2007.
Snover , Matthew , Bonnie Dorr , Richard Schwartz , Linnea Micciulla , , and John Makhoul . 2006. A study of translation edit rate with targeted human annotation . In Proceedings of AMTA.
Tromble , Roy , Shankar Kumar , Franz Och , and Wolfgang Macherey . 2008. Lattice minimum Bayes-risk decoding for statistical machine translation . In Proceedings of the 2008 Conference on EMNLP.
Ueffing , Nicola and Hermann Ney . 2007. Word-level confidence estimation for machine translation . Computational
Linguistics , 33(1):9?40.
Vilar , D , G Leusch , H Ney , and R Banchs . 2007. Human evaluation of machine translation through binary system comparisons . In Proceedings of WMT 2007.
Zens , Richard and Hermann Ney . 2006. N - gram posterior probabilities for statistical machine translation . In Proceedings of WMT 2006.
79
