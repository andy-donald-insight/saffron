INTELLIGENTH ANDLING OF WEATHER FORECASTS
Stephan Kerpedjiev
Institute of Mathematics
Acad.G . Bonchev St ., bl.8
1113 Sofia , BULGARIA
Veska Noncheva
Laboratory of Applied Mathematics
No Vapzarov St ., 15
4000 Plovdiv , BULGARIA

Some typical cases of intelligent
handling of weather forecasts such as
translation , visualization , etc . are
decomposed into two subprocesses ~
analysis and synthesis . Specific techniques are presented for analys is and synthesis of weather forecast texts as well as for generation of weather maps  . These techniques deal with the weather fo recasts at different levels ~ syntactic  , discourse and semantic . They are based on a conceptual model underlying weather forecasts as well as on formal descrip tions of the means of expression used in particular natural and cartographic sublanguages  . 
I . INTRODUCTION
Weather forecasts ( WF ) are the subject of various manipulations . 
Evolving as sets of numerical data and qualit at ive estimations they grow into complete images of expected meteorological situations represented in the form of texts in NL  , weather maps , data tables or combined information objects . Then the WF could be translated from one language to another  , transformed from verbal topic torial form or vice versa  , etc . 
Such kind of manipulations are often performed by forecasters  , translators , editors in order to obtain better representation of the WF from the point of view of its perception and understanding  . 
There is some experience with such kind of automatic handling of differ ~ ent classes of specialized texts  , The HETEO system \[7\] translates WFs from English to French . It is developed on the basis of the TAUM system  . Atech ~ nJ que for creating computer animation scenarios of storie is described in \  [6  \ ]  . The SOCCER system \[1\] interprets video recordings of soccer games and comments on them in NL  . 
The purpose of the present project is to develop techniques for various manipulations of WFs including transla-tion from one natural sublanguage into another  , transformation from textual to cartographic form  , retelling WFs in the same NL but according to other discourse structure ? Each of these manipulations can be decomposed into analysis of the source WF and synthesis of the target WF  . These two processes are mediated by a uniform in ternal representation which is language independent  . The example in Fig . lillustrates the basic processes and ob jects involved in the project  . 
2. CONCE PTUAL MODEL
Our conceptual model was created on the basis of both conceptual analysis of WFs from mass media and the recommendations for formulating WFs given in \  [2  \ ]  . 
In our conceptual model each WF is a set of assertions having the form  ( W , T , R ) . 
TRANSLATION N~=>~=~=~= . . . . . . . . . . ==~  . . . . . . . . . . . . . . . . '=~ Today mostly sunny ~ . ~ i . ~ ~-~-  . . . . . . weather , flore sig-~IH eole , peoG , ~a-I(CLOUDINESS=SUNNY , ness expected in ~ a BaC ~ bH qe BO ~ ITIME = TODAY , _ISYNTHESISE ast Bulgaria with BpeMB . (lo-~Ha~i-~IREGIDN=BUE . GARIA ) ~ some showers in T ; ~ Ha06 ~ aNHOCTL_ANALYSIS~(OL~\[4ESS=SIGNIF , i the afterno on . 
meMMaBMJ TO'IHa .   .   .   .   .   .   .   .   . aTIME = TODAY , I , cAe~o6~~eII(PRECIPITATION = RAIN , ISYNTHESIS npeBaA ~ . IITIHE = TODAY . AFTERNOON,~___~-- .   . _JIREGION : EAST_BUL)j . --,  .  -  . 
i , , , .   .   .   .   .   .   .   .   .   .   .   . -___I_____A f <__ .   .   .   .  /  .   .   .   .   .  -- . 
VISUALIZATION kl . . 0  .   .   .   . /<)'77"\[-" Fig . l . Different types of transformation can be represented as a composition of analysis and synthesis 
W are expected in the region R during the period l  "  . For each of the items
W , T , Rataxonomy is created that defines the quantities used together with their scales  . Each taxonomy represents a particular submodel . The present model does not reflect the degree of uncertainty in WFs  . 
The internal representation of any
WF is a consistent set S of assertions fo rmulated in terms of the conceptual model  . 
3. TEXTANALYSIS
Analysis is the process of transforming the text of a given WF into its internal representation  . It consists of the following steps : data extraction -- identifying tl ~ e strings in the text that represent the values of the assertion items  ( such strings are called fillers of the corresponding quantity  )  ; -data translation -- representing the fille rs in terms of the conceptual model  ; -ellipsis resolution -- completing ellip tical phrases with information extracted from their contexts  ; -inconsistency elimination -- replacing contradictory assertions by non-contradictory ones  . 
3.1. Data extraction
The technique for data extraction is based on a formal description of the typical phrases of WFs by means of transition networks called analyzers  \[3\]  , The conditions along the arcs of the network are checks for certain semantic primitives defined in a dictionary or comparisons with certain strings  . Some of the nodes are marked by two types of symbol smb  ( x ) and mex )  , where x is the identifier of a quantity in the conceptual model  , mb means that a fiiler of x begins , memarks the end of the filler of x . 
3.2. Data translation
Those entries of the dictionary that may occur as fillers have sections where the meaning of the filler is defined by the corresponding term of the conceptual model  . Thus , the data translation process consists of looking up in the dictionary for the current fille r  , picking out the contents of the corresponding section and replacing the filler by the term extracted  . Numerical values such as temperature degrees are calculated automatically from the text  . 
3.3. Ellipsis resolution
A good deal of sentences in WFs are e11 i@tical . For example , consider the
WF in Fig . l , where the region is missing from the first assertion and tlle time period is not specified in the second assertion  . In order to complement them a context analysis is performed  . It is based on certain heuristics represented as rules  . For the particular case of medium-range forecasts in Bulgarian such rules are given in  \[4\] where four variables are used , namely a short--term and along term backgrounds of both the time-period and the region  . The rules specify the conditions under which these variables change their values as well as the variable whose value should fill in the current elliptical assertion  . 
3.4. Inconsistency elimination
TWO assertions ( W ~ ,  ~  , R4) and (~ , ~ , R z ) are said to be contradictory if they predict inconsistent weather characteristics  ( e . g . sunny weather and overcast ) for overlapping regions and time periods . 
The following heuristic is applied to eliminating contradictory assertions  . 
The more specifically the information is given  , the higher priority it has . 
In terms of the conceptual model it means that i f W i and are ~ n consistent  , O , c ~ and 4c~en the ~ econd assertion is replaced by the assertion  ( Wz , ~-~ , ~-~)  , where &-5 and Rz-Ri are calculated on the basis of the corresponding submodels  . 
4. TEXTSYNTHESIS
Synthesis is the process of trans=forming the internal representation of a given WF into a text in a certain NL and according to a certain scheme  ( discourse structure )  . It consists of the following stages : - generation of words and phrases representing the items of the assertions  ; -generation of sentences describing the assertions  ; generation of text fragments containing all the weather information related to a certain region  , time period or weather phenomenon depending on the scheme adopted  . 
The three generators are called phrase generator , sentence generator and discourse generator , respectively . 
They are presented in detail in \[5\] for the case of short-range forecasts in Bulgarian  . 
4.1. Discourse generator
The process of generation is a
Lop-down one . First , the assertions are arranged according to the discourse structure  , defined preliminarily in terms of the conceptual model  . For example ~ one feasible discourse structure is the requirement to present the WF in four sections containing information for the regions North  , East , South and
West Bulgaria , respectively . In each section the information should be arranged according to weather phenomena in the following order : cloudiness  , precipitation , wind and 3802 temperature . The discourse generator scans the internal representation and sorts out the assertions into the predefined sections  , whereby some ~ ssertions ( e . g . those referring to the whote country ) may fall into more than one section . Inside each section the assertions are reordered by their ~ eather characteristi cs  . Other discourse ~ tructures can be processed as well  . 
4,2. Sentence generator
The generation of simple sentences representing single assertions and ~ ompound sentences representing groups of assertions is performed according to certain rules  . The simple sentence ~ ) tructure is defined by means of patterns . The choice of the actual pattern is made on the basis of the values of the current assertion  . 
Compound sentences are used when certain patterns of assertions occur : in the final form of the internal representation  .   5ix specific rules for constructing compound sentences are defined  , one of them is shown below : ( w , , R , = BUt ) ===> ? wIen " 4 . 3 . Phrase generator
After the sentence structure has been settled , the phrase generator is invoked to form the phrases describing the assertion items  . It replaces the terms of the internal representation by corresponding phrases ~ nNL  . For this purpose a reversed dictionary is u ~; ed . 
5. MAPGENERATION
Map generation is the process of transforming the internal representation of a glven NF into a weather map  . 
WFs are expressed on the map by means of stylized depictions aspictograms and symbols  . The form and possibly the color of the depictions reflect the characteristics of certain weather phenomena while the positions of the depictions on the map correspond to the regions where these phenomena are expected to happen  . There are no established rules for representing time on the map  . The most simple solution from such a point of view consists of creating different maps for each of the periods of a given scale  . More sophisticated solutions provide with specific means of time expression such as animation  , symbolic representation of processes , explicit time notation of the phenomena being represented  , etc . 
The technique for map generation m~ployed in this project consists of two steps :- time analysis of the internal ri~presentation resulting in a proper division of the assertions into groups according to the model adopted for t ~ me representation  ; scanning tho assertions of each group and translating them into depic  . 
tions corresponding to the weather items and arranged in some positions on the map depending on the regions  . 
The arrangement is based on a preliminarily designed template of the map  . The template contains the spots where depictions could potentially appear ? Together with the template a mapping M is defined  . For any pair '( W , R ) fl determines the set of spots where the corresponding depiction is to be placed  . The depictions used are prepared in advance through a specialized graphical editor  . 
6. CONCLUSION
The three techniques presented here have been implemented on an IBM PC/AT micro computer with EGA monitor for the case of medium-range WFs for Bulgaria issued by the Office of Hydrology and f leteorology in Sofia  . 
The technique for text analysis was estimated by analyzing  100 WFs from
Bulgarian newspapers . About 8590~ of the data items were extracted and translated correctly by the system  . 
The subsystems for text synthms is and map generation produce WFs of acceptable quality  . 
ACKNOWLEDGEMENTS , This project was supported by the Presidium of the 
Bulgarian Academy of Sciences ( grant
No 1001003) and by the Committee for
Science and Higher Education ( grant No 607) . The authors would like to thank Peter Barney for his encouragement and Ivan Bosov who helped in the implementation of the map generator  . 

I . E . Andre , G . Herzog and Th . Rist , On the Simultaneous Interpretation of Real World Image Sequences and their Natural Language Description : the 
System SOCCER , Proc . ECAI88, p . 449.
2  . E . M . Dobryshman , Review of Forecast Verification Techniques , World Mete-orological Organization , Technical
Report No 120, Geneva , 1972.
5 . S . Kerpedjiev , A Technique of Automatic Data Extraction from Specialized Texts  , SERDICABulg . math . 
public . 13(1987), p . 239.
4. S . Kerpedjiev . Transformation of
Weather Forecasts from Textual to
Cartographic Form , Computing Techniques in Physics , Proo . 8th European Summer Schools , 1989, p .  212 . 
5 . V . Noncheva , Synthesis of a weather forecast text . Mathematics and Education in Mathematics , Proo . 19th Conf . 
of Union of Bulg . Math ., 1990, p . 269.
6. H . Shimazu , Y . Takashima and M . Tomono,
Understanding of Stories for Animation , Proo . Coling B8, p .  620 . 
7 . B . Thouin , The METEO System , in : Prac-tical Experience of Machine Translation  , ed . V . Lawson , p . 39 . 

