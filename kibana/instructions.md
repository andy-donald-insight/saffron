After running Saffron on your data and storing the files generated by the process, you can use Kibana to visualize these results.

The script `elk.sh` contains all the steps to run an ELK pipeline for the visualisation of a saffron run. It does the following steps:
1. Prepare the date to be compatible with elasticsearch format.
2. Index the data to elasticsearch.
3. Register the indice as Kibana index patterns
4. Import `saffron_dashboard.ndjson`


To run the visualisation with `elk.sh`, you need the following prerequisites.

## Prerequisites
1. Download Elasticsearch 7.3.2
2. Unzip and run `bin/elasticsearch`
3. Download Kibana7.3.2 (same version as Elasticsearch)
4. Unzip and run `bin/kibana`
5. Use the following Kibana plugin [kbn_network](https://github.com/dlumbrer/kbn_network) using **Version for Kibana 7.0 to 7.4**
6. Python 3.6 or higher



## Running
1. Run the main script with `./elk.sh INDEX DIR` where
	- `INDEX` is your chosen index name of saffron run in ELK stack. A valid `INDEX` will consist of alphabets (in a lower case) and digits only.
    - `DIR` is the path of the directory containing the saffron output files.
    - **Note** Kibana port is coded in the `KIBANA` variable for the default Kibana port which is 5601. To configure a different port, please change this value in the `elk.sh` file
2. Navigate to `http://localhost:kibana_port/`  to access kibana
3. Click on the "Dashboard" icon to view the dashboard.

**NOTE** After running the main script, a new directory named  `elk_{INDEX}` is generated inside the directory of saffron output, the directory will contain sub-directories hosting the generated files for each step of the ELK pipeline.
