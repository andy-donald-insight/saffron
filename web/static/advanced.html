<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Saffron - Extracting the Valuable Threads of Expertise</title>
        <link rel="icon" type="image/png" href="/img/favicon.png">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Belleza" rel="stylesheet">
        <style>
            body {
                background-color: #fff7e5;
                font-family: 'Belleza', sans-serif;
            }
            .logo_header {
                padding-top:20px;
                padding-bottom:20px;
                text-align: center;
            }
            .ack {
                font-size: .7em;
                padding-top:20px;
            }
            .loader {
                border: 16px solid #005495; /* Light grey */
                border-top: 16px solid #f48120; /* Blue */
                border-radius: 50%;
                width: 120px;
                height: 120px;
                animation: spin 2s linear infinite;
            }

            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }

            .failed {
                text-color: red;
            }
            #page_footer {
                border-top: 1px solid #CCCCCC;
                background-color: #F0F0F0;
                padding-top: 0px;
                padding-bottom: 5px;
                font-size: 0.8em;

                position:relative;
                position: absolute;
                bottom: 0px;
                left: 0px;
                width: 100%;
                height: 117px;
            }
            #page_footer div {
                text-align: center;
            }
            #page_footer p {
                margin: 0;
                padding: 0;
                color: #404040;
            }

            #insight_logo {
                background-color: #FFFFFF;
                border: 1px solid #AAAAAA;
                padding: 4px 8px;
            }

            #nui_logo {
                position: relative;
                margin-left: 10px;
                border: none;
            }

            #sfi_logo {
                position: relative;
                left: -30px;
                top: 7px;
                border: none;
            }

        </style>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-12 logo_header">
                    <img src="img/saffron-logo.png"/>
                </div>
            </div>
            <span ng-app="app" ng-controller="AdvancedController">
                <div class="row">
                    <h3>Topic Extraction</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="threshold">Threshold</label>
                        <input class="form-control" type="text" name="threshold" ng-model="data.termExtraction.threshold"/>
                    </div>
                    <div class="col-md-6">
                        <label for="maxTopics">Maximum number of topics</label>
                        <input class="form-control" type="number" name="maxTopics" ng-model="data.termExtraction.maxTopics"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="ngramMin">Shortest Term</label>
                        <input class="form-control" type="number" name="ngramMin" ng-model="data.termExtraction.ngramMin"/>
                    </div>
                    <div class="col-md-6">
                        <label for="ngramMax">Longest Term</label>
                        <input class="form-control" type="number" name="ngramMax" ng-model="data.termExtraction.ngramMax"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="minTermFreq">Minimum Term Frequency</label>
                        <input class="form-control" type="text" name="minTermFreq" ng-model="data.termExtraction.minTermFreq"/>
                    </div>
                    <div class="col-md-6">
                        <label for="method">Methodology</label>
                        <select name="method" ng-model="data.termExtraction.method" class="form-control">
                            <option value="one">Single Feature</option>
                            <option value="voting">Voting</option>
                            <option value="puatr">PU-ATR</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="corpus">Corpus (for Weirdness, Relevance and Domain Pertinence)</label>
                        <input class="form-control" type="text" name="corpus" ng-model="data.termExtraction.corpus"/>
                    </div>
                    <div class="col-md-6">
                        <label for="infoMeasure">Info Measure (for Link Probability)</label>
                        <input class="form-control" type="text" name="infoMeasure" ng-model="data.termExtraction.infoMeasure"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="w2vmodelPath">Word2Vec Model path (for Key Concept Relatedness)</label>
                        <input class="form-control" type="text" name="w2vmodelPath" ng-model="data.termExtraction.w2vmodelPath"/>
                    </div>
                    <div class="col-md-6">
                        <label for="baseFeature">Key Feature</label>
                        <select name="method" ng-model="data.termExtraction.baseFeature" class="form-control">
                            <option value="weirdness">Weirdness</option> 
                            <option value="avgTermFreq">Average Term Frequency</option>
                            <option value="residualIdf">Residual IDF</option>
                            <option value="totalTfIdf">Total IDF</option>
                            <option value="cValue">C Value</option>
                            <option value="basic">Basic</option>
                            <option value="comboBasic">Combo Basic</option>
                            <option value="postRankDC">Post Rank DC</option>
                            <option value="relevance">Relevance</option>
                            <option value="domainCoherence">Domain Coherence</option>
                            <option value="domainPertinence">Domain Pertinence</option>
                            <option value="novelTopicModel">Novel Topic Model</option>
                            <option value="linkProbability">Link Probability</option>
                            <option value="keyConceptRelatedness">Key Concept Relatedness</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <h3>Author-Topic Extraction</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="authorTopicTopN">Top N</label>
                        <input class="form-control" type="number" name="authorTopicTopN" ng-model="data.authorTopic.topN"/>
                    </div>
                </div>
                <div class="row">
                    <h3>Author Similarity Extraction</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="authorSimThreshold">Threshold</label>
                        <input class="form-control" type="text" name="authorSimThreshold" ng-model="data.authorSim.threshold"/>
                    </div>
                    <div class="col-md-6">
                        <label for="authorSimTopN">Top N</label>
                        <input class="form-control" type="number" name="authorSimTopN" ng-model="data.authorSim.topN"/>
                    </div>
                </div>
                <div class="row">
                    <h3>Topic Similarity Extraction</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="topicSimThreshold">Threshold</label>
                        <input class="form-control" type="text" name="topicSimThreshold" ng-model="data.topicSim.threshold"/>
                    </div>
                    <div class="col-md-6">
                        <label for="topicSimTopN">Top N</label>
                        <input class="form-control" type="number" name="topicSimTopN" ng-model="data.topicSim.topN"/>
                    </div>
                </div>
                <div class="row">
                    <h3>Taxonomy Extraction</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="wekaClass">Weka Class</label>
                        <input class="form-control" type="text" name="wekaClass" ng-model="data.taxonomy.class"/>
                    </div>
                    <div class="col-md-6">
                        <label for="topicSimTopN">Mode</label>
                        <select name="mode" class="form-control" ng-model="data.taxonomy.mode">
                            <option value="greedy">Greedy</option>
                            <option value="greedyTrans">Greedy (Transitive)</option>
                            <option value="mst">Minimum Spanning Tree</option>
                            <option value="headAndBag">Head and Bag</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="taxonomyThreshold">Absolute Similarity Threshold</label>
                        <input class="form-control" type="text" name="taxonomyThreshold" ng-model="data.taxonomy.simThreshold"/>
                    </div>
                    <div class="col-md-6">
                        <label for="maxChildren">Max Children (Greedy only)</label>
                        <input class="form-control" type="number" name="maxChildren" ng-model="data.taxonomy.maxChildren"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="gloveFile">GloVe File</label>
                        <input class="form-control" type="text" name="gloveFile" ng-model="data.taxonomy.gloveFile"/>
                    </div>
                    <div class="col-md-6">
                        <label for="svdAveFile">SVD Average File</label>
                        <input class="form-control" type="text" name="svdAveFile" ng-model="data.taxonomy.svdAveFile"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label for="svdMinMaxFile">SVD Min-Max File</label>
                        <input class="form-control" type="text" name="svdMinMaxFile" ng-model="data.taxonomy.svdMinMaxFile"/>
                    </div>
                    <div class="col-md-6">
                        <label for="modelFile">Weka Model File</label>
                        <input class="form-control" type="modelFile" name="svdAveFile" ng-model="data.taxonomy.modelFile"/>
                    </div>
                </div>
                <div class="row">
                    <h5>Features</h5>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.inclusion">Inclusion</label>
                    </div>
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.overlap">Overlap</label>
                    </div>
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.lcs">Longest Common Subsequence</label>
                    </div>
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.svdSimAve">SVD by Average</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.svdSimMinMax">SVD by Min-Max</label>
                    </div>
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.topicDiff">Topic Difference</label>
                    </div>
                    <div class="col-md-3">
                        <label><input type="checkbox" ng-model="data.taxonomy.features.relFreq">Relative Frequency</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col"></div>
                    <div class="col col-auto">
                        <button class="btn btn-primary" ng-click="submitConfig()">Go</button>
                    </div>
                </div>
            </span>
        </div>
        <div style="clear:both;"></div>
        <!--<div id="page_footer">
            <div>
                <a href="http://www.insight-centre.org/"><img width="81" height="40" id="insight_logo" alt="INSIGHT" src="/img/insight.png" /></a>
                <a href="http://www.nuigalway.ie/"><img width="176" height="50" id="nui_logo" alt="NUI Galway" src="/img/nuigalway.png" /></a>
                <a href="http://www.sfi.ie/"><img width="175" height="75" id="sfi_logo"	alt="SFI" src="/img/sfi.png" /></a>
                <p>This resource has been funded by Science Foundation
                    Ireland under Grant No. SFI/08/CE/I1380 (Lion-2) and by Grant No. SFI/12/RC/2289 (INSIGHT)</p>
                <p>INSIGHT - National University of Ireland, Galway</p>
            </div>
        </div>-->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.js"></script>
        <script>
            angular.module('app', []);
            angular.module('app').controller('AdvancedController', function ($scope, $http) {
                $scope.data = {{config}};
                $scope.submitConfig = function() {
                    $http({
                        method: 'POST',
                        url: '/execute/advanced/{{name}}',
                        data: $scope.data
                    }).then(function() { location.reload(); });
                }
            });
        </script>
    </body>

</html>
