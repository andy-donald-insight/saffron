<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Saffron - Extracting the Valuable Threads of Expertise</title>

        <link rel="stylesheet" href="/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
        <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css">

        <link rel="shortcut icon" href="/images/favicon.png" />
    </head>
    <body>
        <div class="container-scroller">

            <nav class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row menu-boxed">
                <div class="navbar-brand-wrapper d-flex align-items-center justify-content-center">
                    <a class="navbar-brand brand-logo" href="/"><img src="/images/logo.svg" alt="logo"/></a>
                    <a class="navbar-brand brand-logo-mini" href="/"><img src="/images/logo-mini.svg" alt="logo"/></a>
                </div>
                <div class="navbar-menu-wrapper d-flex align-items-stretch">
                    <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
                        <span class="mdi mdi-menu"></span>
                    </button>
                </div>
            </nav>

            <div class="container-fluid page-body-wrapper">

                <div class="main-panel">
                    <div class="content-wrapper">

                        <div class="row" ng-app="app" ng-controller="controller">
<!-- Start instances your loop here -->
                            <div class="col-md-4 bg-gradient stretch-card grid-margin" ng-repeat="site in sites">
                                    <div class="card card-img-holder text-white">
                                            <div class="card-body">
                                                            <button class="mdi mdi-delete mdi-24px float-right" ng-click="del_site(site)"></button>
                                                            <!--                                                    <img src="images/circle.svg" class="card-img-absolute" alt="circle-image"/>-->
                                                    <a class="text-white" ng-href="/{{site}}/"><h2 class="font-weight-normal mb-3">{{site}}</h2></a>
                                                            <!-- optional FontAwesome icon -->
                                            </div>
                                    </div>
                            </div>
                        </div>
                        <br>

                        <h3>New Saffron Analysis</h3>
                        <form action="/new">
                            <div class="form-group">
                                <label for="newRunName">Identifier</label>
                                <input type="text" pattern="[A-Za-z][A-Za-z0-9_-]*" class="form-control"
                                       id="newRunName" name="name" placeholder="saffron-run-id">
                            </div>
                            <button type="submit" class="btn btn-primary">Go</button>
                        </form>



                        <footer class="footer">
                            <div class="text-center">
                                <a href="http://www.insight-centre.org/"><img width="81" height="40" id="insight_logo" alt="INSIGHT" src="/images/insight.png"></a>
                                <a href="http://www.nuigalway.ie/"><img width="176" height="50" id="nui_logo" alt="NUI Galway" src="/images/nuigalway.png"></a>
                                <a href="http://www.sfi.ie/"><img height="75" id="sfi_logo" alt="SFI" src="/images/sfi.png"></a>
                                <p>This resource has been funded by Science Foundation
                                    Ireland under Grant No. SFI/08/CE/I1380 (Lion-2) and by Grant No. SFI/12/RC/2289 (Insight Centre for Data Analytics)</p>
                                <p>&COPY; 2018 <a href="http://datascienceinstitute.ie/">Data Science Institute</a>, <a href="http://nuigalway.ie/">National University of Ireland, Galway</a></p>
                            </div>
                        </footer>

                    </div>

                </div>

            </div>



            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

            <script src="/js/off-canvas.js"></script>
            <script src="/js/misc.js"></script>



            <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-animate.min.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-aria.min.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular-messages.min.js"></script>
            <script src="https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.5/angular-material.js"></script>   
            <script>
                var sites = [{{sites}}];
                var app = angular.module('app', []);
                app.controller('controller', function($scope, $http) {
                    $scope.sites = sites;
                    $scope.del_site = function(site) {
                        if(confirm("Are you sure you want to delete this run?")) {
                            var index = $scope.sites.indexOf(site);
                            if(index >= 0) {
                                $scope.sites.splice(index, 1);
                            }
                            $http.get("/delete?" + site); 
                        }
                    };
                });
            </script>

    </body>

</html>
